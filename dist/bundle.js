!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!w[e]||!b[e])return;for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(p[n]=t[n]);0==--m&&0===y&&C()}(e,n),t&&t(e,n)};var n,r=!0,o="877307178eca7f625243",i={},a=[],s=[];function l(e){var t=I[e];if(!t)return E;var r=function(r){return t.hot.active?(I[r]?-1===I[r].parents.indexOf(e)&&I[r].parents.push(e):(a=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),a=[]),E(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return E[e]},set:function(t){E[e]=t}}};for(var i in E)Object.prototype.hasOwnProperty.call(E,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===h&&f("prepare"),y++,E.e(e).then(t,(function(e){throw t(),e}));function t(){y--,"prepare"===h&&(g[e]||S(e),0===y&&0===m&&C())}},r.t=function(e,t){return 1&t&&(e=r(e)),E.t(e,-2&t)},r}function u(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:_,apply:T,status:function(e){if(!e)return h;c.push(e)},addStatusHandler:function(e){c.push(e)},removeStatusHandler:function(e){var t=c.indexOf(e);t>=0&&c.splice(t,1)},data:i[e]};return n=void 0,t}var c=[],h="idle";function f(e){h=e;for(var t=0;t<c.length;t++)c[t].call(null,e)}var d,p,v,m=0,y=0,g={},b={},w={};function k(e){return+e+""===e?+e:e}function _(e){if("idle"!==h)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=1e4,t=t||1e4,new Promise((function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=E.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}}))).then((function(e){if(!e)return f("idle"),null;b={},g={},w=e.c,v=e.h,f("prepare");var t=new Promise((function(e,t){d={resolve:e,reject:t}}));p={};return S(0),"prepare"===h&&0===y&&0===m&&C(),t}));var t}function S(e){w[e]?(b[e]=!0,m++,function(e){var t=document.createElement("script");t.charset="utf-8",t.src=E.p+""+e+"."+o+".hot-update.js",document.head.appendChild(t)}(e)):g[e]=!0}function C(){f("ready");var e=d;if(d=null,e)if(r)Promise.resolve().then((function(){return T(r)})).then((function(t){e.resolve(t)}),(function(t){e.reject(t)}));else{var t=[];for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&t.push(k(n));e.resolve(t)}}function T(t){if("ready"!==h)throw new Error("apply() is only allowed in ready status");var n,r,s,l,u;function c(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((l=I[i])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<l.parents.length;s++){var u=l.parents[s],c=I[u];if(c){if(c.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(c.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),d(n[u],[i])):(delete n[u],t.push(u),r.push({chain:a.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var m={},y=[],g={},b=function(){console.warn("[HMR] unexpected require("+S.moduleId+") to disposed module")};for(var _ in p)if(Object.prototype.hasOwnProperty.call(p,_)){var S;u=k(_);var C=!1,T=!1,x=!1,P="";switch((S=p[_]?c(u):{type:"disposed",moduleId:_}).chain&&(P="\nUpdate propagation: "+S.chain.join(" -> ")),S.type){case"self-declined":t.onDeclined&&t.onDeclined(S),t.ignoreDeclined||(C=new Error("Aborted because of self decline: "+S.moduleId+P));break;case"declined":t.onDeclined&&t.onDeclined(S),t.ignoreDeclined||(C=new Error("Aborted because of declined dependency: "+S.moduleId+" in "+S.parentId+P));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(S),t.ignoreUnaccepted||(C=new Error("Aborted because "+u+" is not accepted"+P));break;case"accepted":t.onAccepted&&t.onAccepted(S),T=!0;break;case"disposed":t.onDisposed&&t.onDisposed(S),x=!0;break;default:throw new Error("Unexception type "+S.type)}if(C)return f("abort"),Promise.reject(C);if(T)for(u in g[u]=p[u],d(y,S.outdatedModules),S.outdatedDependencies)Object.prototype.hasOwnProperty.call(S.outdatedDependencies,u)&&(m[u]||(m[u]=[]),d(m[u],S.outdatedDependencies[u]));x&&(d(y,[S.moduleId]),g[u]=b)}var A,O=[];for(r=0;r<y.length;r++)u=y[r],I[u]&&I[u].hot._selfAccepted&&g[u]!==b&&O.push({module:u,errorHandler:I[u].hot._selfAccepted});f("dispose"),Object.keys(w).forEach((function(e){!1===w[e]&&function(e){delete installedChunks[e]}(e)}));for(var N,R,V=y.slice();V.length>0;)if(u=V.pop(),l=I[u]){var F={},H=l.hot._disposeHandlers;for(s=0;s<H.length;s++)(n=H[s])(F);for(i[u]=F,l.hot.active=!1,delete I[u],delete m[u],s=0;s<l.children.length;s++){var D=I[l.children[s]];D&&((A=D.parents.indexOf(u))>=0&&D.parents.splice(A,1))}}for(u in m)if(Object.prototype.hasOwnProperty.call(m,u)&&(l=I[u]))for(R=m[u],s=0;s<R.length;s++)N=R[s],(A=l.children.indexOf(N))>=0&&l.children.splice(A,1);for(u in f("apply"),o=v,g)Object.prototype.hasOwnProperty.call(g,u)&&(e[u]=g[u]);var L=null;for(u in m)if(Object.prototype.hasOwnProperty.call(m,u)&&(l=I[u])){R=m[u];var M=[];for(r=0;r<R.length;r++)if(N=R[r],n=l.hot._acceptedDependencies[N]){if(-1!==M.indexOf(n))continue;M.push(n)}for(r=0;r<M.length;r++){n=M[r];try{n(R)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:R[r],error:e}),t.ignoreErrored||L||(L=e)}}}for(r=0;r<O.length;r++){var j=O[r];u=j.module,a=[u];try{E(u)}catch(e){if("function"==typeof j.errorHandler)try{j.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||L||(L=n),L||(L=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||L||(L=e)}}return L?(f("fail"),Promise.reject(L)):(f("idle"),new Promise((function(e){e(y)})))}var I={};function E(t){if(I[t])return I[t].exports;var n=I[t]={i:t,l:!1,exports:{},hot:u(t),parents:(s=a,a=[],s),children:[]};return e[t].call(n.exports,n,n.exports,l(t)),n.l=!0,n.exports}E.m=e,E.c=I,E.d=function(e,t,n){E.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},E.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},E.t=function(e,t){if(1&t&&(e=E(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(E.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)E.d(n,r,function(t){return e[t]}.bind(null,r));return n},E.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return E.d(t,"a",t),t},E.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},E.p="/",E.h=function(){return o},l(45)(E.s=45)}([function(e,t,n){"use strict";e.exports=n(28)},function(e,t,n){e.exports=n(32)()},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a={};function s(e,t,n){for(var r=0;r<t.length;r++){var o={css:t[r][1],media:t[r][2],sourceMap:t[r][3]};a[e][r]?a[e][r](o):a[e].push(v(o,n))}}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,c=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=c(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,p=0;function v(e,t){var n,r,o;if(t.singleton){var i=p++;n=d||(d=l(t)),r=h.bind(null,n,i,!1),o=h.bind(null,n,i,!0)}else n=l(t),r=f.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t,n){return(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o()),e=n.base?e+n.base:e,t=t||[],a[e]||(a[e]=[]),s(e,t,n),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){a[e]||(a[e]=[]),s(e,t,n);for(var r=t.length;r<a[e].length;r++)a[e][r]();a[e].length=t.length,0===a[e].length&&delete a[e]}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var o=[].concat(e[r]);n&&(o[2]?o[2]="".concat(n," and ").concat(o[2]):o[2]=n),t.push(o)}},t}},function(e,t,n){"use strict";n.r(t);var r=n(23),o="object"==typeof self&&self&&self.Object===Object&&self,i=(r.a||o||Function("return this")()).Symbol,a=Object.prototype,s=a.hasOwnProperty,l=a.toString,u=i?i.toStringTag:void 0;var c=function(e){var t=s.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=l.call(e);return r&&(t?e[u]=n:delete e[u]),o},h=Object.prototype.toString;var f=function(e){return h.call(e)},d=i?i.toStringTag:void 0;var p=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?c(e):f(e)};var v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var m=function(e){return null!=e&&"object"==typeof e},y=Function.prototype,g=Object.prototype,b=y.toString,w=g.hasOwnProperty,k=b.call(Object);var _=function(e){if(!m(e)||"[object Object]"!=p(e))return!1;var t=v(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&b.call(n)==k},S=n(16),C="@@redux/INIT";function T(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(T)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){return i}function h(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return u(),s.push(e),function(){if(t){t=!1,u();var n=s.indexOf(e);s.splice(n,1)}}}function f(e){if(!_(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(l)throw new Error("Reducers may not dispatch actions.");try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:C}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,f({type:C})}})[S.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[S.a]=function(){return this},e},r}function I(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function E(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i=Object.keys(n);var a=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:C}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+C+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){a=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(a)throw a;for(var r=!1,o={},s=0;s<i.length;s++){var l=i[s],u=n[l],c=e[l],h=u(c,t);if(void 0===h){var f=I(l,t);throw new Error(f)}o[l]=h,r=r||h!==c}return r?o:e}}function x(e,t){return function(){return t(e.apply(void 0,arguments))}}function P(e,t){if("function"==typeof e)return x(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=x(a,t))}return r}function A(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function N(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i,a=e(n,r,o),s=a.dispatch,l={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map((function(e){return e(l)})),s=A.apply(void 0,i)(a.dispatch),O({},a,{dispatch:s})}}}n.d(t,"createStore",(function(){return T})),n.d(t,"combineReducers",(function(){return E})),n.d(t,"bindActionCreators",(function(){return P})),n.d(t,"applyMiddleware",(function(){return N})),n.d(t,"compose",(function(){return A}))},function(e,t,n){"use strict";e.exports=n(34)},function(e,t,n){"use strict";var r=n(5),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var o=d(n);o&&o!==p&&e(t,o,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(t),v=l(n),m=0;m<a.length;++m){var y=a[m];if(!(i[y]||r&&r[y]||v&&v[y]||s&&s[y])){var g=f(n,y);try{u(t,y,g)}catch(e){}}}}return t}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},,function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(t=n(3)(!1)).push([e.i,'html {\n  height:100%;\n}\n\nbody {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  min-height:100vh;\n}\n\n#root {\n  min-height:100vh;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n    monospace;\n}\n',""]),e.exports=t},function(e,t,n){(t=n(3)(!1)).push([e.i,".intro {\r\n    background-color: #282c34;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-evenly;\r\n    font-size: calc(10px + 1vmin);\r\n    color: white;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}",""]),e.exports=t},function(e,t,n){(t=n(3)(!1)).push([e.i,".intro {\r\n    background-color: #282c34;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-evenly;\r\n    font-size: calc(10px + 1vmin);\r\n    color: white;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}",""]),e.exports=t},function(e,t,n){(t=n(3)(!1)).push([e.i,".guide {\r\n    background-color: #282c34;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: left;\r\n    justify-content: space-evenly;\r\n    font-size: calc(10px + 1vmin);\r\n    color: white;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}",""]),e.exports=t},function(e,t,n){(t=n(3)(!1)).push([e.i,".intro {\r\n    background-color: #282c34;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: space-evenly;\r\n    font-size: calc(10px + 1vmin);\r\n    color: white;\r\n    padding-left: 10px;\r\n    padding-right: 10px;\r\n}",""]),e.exports=t},function(e,t,n){(t=n(3)(!1)).push([e.i,"\n.App {\n  text-align: left;\n  background-color: #282c34;\n  min-height: 100vh;\n}\n\n.App-logo {\n  height: 10vmin;\n  padding-right: 5px;\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 10vh;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #09d3ac;\n}\n\n.nav-link {\n  color: #09d3ac;\n}",""]),e.exports=t},function(e,t,n){"use strict";(function(e,r){var o,i=n(22);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(9),n(35)(e))},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(42);e.exports=d,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=f;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var h=n[0],f=n[1],d=n.index;if(s+=e.slice(a,d),a=d+h.length,f)s+=f[1];else{var p=e[a],v=n[2],m=n[3],y=n[4],g=n[5],b=n[6],w=n[7];s&&(r.push(s),s="");var k=null!=v&&null!=p&&p!==v,_="+"===b||"*"===b,S="?"===b||"*"===b,C=n[2]||c,T=y||g;r.push({name:m||i++,prefix:v||"",delimiter:C,optional:S,repeat:_,partial:k,asterisk:!!w,pattern:T?u(T):w?".*":"[^"+l(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",h(t)));return function(t,o){for(var i="",s=t||{},l=(o||{}).pretty?a:encodeURIComponent,u=0;u<e.length;u++){var c=e[u];if("string"!=typeof c){var h,f=s[c.name];if(null==f){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(r(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=l(f[d]),!n[u].test(h))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===d?c.prefix:c.delimiter)+h}}else{if(h=c.asterisk?encodeURI(f).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(f),!n[u].test(h))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+h+'"');i+=c.prefix+h}}else i+=c}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function c(e,t){return e.keys=t,e}function h(e){return e&&e.sensitive?"":"i"}function f(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var u=e[s];if("string"==typeof u)a+=l(u);else{var f=l(u.prefix),d="(?:"+u.pattern+")";t.push(u),u.repeat&&(d+="(?:"+f+d+")*"),a+=d=u.optional?u.partial?f+"("+d+")?":"(?:"+f+"("+d+"))?":f+"("+d+")"}}var p=l(n.delimiter||"/"),v=a.slice(-p.length)===p;return o||(a=(v?a.slice(0,-p.length):a)+"(?:"+p+"(?=$))?"),a+=i?"$":o&&v?"":"(?="+p+"|$)",c(new RegExp("^"+a,h(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return c(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(d(e[o],t,n).source);return c(new RegExp("(?:"+r.join("|")+")",h(n)),t)}(e,t,n):function(e,t,n){return f(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))o.call(n,c)&&(l[c]=n[c]);if(r){s=r(n);for(var h=0;h<s.length;h++)i.call(n,s[h])&&(l[s[h]]=n[s[h]])}}return l}},function(e,t,n){"use strict";var r=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r)return r;throw new Error("unable to locate global object")}();e.exports=t=r.fetch,t.default=r.fetch.bind(r),t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(29)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(9))},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(9))},function(e,t,n){"use strict";var r=n(4).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e){e.exports=JSON.parse('{"inkVersion":18,"root":[["ev",{"VAR?":"DEBUG"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^IN DEBUG MODE!","\\n","ev","str","^Beginning...","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Framing Hooper...","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^In with Hooper...","/str","/ev",{"*":".^.c-2","flg":20},{"->":"0.5"},{"c-0":["^\\t",{"->":"start"},"\\n",{"#f":5}],"c-1":["^ ",{"->":"claim_hooper_took_component"},"\\n",{"#f":5}],"c-2":["^ ",{"->":"inside_hoopers_hut"},"\\n",{"#f":5}]}]}],[{"->":".^.b"},{"b":["\\n",{"->":"start"},{"->":"0.5"},null]}],"nop","\\n",["done",{"#n":"g-0"}],null],"done",{"lower":[{"temp=":"x"},"ev",{"VAR?":"x"},1,"-","/ev",{"temp=":"x","re":true},{"#f":3}],"raise":[{"temp=":"x"},"ev",{"VAR?":"x"},1,"+","/ev",{"temp=":"x","re":true},{"#f":3}],"start":[[["^They are keeping me waiting.","\\n",["ev",{"^->":"start.0.g-0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^Hut 14",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"start.0.g-0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"^. The door was locked after I sat down.","\\n","^I don\'t even have a pen to do any work. There\'s a copy of the morning\'s intercept in my pocket, but staring at the jumbled letters will only drive me mad.","\\n","^I am not a machine, whatever they say about me.","\\n",{"->":".^.^.^.opts"},{"#f":5}],"#n":"g-0"}],{"opts":[["ev","visit",2,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop",{"->":".^.^.23"},null],"s1":["pop","^I rattle my fingers on the field table.",{"->":".^.^.23"},null],"s2":["pop",{"->":".^.^.23"},null],"#f":5}],"\\n","ev","str","^Think","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Plan","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Wait","/str","/ev",{"*":".^.c-3","flg":20},{"c-1":["\\n","^They suspect me to be a traitor. They think I stole the component from the calculating machine. They will be searching my bunk and cases.","\\n","^When they don\'t find it, ","ev",{"CNT?":".^.^.c-2"},"/ev",[{"->":".^.b","c":true},{"b":["^then",{"->":".^.^.^.8"},null]}],"nop","^ they\'ll come back and demand I talk.","\\n",{"->":".^.^"},{"->":".^.^.^.g-1"},{"#f":5}],"c-2":["\\n","ev",{"CNT?":".^.^.c-1"},"!","/ev",[{"->":".^.b","c":true},{"b":["^What I am is",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^I am",{"->":".^.^.^.7"},null]}],"nop","^ a problem—solver. Good with figures, quick with crosswords, excellent at chess.","\\n","^But in this scenario — in this trap — what is the winning play?","\\n",["ev","str","^Co—operate","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Dissemble","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Divert","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^I must co—operate. My credibility is my main asset. To contradict myself, or another source, would be fatal.","\\n","^I must simply hope they do not ask the questions I do not want to answer.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n",{"->":"start.0.g-1"},{"#f":5}],"c-1":["\\n","^Misinformation, then. Just as the war in Europe is one of plans and interceptions, not planes and bombs.","\\n","^My best hope is a story they prefer to the truth.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":"start.0.g-1"},{"#f":5}],"c-2":["\\n","^Avoidance and delay. The military machine never fights on a single front. If I move slowly enough, things will resolve themselves some other way, my reputation intact.","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":"start.0.g-1"},{"#f":5}]}],{"#f":5}],"c-3":["\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":[{"->":"start.waited"},null]}],{"waited":[[["^Half an hour goes by before Commander Harris returns. He closes the door behind him quickly, as though afraid a loose word might slip inside.","\\n","^\\"Well, then,\\" he begins, awkwardly. This is an unseemly situation.","\\n",["ev",{"^->":"start.waited.0.g-0.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^\\"Commander.\\"",{"->":"$r","var":true},null]}],["ev",{"^->":"start.waited.0.g-0.5.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":"start.0.opts.c-2.12.c-2"},"!","/ev",{"*":".^.^.c-1","flg":19},{"s":["^\\"Tell me what this is about.\\"",{"->":"$r","var":true},null]}],"ev","str","^Wait","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["ev",{"^->":"start.waited.0.g-0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"\\n","^He nods. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-1":["ev",{"^->":"start.waited.0.g-0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.5.s"},[{"#n":"$r2"}],"\\n","^He shakes his head.","\\n","^\\"Now, don\'t let\'s pretend.\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-2":["\\n","^I say nothing.","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"#n":"g-0"}],{"g-1":["^He has brought two cups of tea in metal mugs: he sets them down on the tabletop between us.","\\n","ev","str","^Deny","/str",{"CNT?":".^.^.g-0.c-1"},"/ev",{"*":".^.c-3","flg":21},"ev","str","^Take one","/str","/ev",{"*":".^.c-4","flg":20},["ev",{"^->":"start.waited.0.g-1.15.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"CNT?":".^.^.^.g-0.c-1"},"!","/ev",{"*":".^.^.c-5","flg":19},{"s":["^\\"What\'s going on?\\"",{"->":"$r","var":true},null]}],"ev","str","^Wait","/str","/ev",{"*":".^.c-6","flg":20},{"c-3":["^ \\"I\'m not pretending anything.\\"","\\n","ev",{"CNT?":"start.0.opts.c-2.12.c-0"},"/ev",[{"->":".^.b","c":true},{"b":["^I\'m lying already, despite my good intentions.",{"->":".^.^.^.6"},null]}],"nop","\\n","^Harris looks disapproving. ",{"->":".^.^.c-6.3.pushes_cup"},"\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-4":["\\n","ev",1,"/ev",{"VAR=":"teacup","re":true},"^I take a mug and warm my hands. It\'s ","<>","\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-5":["ev",{"^->":"start.waited.0.g-1.c-5.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.15.s"},[{"#n":"$r2"}],"\\n","^\\"You know already.\\"","\\n",{"->":".^.^.c-6.3.pushes_cup"},{"->":".^.^.^.g-2"},{"#f":5}],"c-6":["\\n","^I wait for him to speak.","\\n",[["^He pushes one mug halfway towards me: ","<>","\\n",{"->":".^.^.^.^.^.g-2"},{"#n":"pushes_cup"}],null],{"#f":5}]}],"g-2":["^a small gesture of friendship.","\\n","^Enough to give me hope?","\\n","ev","str","^Take it","/str",{"VAR?":"teacup"},"!","/ev",{"*":".^.c-7","flg":21},"ev","str","^Don\'t take it","/str",{"VAR?":"teacup"},"!","/ev",{"*":".^.c-8","flg":21},"ev","str","^Drink","/str",{"VAR?":"teacup"},"/ev",{"*":".^.c-9","flg":21},"ev","str","^Wait","/str",{"VAR?":"teacup"},"/ev",{"*":".^.c-10","flg":21},{"c-7":["\\n","^I ","ev",{"CNT?":".^.^.^.g-1.c-4"},"/ev",[{"->":".^.b","c":true},{"b":["^lift the mug",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^take the mug,",{"->":".^.^.^.7"},null]}],"nop","^ and blow away the steam. It is too hot to drink.","\\n","^Harris picks his own up and just holds it.","\\n","ev",1,"/ev",{"VAR=":"teacup","re":true},"ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-8":["\\n","^Just a cup of insipid canteen tea. I leave it where it is.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-9":["\\n","^I raise the cup to my mouth but it\'s too hot to drink.","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-10":["\\n","^I say nothing as ",{"->":".^.^.c-7"},"\\n",{"->":".^.^.^.g-3"},{"#f":5}]}],"g-3":["^\\"Quite a difficult situation,\\" ","ev",{"CNT?":".^.^.g-2.c-7"},"/ev",[{"->":".^.b","c":true},{"b":["^he",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["^Harris",{"->":".^.^.^.6"},null]}],"nop","^ begins","ev",{"VAR?":"forceful"},0,"<=","/ev",[{"->":".^.b","c":true},{"b":["^, sternly",{"->":".^.^.^.14"},null]}],"nop","^. I\'ve seen him adopt this stiff tone of voice before, but only when talking to the brass. \\"I\'m sure you agree.\\"","\\n","ev","str","^Agree","/str","/ev",{"*":".^.c-11","flg":20},"ev","str","^Disagree","/str","/ev",{"*":".^.c-12","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-13","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-14","flg":20},{"c-11":["\\n","^\\"Awkward,\\" I reply","\\n",{"->":".^.^.^.g-4"},{"#f":5}],"c-12":["\\n","^\\"I don\'t see why,\\" I reply","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.^.g-4"},{"#f":5}],"c-13":["^ ",{"->":".^.^.c-12"},"\\n",{"->":".^.^.^.g-4"},{"#f":5}],"c-14":["\\n","^\\"I\'m sure you\'ve handled worse,\\" I reply casually","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.^.g-4"},{"#f":5}]}],"g-4":["ev",{"VAR?":"teacup"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","ev",1,"/ev",{"VAR=":"drugged","re":true},"<>","^, sipping at my tea as though we were old friends","\\n",{"->":".^.^.^.4"},null]}],"nop","\\n","<>","^.","\\n",["ev","str","^Watch him","/str","/ev",{"*":".^.c-15","flg":20},"ev","str","^Wait","/str","/ev",{"*":".^.c-16","flg":20},"ev","str","^Smile","/str",{"CNT?":".^.^.^.g-3.c-12"},"!","/ev",{"*":".^.c-17","flg":21},{"c-15":["\\n","^His face is telling me nothing. I\'ve seen Harris broad and full of laughter. Today he is tight, as much part of the military machine as the device in Hut 5.","\\n",{"->":".^.^.^.^.g-6"},{"#f":5}],"c-16":["\\n","^I wait to see how he\'ll respond.","\\n",{"->":".^.^.^.^.g-6"},{"#f":5}],"c-17":["\\n","^I try a weak smile. It is not returned.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n",{"->":".^.^.^.^.g-6"},{"#f":5}],"#n":"g-5"}],null],"g-6":["^\\"We need that component,\\" he says.","\\n",["ev",{"CNT?":"missing_reel"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n",{"->t->":"missing_reel"},{"->":"harris_demands_component"},{"->":".^.^.^.5"},null]}],"nop","\\n",["ev","str","^Yes","/str","/ev",{"*":".^.c-18","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-19","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-20","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-21","flg":20},{"c-18":["\\n","^\\"Of course I do,\\" I answer.","\\n",{"->":".^.^.^.^.^.g-9"},{"#f":5}],"c-19":["\\n","^\\"No I don\'t. And I\'ve got work to do...\\"","\\n","^\\"Work that will be rather difficult for you to do, don\'t you think?\\" Harris interrupts.","\\n",{"->":".^.^.^.^.^.g-9"},{"#f":5}],"c-20":["\\n",{"->":"here_at_bletchley_diversion"},{"->":".^.^.^.^.^.g-9"},{"#f":5}],"c-21":["\\n",{"->":".^.^.c-19"},{"->":".^.^.^.^.^.g-9"},{"#f":5}],"#n":"g-8"}],{"#n":"g-7"}],null],"g-9":[{"->t->":"missing_reel"},{"->":"harris_demands_component"},null]}],{"#f":3}],"#f":3}],"missing_reel":[["ev","str","^The stolen component...","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Shrug","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^I shrug.","\\n","ev","void","/ev","->->",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^The reel went missing from the Bombe this afternoon. The four of us were in the Hut, working on the latest German intercept. The results were garbage. It was Russell who found the gap in the plugboard.","\\n",["^Any of us could have taken it; and no one else would have known its worth.","\\n","ev","str","^Panic","/str",{"VAR?":"forceful"},0,"<=","/ev",{"*":".^.c-2","flg":21},"ev","str","^Calculate","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Deny","/str",{"VAR?":"evasive"},0,">=","/ev",{"*":".^.c-4","flg":21},{"c-2":["^ They will pin it on me. They need a scapegoat so that the work can continue. I\'m a likely target. Weaker than the rest.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n",{"->":".^.^.^.^.g-2"},{"#f":5}],"c-3":["^ My odds, then, are one in four. Not bad; although the stakes themselves are higher than I would like.","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.^.^.g-2"},{"#f":5}],"c-4":["^ But this is still a mere formality. The work will not stop. A replacement component will be made and we will all be put back to work. We are too valuable to shoot.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.^.^.g-2"},{"#f":5}],"#n":"g-1"}],null],"g-2":["ev","void","/ev","->->",null]}],{"#f":3}],"here_at_bletchley_diversion":[["^\\"Here at Bletchley? Of course.\\"","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n","^\\"Here, now,\\" Harris corrects. \\"We are not talking to everyone. I can imagine you might feel pretty sore about that. I can imagine you feeling picked on. ","ev",{"VAR?":"forceful"},0,"<","/ev",[{"->":".^.b","c":true},{"b":["^You\'re a sensitive soul.",{"->":".^.^.^.21"},null]}],"nop","^\\"","\\n",["ev",{"^->":"here_at_bletchley_diversion.0.24.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.\\"","/str","/ev",{"*":".^.^.c-0","flg":22},{"s":["^\\"I\'m fine",{"->":"$r","var":true},null]}],["ev",{"^->":"here_at_bletchley_diversion.0.25.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str",{"VAR?":"forceful"},0,"<","/ev",{"*":".^.^.c-1","flg":19},{"s":["^\\"What do you mean by that?\\"",{"->":"$r","var":true},null]}],["ev",{"^->":"here_at_bletchley_diversion.0.26.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.\\"","/str",{"VAR?":"forceful"},0,">=","/ev",{"*":".^.^.c-2","flg":23},{"s":["^\\"Damn right",{"->":"$r","var":true},null]}],"ev","str","^Be honest","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-4","flg":20},{"c-0":["ev",{"^->":"here_at_bletchley_diversion.0.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.24.s"},[{"#n":"$r2"}],"^,\\" I reply. \\"This is all some misunderstanding and the quicker we have it cleared up the better.\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n","^\\"I couldn\'t agree more.\\" And then he comes right out with it, with an accusation.","\\n",{"->":".^.^.done"},{"#f":5}],"c-1":["ev",{"^->":"here_at_bletchley_diversion.0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.25.s"},[{"#n":"$r2"}],"\\n",{"->":".^.^.done"},{"#f":5}],"c-2":["ev",{"^->":"here_at_bletchley_diversion.0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.26.s"},[{"#n":"$r2"}],"^ I\'m sore. Was it one of the others who put you up to this? Was it Hooper? He\'s always been jealous of me. He\'s...\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n","ev",1,"/ev",{"VAR=":"hooper_mentioned","re":true},"^The Commander moustache bristles as he purses his lips. \\"Has he now? Of your achievements, do you think?\\"","\\n","^It\'s difficult not to shake the sense that he\'s ","ev",{"VAR?":"evasive"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^mocking",{"->":".^.^.^.28"},null]}],[{"->":".^.b"},{"b":["^simply humouring",{"->":".^.^.^.28"},null]}],"nop","^ me.","\\n","^\\"Or of your brain? Or something else?\\"","\\n",[["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-0","flg":22},{"s":["^\\"Of my genius.",{"->":"$r","var":true},null]}],["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-1","flg":22},{"s":["^\\"Of my standing.",{"->":"$r","var":true},null]}],"ev","str","^Evade","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"^ Hooper simply can\'t stand that I\'m cleverer than he is. We work so closely together, cooped up in that Hut all day. It drives him to distraction. To worse.\\"","\\n","^\\"You\'re suggesting Hooper would sabotage this country\'s future simply to spite you?\\" Harris chooses his words like the military man he is, each lining up to create a ring around me.","\\n",["ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"","ev",{"VAR?":"forceful"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^He\'s petty enough, certainly",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^I wouldn\'t put it past him",{"->":".^.^.^.9"},null]}],"nop","^. He\'s a creep.\\" ","ev",{"VAR?":"teacup"},"/ev",[{"->":".^.b","c":true},{"b":["^ I set the teacup down.",{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["^I wipe a hand across my forehead.",{"->":".^.^.^.16"},null]}],"nop","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n","ev",0,"/ev",{"VAR=":"teacup","re":true},{"->":".^.^.suggest_its_a_lie"},{"#f":5}],"c-1":["\\n","^\\"No, ","ev",{"VAR?":"forceful"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^of course not",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^I suppose not",{"->":".^.^.^.9"},null]}],"nop","^.\\" ","ev",{"VAR?":"teacup"},"/ev",[{"->":".^.b","c":true},{"b":["^I put the teacup back down on the table",{"->":".^.^.^.16"},null]}],[{"->":".^.b"},{"b":["^I push the teacup around on its base",{"->":".^.^.^.16"},null]}],"nop","^.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n","ev",0,"/ev",{"VAR=":"teacup","re":true},{"->":".^.^.suggest_its_a_lie"},{"#f":5}],"c-2":["\\n","^\\"I don\'t know what I\'m suggesting. I don\'t understand what\'s going on.\\"","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n","^\\"But of course you do.\\" Harris narrows his eyes.","\\n",{"->":".^.^.^.^.^.^.done"},{"->":".^.^.suggest_its_a_lie"},{"#f":5}],"suggest_its_a_lie":["^\\"All I can say is, ever since I arrived here, he\'s been looking to ways to bring me down a peg. I wouldn\'t be surprised if he set this whole affair up just to have me court—martialled.\\"","\\n","^\\"We don\'t court—martial civilians,\\" Harris replies. \\"Traitors are simply hung at her Majesty\'s pleasure.\\"","\\n",["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.c-0.10.suggest_its_a_lie.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.\\"","/str","/ev",{"*":".^.^.c-3","flg":22},{"s":["^\\"Quite right",{"->":"$r","var":true},null]}],["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.c-0.10.suggest_its_a_lie.5.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.\\"","/str","/ev",{"*":".^.^.c-4","flg":22},{"s":["^\\"I\'m no traitor",{"->":"$r","var":true},null]}],"ev","str","^Lie","/str","/ev",{"*":".^.c-5","flg":20},{"c-3":["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.c-0.10.suggest_its_a_lie.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"^,\\" I answer smartly.","\\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-4":["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.c-0.10.suggest_its_a_lie.c-4.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.5.s"},[{"#n":"$r2"}],"^,\\" I answer","ev",{"VAR?":"forceful"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^smartly",{"->":".^.^.^.14"},null]}],[{"->":".^.b"},{"b":["^, voice quivering. \\"For God\'s sake!\\"",{"->":".^.^.^.14"},null]}],"nop","\\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-5":["^ ",{"->":".^.^.c-4"},"\\n",{"->":".^.^.^.g-0"},{"#f":5}]}],"g-0":["^He stares back at me.","\\n",{"->":".^.^.^.^.^.^.done"},null]}],{"#f":5}],"c-1":["ev",{"^->":"here_at_bletchley_diversion.0.c-2.33.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"^ My reputation.\\" ","ev",{"VAR?":"forceful"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^I\'m aware of how arrogant I must sound but I plough on all the same.",{"->":".^.^.^.14"},null]}],[{"->":".^.b"},{"b":["^I don\'t like to talk of myself like this, but I carry on all the same.",{"->":".^.^.^.14"},null]}],"nop","^ \\"Hooper simply can\'t bear knowing that, once all this is over, I\'ll be the one receiving the knighthood and he...\\"","\\n","^\\"No—one will be getting a knighthood if the Germans make landfall,\\" Harris answers sharply. He casts a quick eye to the door of the Hut to check the latch is still down, then continues in more of a murmur: \\"Not you and not Hooper. Now answer me.\\"","\\n","^For the first time since the door closed, I wonder what the threat might be if I do <i>not</i>.","\\n",{"->":".^.^.^.^.done"},{"#f":5}],"c-2":["\\n","ev",0,"/ev",{"VAR=":"teacup","re":true},"ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n","^\\"How should I know?\\" I reply, defensively. ","ev",{"VAR?":"teacup"},"/ev",[{"->":".^.b","c":true},{"b":["^I set the teacup back on the table.",{"->":".^.^.^.16"},null]}],"nop","^ ",{"->":".^.^.c-0.10.suggest_its_a_lie"},"\\n",{"->":".^.^.^.^.done"},{"#f":5}]}],{"#f":5}],"c-3":["^ \\t",{"->":".^.^.c-2"},"\\n",{"->":".^.^.done"},{"#f":5}],"c-4":["^ \\t\\t",{"->":".^.^.c-0"},"\\n",{"->":".^.^.done"},{"#f":5}],"done":[{"->":"harris_demands_component"},null]}],{"#f":3}],"harris_demands_component":[["^\\"","ev",{"CNT?":"here_at_bletchley_diversion"},"/ev",[{"->":".^.b","c":true},{"b":["^Please",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["^So",{"->":".^.^.^.6"},null]}],"nop","^. Do you have it?\\" Harris is ","ev",{"VAR?":"forceful"},3,">","/ev",[{"->":".^.b","c":true},{"b":["^sweating slightly",{"->":".^.^.^.15"},null]}],[{"->":".^.b"},{"b":["^wasting no time",{"->":".^.^.^.15"},null]}],"nop","^: Bletchley is his watch. \\"Do you know where it is?\\"","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["\\n","^\\"I do.\\"","\\n",{"->":"admitted_to_something"},{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ \\"I have no idea.\\"","\\n",{"->":".^.^.silence"},{"->":".^.^.g-0"},{"#f":5}],"c-2":["^ \\t\\t",{"->":".^.^.c-1"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["\\n","^\\"The component?\\"","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n","^\\"Don\'t play stupid,\\" he replies. \\"","ev",{"CNT?":"missing_reel"},"!","/ev",[{"->":".^.b","c":true},{"b":["^The component that went missing this afternoon. ",{"->":".^.^.^.21"},null]}],"nop","^Where is it?\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["ev",{"CNT?":"missing_reel"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n",{"->t->":"missing_reel"},{"->":".^.^.^.5"},null]}],"nop","\\n","ev","str","^Co-operate","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Delay","/str","/ev",{"*":".^.c-5","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-6","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-7","flg":20},{"c-4":["^ \\"I know where it is.\\"","\\n",{"->":"admitted_to_something"},{"->":".^.^.^.silence"},{"#f":5}],"c-5":["^ \\"I know nothing about it.\\" My voice shakes","ev",{"VAR?":"forceful"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^  with anger",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^; I\'m unaccustomed to facing off against men with holstered guns",{"->":".^.^.^.8"},null]}],"nop","^.","\\n",{"->":".^.^.^.silence"},{"#f":5}],"c-6":["^ ",{"->":".^.^.c-5"},"\\n",{"->":".^.^.^.silence"},{"#f":5}],"c-7":["\\n","^\\"I don\'t know what gives you the right to pick on me. ","ev",{"VAR?":"forceful"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^I demand a lawyer.",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^I want a lawyer.",{"->":".^.^.^.9"},null]}],"nop","^\\"","\\n","^\\"This is time of war,\\" Harris answers.  \\"And by God, if I have to shoot you to recover the component, I will. Understand?\\" He points at the mug, ",{"->":".^.^.^.silence.drinkit"},"\\n",{"->":".^.^.^.silence"},{"#f":5}]}],"silence":["^There\'s an icy silence. ","ev",{"VAR?":"forceful"},2,">","/ev",[{"->":".^.b","c":true},{"b":["^I\'ve cracked him a little.",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["ev",{"VAR?":"evasive"},2,">","/ev",[{"->":".^.b","c":true},{"b":["^He\'s tiring of my evasiveness.",{"->":".^.^.^.6"},null]}],"nop",{"->":".^.^.^.8"},null]}],"nop","\\n",["^\\"Now drink your tea and talk.\\"","\\n","ev","str","^Drink","/str",{"VAR?":"teacup"},"/ev",{"*":".^.c-8","flg":21},"ev","str","^Put the cup down","/str",{"VAR?":"teacup"},"/ev",{"*":".^.c-9","flg":21},"ev","str","^Take the cup","/str",{"VAR?":"teacup"},"!","/ev",{"*":".^.c-10","flg":21},"ev","str","^Don\'t take it","/str",{"VAR?":"teacup"},"!","/ev",{"*":".^.c-11","flg":21},{"c-8":["^ \\t\\t\\t",{"->":".^.^.c-10.1.drinkfromcup"},"\\n",{"->":".^.^.^.^.g-1"},{"#f":5}],"c-9":["\\n","^I set the cup carefully down on the table once more.","\\n","ev",0,"/ev",{"VAR=":"teacup","re":true},"ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.c-11.9.whatsinit"},{"->":".^.^.^.^.g-1"},{"#f":5}],"c-10":["\\n",[["^I lift the cup ","ev",{"VAR?":"teacup"},"/ev",[{"->":".^.b","c":true},{"b":["^to my lips ",{"->":".^.^.^.5"},null]}],"nop","^and sip. He waits for me to swallow before speaking again.","\\n","ev",1,"/ev",{"VAR=":"drugged","re":true},"ev",1,"/ev",{"VAR=":"teacup","re":true},{"->":".^.^.^.^.^.^.g-1"},{"#f":5,"#n":"drinkfromcup"}],null],{"#f":5}],"c-11":["\\n","^I leave the cup where it is.","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",[["^\\"Why?\\" I ask coldly. \\"What\'s in it?\\"","\\n",{"->":".^.^.^.^.^.^.g-1"},{"#n":"whatsinit"}],null],{"#f":5}],"#n":"drinkit"}],null],"g-1":["^\\"Lapsang Souchong,\\" he ","ev",{"CNT?":".^.^.silence.drinkit.c-10.1.drinkfromcup"},"/ev",[{"->":".^.b","c":true},{"b":["^remarks",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["^replies",{"->":".^.^.^.6"},null]}],"nop","^, placing his own cup back on the table untouched. \\"Such a curious flavour. It might almost not be tea at all. You might say it hides a multitude of sins. As do you. Isn\'t that right?\\"","\\n","ev","str","^Agree","/str","/ev",{"*":".^.c-12","flg":20},"ev","str","^Disagree","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-13","flg":21},"ev","str","^Disagree","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-14","flg":21},"ev","str","^Lie","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-15","flg":21},"ev","str","^Lie","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-16","flg":21},"ev","str","^Evade","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-17","flg":21},"ev","str","^Evade","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-18","flg":21},{"c-12":["\\n","^\\"I suppose so,\\" I reply. \\"I\'ve done things I shouldn\'t have done.\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n",{"->":"harris_presses_for_details"},{"#f":5}],"c-13":["\\n","^\\"I\'ve done nothing that I\'m ashamed of.\\"","\\n",{"->":"harris_asks_for_theory"},{"#f":5}],"c-14":["\\n","^I open my mouth to disagree, but the words I want won\'t come. It is like Harris has taken a screwdriver to the sides of my jaw.","\\n",{"->":"admitted_to_something.ive_done_things"},{"#f":5}],"c-15":["^ \\t",{"->":".^.^.c-14"},"\\n",{"#f":5}],"c-16":["^ \\t",{"->":".^.^.c-13"},"\\n",{"#f":5}],"c-17":["^ ",{"->":".^.^.c-14"},"\\n",{"#f":5}],"c-18":["\\n","^\\"None of us are blameless, Harris. ","ev",{"VAR?":"forceful"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^But you\'re not my priest and I\'m not yours",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^But I\'ve done nothing to deserve this treatment",{"->":".^.^.^.9"},null]}],"nop","^. Now, please. Let me go. I\'ll help you find this damn component, of course I will.\\"","\\n","^He appears to consider the offer.","\\n",{"->":"harris_asks_for_theory"},{"#f":5}]}]}],{"#f":3}],"harris_presses_for_details":[["^\\"You mean you\'ve left yourself open,\\" Harris answers. \\"To pressure. Is that what you\'re saying?\\"","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^No","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-2","flg":21},"ev","str","^Evade","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-3","flg":21},"ev","str","^Evade","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-4","flg":21},{"c-0":["^ ",{"->":".^.^.^.admit_open_to_pressure"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"I\'m not saying anything of the sort,\\" I snap back. \\"What is this, Harris? You\'re accusing me of treachery but I don\'t see a shred of evidence for it! Why don\'t you put your cards on the table?\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^I shake my head violently, to say no, that\'s not it, but whatever is wrong with tongue is wrong with neck too. I look across at the table at Harris\' face and realise with a start how sympathetic he is. Such a kind, generous man. How can I hold anything back from him?","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n","^I take another mouthful of the bitter, strange—tasting tea before answering.","\\n",{"->":".^.^.^.admit_open_to_pressure"},{"->":".^.^.g-0"},{"#f":5}],"c-3":["\\n","^\\"You\'re the one applying pressure here,\\" I answer ","ev",{"VAR?":"forceful"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^smartly",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^somewhat miserably",{"->":".^.^.^.9"},null]}],"nop","^. \\"I\'m just waiting until you tell me what is really going on.\\"","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-4":["\\n","^\\"We\'re all under pressure here.\\"","\\n","^He looks at me with pity. ",{"->":"harris_has_seen_it_before"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^\\"It\'s simple enough,\\" Harris says. ",{"->":"harris_has_seen_it_before"},"\\n",null]}],{"admit_open_to_pressure":["^\\"That\'s it,\\" I reply. \\"There are some things... which a man shouldn\'t do.\\"","\\n","ev",1,"/ev",{"VAR=":"admitblackmail","re":true},"^Harris doesn\'t stiffen. Doesn\'t lean away, as though my condition might be infectious. I had thought they trained them in the army to shoot my kind on sight.","\\n","^He offers no sympathy either. He nods, once. His understanding of me is a mere turning cog in his calculations, with no meaning to it.","\\n",{"->":"harris_has_seen_it_before"},{"#f":3}],"#f":3}],"admitted_to_something":[["ev",{"VAR?":"drugged"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^Harris stares back at me. ","ev",{"VAR?":"evasive"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["^He cannot have expected it to be so easy to break me.",{"->":".^.^.^.8"},null]}],"nop","\\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\\n","^Harris smiles with satisfaction, as if your willingness to talk was somehow his doing.","\\n",{"->":".^.^.^.6"},null]}],"nop","\\n","^\\"I see.\\"","\\n","^There\'s a long pause, like the delay between feeding a line of cypher into the Bombe and waiting for its valves to warm up enough to begin processing.","\\n","^\\"You want to explain that?\\"","\\n","ev","str","^Explain","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t explain","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Lie","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-2","flg":21},"ev","str","^Evade","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-3","flg":21},"ev","str","^Say nothing","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-4","flg":21},{"c-0":["\\n","^I pause a moment, trying to choose my words. To just come out and say it, after a lifetime of hiding... that is a circle I cannot square.","\\n",["ev","str","^Explain","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Say nothing","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-1","flg":21},"ev","str","^Lie","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-2","flg":21},{"c-0":["^ \\t",{"->":".^.^.^.^.^.ive_done_things"},"\\n",{"#f":5}],"c-1":["^ \\t",{"->":".^.^.^.^.c-4"},"\\n",{"#f":5}],"c-2":["^ \\t",{"->":"claim_hooper_took_component"},"\\n",{"#f":5}]}],{"#f":5}],"c-1":["\\n","^\\"There\'s nothing to explain,\\" I reply stiffly. ",{"->":".^.^.^.i_know_where"},"\\n",{"#f":5}],"c-2":["^ ",{"->":"claim_hooper_took_component"},"\\n",{"#f":5}],"c-3":["\\n","^\\"Explain what you should be doing, do you mean, rather than bullying me? Certainly.\\" I fold my arms. ",{"->":".^.^.^.i_know_where"},"\\n",{"#f":5}],"c-4":["\\n","^I fold my arms, intended firmly to say nothing. But somehow, watching Harris\' face, I cannot bring myself to do it. I want to confess. I want to tell him everything I can, to explain myself to him, to earn his forgiveness. The sensation is so strong my will is powerless in the face of it.","\\n","^Something is wrong with me, I am sure of it. There is a strange, bitter flavour on my tongue. I taste it as words start to form.","\\n",{"->":".^.^.^.ive_done_things"},{"#f":5}]}],{"i_know_where":["^\\"I know where your component is because it\'s obvious where your component is. That doesn\'t mean I took it, just because I can figure out a simple problem, any more than it means I\'m a German spy because I can crack their codes.\\"","\\n",{"->":"harris_asks_for_theory"},{"#f":3}],"ive_done_things":["^\\"I\'ve done things,\\" I begin","ev",{"CNT?":"harris_demands_component.0.g-1.c-14"},"/ev",[{"->":".^.b","c":true},{"b":["^ helplessly",{"->":".^.^.^.5"},null]}],"nop","^. \\"Things I didn\'t want to do. I tried not to. But in the end, it felt like cutting off my own arm to resist.\\"","\\n",{"->":"harris_presses_for_details"},{"#f":3}],"#f":3}],"harris_asks_for_theory":[["^\\"Tell me, then,\\" he asks. \\"What\'s your theory? You\'re a smart fellow — as smart as they come around here, and that\'s saying something. What\'s your opinion on the missing component? Accident, perhaps? Or do you blame one of the other men? ","ev",{"VAR?":"hooper_mentioned"},"/ev",[{"->":".^.b","c":true},{"b":["^Hooper?",{"->":".^.^.^.5"},null]}],"nop","^\\"","\\n","ev","str","^Blame no—one","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Blame someone","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n",{"->":".^.^.^.an_accident"},{"#f":5}],"c-1":["^ ",{"->":"claim_hooper_took_component"},"\\n",{"#f":5}]}],{"an_accident":[["^\\"An accident, naturally.\\" I risk a smile. \\"That damned machine is made from spare parts and string. Even these Huts leak when it rains. It wouldn\'t take more than one fellow to trip over a cable to shake out a component. Have you tried looking under the thing?\\"","\\n","^\\"Do you believe we haven\'t?\\"","\\n","^In a sudden moment I understand that his reply is a threat.","\\n","^\\"Now,\\" he continues. \\"Are you sure there isn\'t anything you want to tell me?\\"","\\n","ev","str","^Co-operate","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Evade","/str",{"VAR?":"evasive"},0,">","/ev",{"*":".^.c-1","flg":21},{"c-0":["\\n","^\\"All right.\\" With a sigh, your defiance collapses. \\"If you\'re searched my things then I suppose you\'ve found ","ev",{"VAR?":"evasive"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^ what you need",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^my letters. Haven\'t you? In fact, if you haven\'t, don\'t tell me",{"->":".^.^.^.9"},null]}],"nop","^.","\\n","ev",1,"/ev",{"VAR=":"admitblackmail","re":true},"^Harris nods once.","\\n","<>","^ ",{"->":"harris_has_seen_it_before"},"\\n",{"#f":5}],"c-1":["^ \\"Only that you\'re being unreasonable, and behaving like a swine.\\"","\\n","^\\"You imbecile,\\" Harris replies, with sudden force. He is half out of his chair. \\"You know the situation as well as I do. Why the fencing? The Hun are poised like rats, ready to run all over this country. They\'ll destroy everything. You understand that, don\'t you? You\'re not so locked up inside your crossword puzzles that you don\'t see that, are you? This machine we have here — you men — you are the best and only hope this country has. God help her.\\"","\\n","ev",1,"/ev",{"VAR=":"losttemper","re":true},"^I sit back, startled by the force of his outburst. His carefully sculpted expression has curled to angry disgust. <i>He really does hate me</i>, I think. <i>He\'ll have my blood for the taste of it.</i>","\\n",["ev","str","^Placate","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Mock","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Dismiss","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"Now steady on,\\" I reply, gesturing for him to be calm.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"I can imagine how being surrounded by clever men is pretty threatening for you, Commander,\\" I reply with a sneer. \\"They don\'t train you to think in the Armed Forces.\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^\\"Then I\'ll be going, on and getting on with my job of saving her, shall I?\\" I even rise half to my feet, before he slams the tabletop.","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^\\"Talk,\\" Harris demands. \\"Talk now. Tell me where you\'ve hidden it or who you passed it to. Or God help me, I\'ll take your wretched pansy body to pieces looking for it.\\"","\\n",{"->":"harris_demands_you_speak"},null]}],{"#f":5}]}],{"#f":3}],"#f":3}],"harris_has_seen_it_before":[["^\\"I\'ve seen it before. A young man like you — clever, removed. The kind that doesn\'t go to parties. Who takes himself too seriously. Who takes things too far.\\"","\\n","^He slides his thumb between two fingers.","\\n","^\\"Now they own you.\\"","\\n","ev","str","^Agree","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Disagree","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-2","flg":21},"ev","str","^Apologise","/str",{"VAR?":"drugged"},{"VAR?":"forceful"},0,"<","&&","/ev",{"*":".^.c-3","flg":21},{"c-0":["\\n","^\\"What could I do?\\" I\'m shaking now. The night is cold and the heat—lamp in the Hut has been removed. \\"","ev",{"VAR?":"forceful"},2,">","/ev",[{"->":".^.b","c":true},{"b":["^I won\'t",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^I don\'t want to",{"->":".^.^.^.9"},null]}],"nop","^ go to prison.\\"","\\n","^\\"Smart man,\\" he replies. \\"You wouldn\'t last.","\\n",{"->":".^.^.tell_me_now"},{"#f":5}],"c-1":["\\n","^\\"I can still fix this.\\"","\\n","^Harris shakes his head. \\"You\'ll do nothing. This is beyond you now. You may go to prison or may go to firing squad - or we can change your name and move you somewhere where your indiscretions can\'t hurt you. But right now, none of that matters. What happens to you doesn\'t matter. All that matters is where that component is.","\\n",{"->":".^.^.tell_me_now"},{"#f":5}],"c-2":["\\n","^\\"I wanted to tell you,\\" I tell him. \\"I thought I could find out who they were. Lead you to them.\\"","\\n","^Harris looks at me with contempt. \\"You wretch. You\'ll pay for what you\'ve done to this country today. If a single man loses his life because of your pride and your perversions then God help your soul.","\\n",{"->":".^.^.tell_me_now"},{"#f":5}],"c-3":["\\n","^\\"Harris, I...\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n","^\\"Stop it,\\" he interrupts. \\"There\'s no jury here to sway.  And there\'s no time.","\\n",{"->":".^.^.tell_me_now"},{"#f":5}],"tell_me_now":["<>","^ So why don\'t you tell me, right now. Where is it?\\"","\\n",{"->":"harris_demands_you_speak"},null]}],{"#f":3}],"harris_demands_you_speak":[["^His eyes bear down like carbonised drill—bits.","\\n","ev","str","^Confess","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Dissemble","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Dissemble","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-2","flg":21},{"c-0":["\\n","ev",{"VAR?":"forceful"},1,">","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"You want me to tell you what happened? You\'ll be disgusted.\\"","\\n",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"All right. I\'ll tell you what happened.\\" And never mind my shame.","\\n",{"->":".^.^.^.8"},null]}],"nop","\\n","^\\"I can imagine how it starts,\\" he replies.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ ",{"->":"claim_hooper_took_component"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^My plan now is to blame Hooper, but I cannot seem to tell the story. Whatever they put in my tea, it rules my tongue. ","ev",{"VAR?":"forceful"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^I fight it as hard as I can but it does no good.",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^I am desperate to tell him everything. I am weeping with shame.",{"->":".^.^.^.9"},null]}],"nop","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"lower"},"pop","/ev","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"i_met_a_young_man"},null]}],{"#f":3}],"i_met_a_young_man":[["ev","str","^Talk","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\\n","^\\"There was a young man. I met him in the town. A few months ago now. We got to talking. Not about work. And I used my cover story, but he seemed to know it wasn\'t true. That got me wondering if he might be one of us.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Harris is not letting me off any more.","\\n","^\\"You seriously entertained that possibility?\\"","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-3","flg":20},{"c-1":["\\n","^\\"Yes, I considered it. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-2":["\\n","^\\"No. Not for more than a moment, of course. Everyone here is marked out by how little we would be willing to say about it.\\"","\\n","^\\"Only you told this young man more than a little, didn\'t you?\\"","\\n","^I nod. \\"","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-3":["\\n","^\\"I was quite certain, after a while. After we\'d been talking. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":["^He seemed to know all about me. He... he was quite enchanted by my achievements.\\"","\\n","^The way Harris is staring I expect him to strike me, but he does not. He replies, \\"I can see how that must have been attractive to you,\\" with such plain—spokeness that I think I must have misheard.","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^No","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-5","flg":21},"ev","str","^No","/str",{"VAR?":"drugged"},"/ev",{"*":".^.c-6","flg":21},"ev","str","^Lie","/str",{"VAR?":"drugged"},"!","/ev",{"*":".^.c-7","flg":21},{"c-4":["^ \\"It\'s a lonely life in this place,\\" I reply. \\"Lonely - and still one never gets a moment to oneself.\\"","\\n","^\\"That\'s how it is in the Service,\\" Harris answers.","\\n",["ev","str","^Argue","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Agree","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ \\"I\'m not in the Service.\\"","\\n","^Harris shakes his head. \\"Yes, you are.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ \\"Perhaps. But I didn\'t choose this life.\\"","\\n","^Harris shakes his head. \\"No. And there\'s plenty of others who didn\'t who are suffering far worse.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Then he waves the thought aside.","\\n",{"->":".^.^.^.^.^.g-2"},null]}],{"#f":5}],"c-5":["^ \\"The boy was a pretty simpleton. Quite inferior. His good opinion meant nothing to be. Harris, do not misunderstand. I was simply after his body.\\"","\\n","ev",{"^var":"evasive","ci":-1},{"f()":"raise"},"pop","/ev","\\n","^Harris, to his credit, doesn\'t flinch; but I can see he will have nightmares of this moment later tonight. I\'m tempted to reach out and take his hand to worsen it for him.","\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-6":["\\n","^\\"It wasn\'t,\\" I reply. \\"But I doubt you\'d understand.\\"","\\n","^He simply nods.","\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-7":["^ ",{"->":".^.^.c-5"},"\\n",{"->":".^.^.^.g-2"},{"#f":5}]}],"g-2":["^\\"Go on with your confession.\\"","\\n",["ev",{"CNT?":".^.^.^.g-1.c-5"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^That gives me pause. I hadn\'t thought of it as such. But I suppose he\'s right. I am about to admit what I did.","\\n",{"->":".^.^.^.5"},null]}],"nop","\\n","^\\"There\'s not much else to say. I took the part from Bombe computing device. You seem to know that already. I had to. He was going to expose me if I didn\'t.\\"","\\n","^\\"This young man was blackmailing you over your affair?\\"","\\n","ev",{"VAR?":"drugged"},"/ev",{"temp=":"harris_thinks_youre_drugged"},"ev",{"VAR?":"drugged"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","ev",0,"/ev",{"VAR=":"drugged","re":true},"^As Harris speaks I find myself suddenly sharply aware, as if waking from a long sleep. The table, the corrugated walls of the hut, everything seems suddenly more tangible than a moment before.","\\n","^Whatever it was they put in my drink is wearing off.","\\n",{"->":".^.^.^.19"},null]}],"nop","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-8","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-9","flg":20},"ev","str","^Tell the truth","/str","/ev",{"*":".^.c-10","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-11","flg":20},{"c-8":["\\n","^\\"Yes. I suppose he was their agent. I should have realised but I didn\'t. Then he threatened to tell you. I thought you would have me locked up: I couldn\'t bear the thought of it. I love working here. I\'ve never been so happy, so successful, anywhere before. I didn\'t want to lose it.\\"","\\n","^\\"So what did you do with the component?\\" Harris talks urgently. He grips his gloves tightly in one hand, perhaps prepared to lift them and strike if it is required. \\"Have you passed it to this man already? Have you left it somewhere for him to find?\\"","\\n",["ev","str","^I have it","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^I don\'t have it","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Tell the truth","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["\\n","^\\"I still have it. Not on me, of course. ",{"->":"reveal_location_of_component"},"\\n",{"#f":5}],"c-1":["^ \\t",{"->":".^.^.^.^.^.^.^.i_dont_have_it"},"\\n",{"#f":5}],"c-2":["^ \\t\\t\\t\\t\\t\\t\\t",{"->":".^.^.c-1"},"\\n",{"#f":5}],"c-3":["^ \\t\\t\\t\\t",{"->":".^.^.c-0"},"\\n",{"#f":5}]}],{"#f":5}],"c-9":["\\n","^\\"No, Harris. The young man wasn\'t blackmailing me.\\" I take a deep breath. \\"It was Hooper.\\"","\\n","ev",{"VAR?":"hooper_mentioned"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"Hooper!\\" Harris exclaims, in surprise. ","ev",{"VAR?":"harris_thinks_youre_drugged"},"/ev",[{"->":".^.b","c":true},{"b":["^He does not doubt me for a moment.",{"->":".^.^.^.6"},null]}],"nop","\\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"Now look here,\\" Harris interrupts. \\"Don\'t start that again.\\"","\\n",{"->":".^.^.^.9"},null]}],"nop","\\n","^\\"It\'s the truth, Harris. If I\'m going to jail, so be it, but I won\'t hang at Traitor\'s Gate. Hooper was the one who told the boy about our work. Hooper put the boy on to me. ","ev",{"VAR?":"forceful"},2,"<","/ev",[{"->":".^.b","c":true},{"b":["^I should have realised, of course. These things don\'t happen by chance. I was a fool to think they might.",{"->":".^.^.^.18"},null]}],"nop","^ And then, once he had me compromised, he demanded I steal the part from the machine.\\"","\\n","ev",1,"/ev",{"VAR=":"revealedhooperasculprit","re":true},"^\\"Which you did.\\" Harris leans forward. \\"And then what? You still have it? You\'ve stashed it somewhere?\\"","\\n",["ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["\\n","^\\"Yes. I only had a moment. ",{"->":"reveal_location_of_component"},"\\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^.^.^.passed_onto_hooper"},"\\n",{"#f":5}],"c-2":["^ \\t\\t\\t",{"->":".^.^.c-1"},"\\n",{"#f":5}],"c-3":["\\n","^\\"I can\'t remember.\\"","\\n","^He draws his gun and lays it lightly on the field table.","\\n","^\\"I\'m sorry to threaten you, friend. But His Majesty needs that brain of yours, and that brain alone. There are plenty of other parts to you that our country could do better without. Now I\'ll ask you again. Did you hide the component?\\"","\\n",["ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["^ ",{"->":".^.^.^.^.c-0"},"\\n",{"#f":5}],"c-1":["\\n","^\\"Very well then.\\" I swallow nervously, to make it look more genuine. ",{"->":"i_met_a_young_man.passed_onto_hooper"},"\\n",{"#f":5}],"c-2":["^ ",{"->":".^.^.c-1"},"\\n",{"#f":5}],"c-3":["^ ",{"->":"i_met_a_young_man.i_dont_have_it"},"\\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-10":["^ \\t",{"->":".^.^.c-8"},"\\n",{"#f":5}],"c-11":["^ \\t\\t\\t\\t",{"->":".^.^.c-9"},"\\n",{"#f":5}],"#n":"paused"}],null]}],{"i_dont_have_it":[["^\\"I don\'t have it any more. I passed it through the fence to my contact straight after taking it, before it was discovered to be missing. It would have been idiocy to do differently. It\'s long gone, I\'m afraid.\\"","\\n","^\\"You fool, Manning,\\" Harris curses, getting quickly to his feet. \\"You utter fool. Do you suppose you will be any better off living under Hitler? It\'s men like you who will get us all killed. Men too feeble, too weak in their hearts to stand up and take a man\'s responsibility for the world. You\'re happier to stay a child all your life and play with your little childish toys.\\"","\\n","ev","str","^Answer back","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Say nothing","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"Really, Commander,\\" I reply. \\"It rather sounds like you want to spank me.\\"","\\n","^\\"For God\'s sake,\\" he declares with thick disgust, then swoops away out of the room.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^I say nothing. It\'s true, isn\'t it? I can\'t deny that I know there is a world out there, a complicated world of pain and suffering. And I can\'t deny that I don\'t think about it a moment longer than I have to. What use is thinking on a problem that cannot be solved? It is precisely our ability to avoid such endless spirals that makes us human and not machine.","\\n","^\\"God have mercy on your soul,\\" Harris says finally, as he gets to his feet and heads for the door. \\"I fear no—one else will.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"left_alone"},null]}],{"#f":3}],"passed_onto_hooper":[["ev",1,"/ev",{"VAR=":"hooper_mentioned","re":true},"^\\"No. I passed it on to Hooper.\\"","\\n","^\\"I see. And what did he do with it?\\"","\\n","ev","str","^Evade","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Tell the truth","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"I don\'t know.\\"","\\n","^\\"You can do better than that. Remember, there\'s a hangman\'s noose waiting for traitors.\\"","\\n",["ev","str","^Theorise","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Shrug","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"Well, then,\\" I answer, nervously. \\"What would he do? Either get rid of it straight away — or if that wasn\'t possible, which it probably wouldn\'t be, since he\'d have to arrange things with his contacts — so most likely, he\'d hide it somewhere and wait, until you had the rope around my neck and he could be sure he was safe.\\"","\\n",{"->":"claim_hooper_took_component.harris_being_convinced"},{"#f":5}],"c-1":["^ ",{"->":"claim_hooper_took_component.its_your_problem"},"\\n",{"#f":5}]}],{"#f":5}],"c-1":["\\n","^\\"I don\'t think Hooper could have planned this in advance. So he\'d need to get word to whoever he\'s working with, and that would take time. So I think he would have hidden it somewhere, and be waiting to make sure I soundly take the fall. That way, if anything goes wrong, he can arrange for the part to be conveniently re—found.\\"","\\n",{"->":"claim_hooper_took_component.harris_being_convinced"},{"#f":5}],"c-2":["\\n","^\\"I\'m sure I saw him this evening, talking to someone by the fence on the woodland side of the compound. He\'s probably passed it on already. You\'ll have to ask him.\\"","\\n",{"->":"claim_hooper_took_component.harrumphs"},{"#f":5}]}],{"#f":3}],"#f":3}],"claim_hooper_took_component":[["^\\"I saw Hooper take it.\\"","\\n","ev",1,"/ev",{"VAR=":"hooper_mentioned","re":true},"ev",{"VAR?":"losttemper"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"Did you?\\"","\\n","^The worst of his rage is passing; he is now moving into a kind of contemptuous despair. I can imagine him wrapping up our interview soon, leaving the hut, locking the door, and dropping the key down the well in the yard.","\\n","^And why wouldn\'t he? With my name tarnished they will not let me back to work on the Bombe — if there is the slightest smell of treachery about my name I would be lucky not be locked up for the remainder of the war.","\\n",{"->":".^.^.^.11"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"I see.\\" He is starting to lose his patience. I have seen Harris angry a few times, with lackeys and secretaries. But never with us. With the \'brains\' he has always been cautious, treating us like children.","\\n","^And now I see that, like a father, he wants to smack us when we disobey him.","\\n",{"->":".^.^.^.11"},null]}],"nop","\\n","^\\"Just get to the truth, man. Every <i>minute</i> matters.\\"","\\n","ev","str","^Persist with this","/str",{"VAR?":"admitblackmail"},"/ev",{"*":".^.c-0","flg":21},"ev","str","^Tell the truth","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Persist with this","/str",{"VAR?":"admitblackmail"},"!","/ev",{"*":".^.c-2","flg":21},{"c-0":["\\n","^\\"I know what you\'re thinking. If I\'ve transgressed once then I must be guilty of everything else... But I\'m not. We were close to cracking the 13th\'s intercept. We were getting correlations in the data. Then Hooper disappeared for a moment, and next minute the machine was down.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"Very well. I see there\'s no point in covering up. You know everything anyway.\\"","\\n","^Harris nods, and waits for me to continue.","\\n",{"->":"i_met_a_young_man"},{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^\\"This is the truth.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^I have become, somehow, an accustomed liar — the words roll easily off my tongue. Perhaps I am a traitor, I think, now that I dissemble as easily as one.","\\n","^\\"Go on,\\" Harris says, giving me no indication of whether he believes my tale.","\\n","ev","str","^Assert","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Imply","/str","/ev",{"*":".^.c-4","flg":20},{"c-3":["^ \\"I saw him take it,\\" I continue. \\"Collins was outside having a cigarette. Peterson was at the table. But I was at the front of the machine. I saw Hooper go around the side. He leant down and pulled something free. I even challenged him. I said, \'What\'s that? Someone put a nail somewhere they shouldn\'t have?\' He didn\'t reply.\\"","\\n","^Harris watches me for a long moment.","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-4":["^ \\"At the moment the machine halted, Peterson was at the bench and Collins was outside having a smoke. I was checking the dip—switches. Hooper was the only one at the back of the Bombe. No—one else could have done it.\\"","\\n","^\\"That\'s not quite the same as seeing him do it,\\" Harris remarks.","\\n",["ev","str","^Logical","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Persuasive","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Confident","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"When you have eliminated the impossible...\\" I begin, but Harris cuts me off.","\\n",{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-1":["\\n","^\\"You have to believe me.\\"","\\n","^\\"We don\'t have to believe anyone,\\" Harris returns. \\"I will only be happy with the truth, and your story doesn\'t tie up. We know you\'ve been leaving yourself open to pressure. We\'ve been watching your activities for some time. But we thought you were endangering the reputation of this site; not risking the country herself. Perhaps I put too much trust in your intellectual pride.\\"","\\n","^He pauses for a moment, considering something. Then he continues:","\\n","^\\"It might have been Hooper. It might have been you. ",{"->":".^.^.^.^.^.we_wont_guess"},"\\n",{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-2":["\\n","^\\"Ask the others,\\" I reply, leaning back. \\"They\'ll tell you. If they haven\'t already, that\'s only because they\'re protecting Hooper. Hoping he\'ll come to his senses and stop being an idiot. I hope he does too. And if you lock him up in a freezing hut like you\'ve done me, I\'m sure he will.\\"","\\n","^\\"We have,\\" Harris replies simply.","\\n","^It\'s all I can do not to gape.","\\n",{"->":".^.^.^.^.^.g-1.hoopers_hut_3"},{"->":".^.^.^.^.^.g-1"},{"#f":5}]}],{"#f":5}]}],"g-1":["^\\"We are left with two possibilities. You, or Hooper.\\" The Commander pauses to smooth down his moustache. ","<>","\\n",["^\\"Hooper\'s in Hut 3 with the Captain, having a similar conversation.\\"","\\n",["ev",{"^->":"claim_hooper_took_component.0.g-1.hoopers_hut_3.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-5","flg":22},{"s":["^\\"And the other men?",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.0.g-1.hoopers_hut_3.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-6","flg":22},{"s":["^\\"Then you know I\'m right.",{"->":"$r","var":true},null]}],{"c-5":["ev",{"^->":"claim_hooper_took_component.0.g-1.hoopers_hut_3.c-5.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"^ Do we have a hut each? Are there  enough senior officers to go round?\\"","\\n","^\\"Collins was outside when it happened, and Peterson can\'t get round the machine in that chair of his,\\" Harris replies. \\"That leaves you and Hooper.","\\n",{"->":".^.^.^.^.we_wont_guess"},{"#f":5}],"c-6":["ev",{"^->":"claim_hooper_took_component.0.g-1.hoopers_hut_3.c-6.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"^ You knew all along. Why did you threaten me?\\"","\\n","^\\"All we know is that we have a traitor, holding the fate of the country in his hands.","\\n",{"->":".^.^.^.^.we_wont_guess"},{"#f":5}],"#f":5,"#n":"hoopers_hut_3"}],null],"we_wont_guess":["<>","^ We\'re not in the business of guessing here at Bletchley. We are military intelligence. We get answers.\\" Harris points a finger. \\"And if that component has left these grounds, then every minute is critical.\\"","\\n","ev","str","^Co-operate","/str","/ev",{"*":".^.c-7","flg":20},"ev","str","^Block","/str","/ev",{"*":".^.c-8","flg":20},{"c-7":["\\n","^\\"I\'d be happy to help,\\" I answer, leaning forwards. \\"I\'m sure there\'s something I could do.\\"","\\n","^\\"Like what, exactly?\\"","\\n",[["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^\\"Put me in with Hooper.\\"",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-1","flg":22},{"s":["^\\"Tell Hooper I\'ve confessed.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\\n",{"->":".^.^.^.^.^.^.putmein"},{"#f":5}],"c-1":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"^ Better yet. Let him see you marching me off in handcuffs. Then let him go, and see what he does. Ten to one he\'ll go straight to wherever he\'s hidden that component and his game will be up.\\"","\\n","^Harris nods slowly, chewing over the idea. It isn\'t a bad plan even — except, of course, Hooper has <i>not</i> hidden the component, and won\'t lead them anywhere. But that\'s a problem I might be able to solve once I\'m out of this place; and once they\'re too busy dogging Hooper\'s steps from hut to hut.","\\n","^\\"Interesting,\\" the Commander muses. \\"But I\'m not so sure he\'d be that stupid. And if he\'s already passed the part on, the whole thing will only be a waste of time.\\"","\\n",[["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-0","flg":22},{"s":["^\\"Trust me. He hasn\'t.",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.\\"","/str","/ev",{"*":".^.^.c-1","flg":22},{"s":["^\\"You\'re right. Let me talk to him",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^\\"You\'re right.\\" ",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"^ If I know that man, and I do, he\'ll be wanting to keep his options open as long as possible. If the component\'s gone then he\'s in it up to his neck. He\'ll take a week at least to make sure he\'s escaped suspicion. Then he\'ll pass it on.\\"","\\n","^\\"And if we keep applying pressure to him, you think the component will eventually just turn up?\\"","\\n",[["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-0","flg":22},{"s":["^\\"Yes.",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^\\"Or be thrown into the river.\\"",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"^ Probably under my bunk.\\"","\\n","^Harris smiles wryly. \\"We\'ll know that for a fake, then. We\'ve looked there already.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\\n","^\\"Hmm.\\" Harris chews his moustache thoughtfully. \\"Well, that would put us in a spot, seeing as how we\'d never know for certain. We\'d have to be ready to change our whole approach just in case the part had got through to the Germans.","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["<>","^ I don\'t mind telling you, this is a disaster, this whole thing. What I want is to find that little bit of mechanical trickery. I don\'t care where. In your luncheon box or under Hooper\'s pillow. Just somewhere, and within the grounds of this place.\\"","\\n",["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.g-0.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-2","flg":22},{"s":["^\\"Then let him he think he\'s off the hook.",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.g-0.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^.\\"","/str","/ev",{"*":".^.^.c-3","flg":22},{"s":["^\\"Then you\'d better get searching",{"->":"$r","var":true},null]}],{"c-2":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"^ Make a show of me. And then you\'ll get your man.\\"","\\n","^<i>Somehow</i>, I think. But that\'s the part I need to work.","\\n",{"->":"harris_takes_you_to_hooper"},{"#f":5}],"c-3":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-0.10.g-0.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"^,\\" I reply, tiring of his complaining. A war is a war, you have to expect an enemy. ",{"->":".^.^.^.^.^.^.^.^.^.^.^.its_your_problem"},"\\n",{"#f":5}]}]}],{"#f":5}],"c-1":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"^, then. As a colleague. Maybe I can get something useful out of him.\\"","\\n",{"->":".^.^.^.^.^.^.^.^.putmein"},{"#f":5}],"c-2":["ev",{"^->":"claim_hooper_took_component.0.we_wont_guess.c-7.5.c-1.12.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],{"->":".^.^.^.^.^.^.^.^.shake_head"},"\\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-8":["^ ",{"->":".^.^.^.^.its_your_problem"},"\\n",{"#f":5}]}]}],{"harris_being_convinced":[["^\\"Makes sense,\\" Harris agrees, cautiously. ","ev",{"VAR?":"evasive"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^I can see he\'s still not entirely convinced by my tale, as well he might not be — I\'ve hardly been entirely straight with him.",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^I can see he\'s still not certain whether he can trust me.",{"->":".^.^.^.8"},null]}],"nop","^ \\"Which means the question is, what can we do to rat him out?\\"","\\n","ev","str","^Offer to help","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t offer to help","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"Maybe I can help with that.\\"","\\n","^\\"Oh, yes? And how, exactly?\\"","\\n",[["ev",{"^->":"claim_hooper_took_component.harris_being_convinced.0.c-0.5.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^\\"I\'ll talk to him.\\"",{"->":"$r","var":true},null]}],["ev",{"^->":"claim_hooper_took_component.harris_being_convinced.0.c-0.5.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","str","^\\"","/str","/ev",{"*":".^.^.c-1","flg":22},{"s":["^\\"We\'ll fool him.",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"claim_hooper_took_component.harris_being_convinced.0.c-0.5.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\\n","^\\"What?\\"","\\n","^\\"Put me in with Hooper with him. Maybe I can get something useful out of him.\\"","\\n",{"->":".^.^.^.^.^.^.putmein"},{"#f":5}],"c-1":["ev",{"^->":"claim_hooper_took_component.harris_being_convinced.0.c-0.5.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"^ He\'s waiting to be sure that I\'ve been strung up for this, so let\'s give him what he wants. If he sees me taken away, clapped in irons — he\'ll go straight to that component and set about getting rid of it.\\"","\\n",{"->":"harris_takes_you_to_hooper"},{"#f":5}]}],{"#f":5}],"c-1":["\\n","^I lean back. ",{"->":".^.^.^.^.its_your_problem"},"\\n",{"#f":5}]}],{"#f":3}],"putmein":[["^Harris shakes his head.","\\n","^\\"He despises you. I don\'t see why he\'d give himself up to you.\\"","\\n","ev","str","^Insist","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Give in","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ \\"Try me. Just me and him.\\"","\\n",{"->":".^.^.^.^.go_in_alone"},{"#f":5}],"c-1":["^ \\"You\'re right.\\"","\\n",{"->":".^.^.^.^.shake_head"},{"#f":5}]}],{"#f":3}],"shake_head":["<>","^ I shake my head. \\"You\'re right. I don\'t see how I can help you. So there\'s only one conclusion.\\"","\\n","^\\"Oh, yes? And what\'s that?\\"","\\n",{"->":".^.^.its_your_problem"},{"#f":3}],"its_your_problem":["^\\"It\'s your problem. Your security breach. So much for your careful vetting process.\\"","\\n","^I lean back in my chair and fold my arms so the way they shake will not be visible.","\\n","^\\"You\'d better get on with solving it, instead of wasting your time in here with me.\\"","\\n",{"->":".^.^.harrumphs"},{"#f":3}],"harrumphs":[["^Harris harrumphs. He\'s thinking it all over.","\\n","ev","str","^Wait","/str",{"CNT?":".^.^.^.putmein"},"/ev",{"*":".^.c-0","flg":21},"ev","str","^Wait","/str",{"CNT?":".^.^.^.putmein"},"!","/ev",{"*":".^.c-1","flg":21},{"c-0":["\\n","^\\"All right,\\" he declares, gruffly. \\"We\'ll try it. But if this doesn\'t work, I might just put the both of you in front of a firing squad and be done with these games. Worse things happen in time of war, you know.\\"","\\n","^\\"Alone,\\" I add.","\\n",{"->":".^.^.^.^.go_in_alone"},{"#f":5}],"c-1":["\\n","^\\"No,\\" Harris declares, finally. \\"I think you\'re lying about Hooper. I think you\'re a clever, scheming young man — that\'s why we hired you — and you\'re looking for the only reasonable out this situation has to offer. But I\'m not taking it. We know you were in the room with the machine, we know you\'re of a perverted persuasion, we know you have compromised yourself. There\'s nothing more to say here. Either you tell me what you\'ve done with that component, or we will hang you and search just as hard. It\'s your choice.\\"","\\n",{"->":"harris_threatens_lynching"},{"#f":5}]}],{"#f":3}],"go_in_alone":[["^\\"Alone?\\"","\\n","^\\"Alone.\\"","\\n","^Harris considers it. I watch his eyes, flicking backwards and forwards over mine, like a ribbon—reader loading its program.","\\n","ev","str","^Patient","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Impatient","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ \\"Well?\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ \\"For God\'s sake, man, what do you have to lose?\\"","\\n","ev",{"^var":"forceful","ci":-1},{"f()":"raise"},"pop","/ev","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^\\"We\'ll be outside the door,\\" Harris replies, seriously. \\"The first sign of any funny business and we\'ll have you both on the floor in minutes. You understand? The country needs your brain, but it\'s not too worried about your legs. Remember that.\\"","\\n","^Then he gets to his feet, and opens the door, and marches me out across the yard. The evening is drawing in and there\'s a chill in the air. My mind is racing. I have one opportunity here — a moment in which to put the fear of God into Hooper and make him do something foolish that places him in harm\'s way. But how to achieve it?","\\n","^\\"You ready?\\" Harris demands.","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-4","flg":20},{"c-2":["\\n","^\\"Absolutely.\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-3":["\\n","^\\"No.\\"","\\n","^\\"Too bad.\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-4":["^ ",{"->":".^.^.c-2"},"\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":[{"->":"inside_hoopers_hut"},null]}],{"#f":3}],"#f":3}],"harris_takes_you_to_hooper":[["^Harris gets to his feet. \\"All right,\\" he says. \\"I should no better than to trust a clever man, but we\'ll give it a go.\\"","\\n","^Then, he smiles, with all his teeth, like a wolf.","\\n","ev",{"CNT?":"claim_hooper_took_component.0.g-1.hoopers_hut_3"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"Especially since this is a plan that involves keeping you in handcuffs. I don\'t see what I have to lose.\\"","\\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"Hooper\'s in Hut 3 being debriefed by the Captain. Let\'s see if we can\'t get his attention somehow.\\"","\\n",{"->":".^.^.^.9"},null]}],"nop","\\n","^He raps on the door for the guard and gives the man a quick instruction. He returns a moment later with a cool pair of iron cuffs.","\\n","^\\"Put \'em up,\\" Harris instructs, and I do so. The metal closes around my wrists like a trap. I stand and follow Harris willingly out through the door.","\\n","^But whatever I\'m doing with my body, my mind is scheming. <i>Somehow,</i> I\'m thinking, <i>I have to get away from these men long enough to get that component behind Hut 2 and put it somewhere Hooper will go. Or, otherwise, somehow get Hooper to go there himself...</i>","\\n","^Harris marches me over to Hut 3, and gestures for the guard to stand aside. Pushing me forward, he opens the door nice and wide.","\\n","^\\"Captain. Manning talked. If you\'d step out for a moment?\\"","\\n","ev","str","^Play the part, head down","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Look inside the hut","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Call to Hooper","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^From where he\'s sitting, I know Hooper can see me, so I keep my head down and look guilty as sin. The bastard is probably smiling.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^I look in through the door and catch Hooper\'s expression. I had half expected him to be smiling be he isn\'t. He looks shocked, almost hurt. \\"Iain,\\" he murmurs. \\"You couldn\'t...\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^I have a single moment to shout something to Hooper before the door closes.","\\n","^\\"I\'ll get you Hooper, you\'ll see!\\" I cry. Then:","\\n",[["ev",{"^->":"harris_takes_you_to_hooper.0.c-2.5.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^\\"Queen to rook two, checkmate!\\"",{"->":"$r","var":true},null]}],{"c-0":["ev",{"^->":"harris_takes_you_to_hooper.0.c-2.5.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"^ I call, then laugh viciously, as if I am damning him straight to hell.","\\n","ev",2,"/ev",{"VAR=":"hooperClueType","re":true},{"->":".^.^.only_catch"},{"#f":5}],"only_catch":["^I only catch Hooper\'s reaction for a moment — his eyebrow lifts in surprise and alarm. Good. If he thinks it is a threat then he just might be careless enough to go looking for what it might mean.","\\n",["ev",{"^->":"harris_takes_you_to_hooper.0.c-2.5.only_catch.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^\\"Ask not for whom the bell tolls!\\"",{"->":"$r","var":true},null]}],["ev",{"^->":"harris_takes_you_to_hooper.0.c-2.5.only_catch.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^\\"Two words: messy, without one missing!\\"",{"->":"$r","var":true},null]}],{"c-1":["ev",{"^->":"harris_takes_you_to_hooper.0.c-2.5.only_catch.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\\n","^He stares back at me, as if were a madman and perhaps for a split second I see him shudder.","\\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}],"c-2":["ev",{"^->":"harris_takes_you_to_hooper.0.c-2.5.only_catch.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"^ I cry, laughing. It isn\'t the best clue, hardly worthy of The Times, but it will have to do.","\\n","ev",3,"/ev",{"VAR=":"hooperClueType","re":true},{"->":".^.^"},{"->":".^.^.^.^.^.g-0"},{"#f":5}]}]}],{"#f":5}],"g-0":["^The Captain comes outside, pulling the door to. \\"What\'s this?\\" he asks. \\"A confession? Just like that?\\"","\\n","^\\"No,\\" the Commander admits, in a low voice. \\"I\'m afraid not. Rather more a scheme. The idea is to let Hooper go and see what he does. If he believes we have Manning here in irons, he\'ll try to shift the component.\\"","\\n","^\\"If he has it.\\"","\\n","^\\"Indeed.\\"","\\n","^The Captain peers at me for a moment, like I was some kind of curious insect.","\\n","^\\"Sometimes, I think you people are magicians,\\" he remarks. \\"Other times you seem more like witches. Very well.\\"","\\n","^With that he opens the door to the Hut and goes back inside. The Commander uses the moment to hustle me roughly forward.","\\n","ev",{"CNT?":".^.^.c-2"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"And what was all that shouting about?\\" he hisses in my ear as we move towards the barracks. \\"Are you trying to pull something? Or just make me look incompetent?\\"","\\n",{"->":".^.^.^.19"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"This scheme of yours had better come off,\\" he hisses in my ear. \\"Otherwise the Captain is going to start having men tailing <i>me</i> to see where I go on Saturdays.\\"","\\n",{"->":".^.^.^.19"},null]}],"nop","\\n","ev","str","^Reassure","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Dissuade","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-5","flg":20},"ev","str","^Say nothing","/str","/ev",{"*":".^.c-6","flg":20},{"c-3":["\\n","ev",{"CNT?":".^.^.^.c-2"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"It will. Hooper\'s running scared,\\" I reply, hoping I sound more confident than I feel.","\\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"Just adding to the drama,\\" I tell him, confidently. \\"I\'m sure you can understand that.\\"","\\n",{"->":".^.^.^.7"},null]}],"nop","\\n","^\\"I think we\'ve had enough drama today already,\\" Harris replies. \\"Let\'s hope for a clean kill.\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-4":["\\n","ev",{"CNT?":".^.^.^.c-2"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"The Captain thought it was a good scheme. You\'ll most likely get a promotion.\\"","\\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"I\'m not trying to do anything except save my neck.\\"","\\n",{"->":".^.^.^.7"},null]}],"nop","\\n","^\\"Let\'s hope things work out,\\" Harris agrees darkly.","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-5":["\\n","^\\"We\'re still in ear—shot if they let Hooper go. Best get us inside and then we can talk, if we must.\\"","\\n","^\\"I\'ve had enough of your voice for one day,\\" Harris replies grimly. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-6":["\\n","^I let him have his rant. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":["^He hustles me up the steps of the barracks, keeping me firmly gripped as if I had any chance of giving him, a trained military man, the slip. It\'s all I can do not to fall into the room.","\\n",{"->":"slam_door_shut_and_gone"},null]}],{"#f":3}],"inside_hoopers_hut":[[["^Harris opens the door and pushes me inside. \\"Captain,\\" he calls. \\"Could I have a moment?\\"","\\n","^The Captain, looking puzzled, steps out. The door is closed. Hooper stares at me, open—mouthed, about to say something. I probably have less than a minute before the Captain storms back in and declares this plan to be bunkum.","\\n","ev","str","^Threaten","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Bargain","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Plead","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"Listen to me, Hooper. We were the only men in that hut today, so we know what happened. But I want you to know this. I put the component inside a breeze—block in the foundations of Hut 2, wrapped in one of your shirts. They\'re going to find it eventually, and that\'s going to be what tips the balance. And there\'s nothing you can do to stop any of that from happening.\\"","\\n","ev",1,"/ev",{"VAR=":"hooperClueType","re":true},"^His eyes bulge with terror. \\"What did I do, to you? What did I ever do?\\"","\\n",["ev","str","^Tell the truth","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"You treated me like vermin. Like something abhorrent.\\"","\\n","^\\"You are something abhorrent.\\"","\\n","^\\"I wasn\'t. Not when I came here. And I won\'t be, once you\'re gone.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"Nothing,\\" I reply. \\"You\'re just the other man in the room. One of us has to get the blame.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^\\"It doesn\'t matter. Just remember what I said. I\'ve beaten you, Hooper. Remember that.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^I get to my feet and open the door of the Hut. The Captain storms back inside and I\'m quickly thrown out. ",{"->":".^.^.^.^.^.^.hustled_out"},"\\n",null]}],{"#f":5}],"c-1":["\\n","^\\"Hooper, I\'ll make a deal with you. We both know what happened in that hut this afternoon. I know because I did it, and you know because you know you didn\'t. But once this is done I\'ll be rich, and I\'ll split that with you. I\'ll let you have the results, too. Your name on the discovery of the Bombe. And it won\'t hurt the war effort — you know as well as me that the component on its own is worthless, it\'s the wiring of the Bombe, the usage, that\'s what\'s valuable. So how about it?\\"","\\n","^Hooper looks back at me, appalled. \\"You\'re asking me to commit treason?\\"","\\n",["ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["\\n","^\\"Yes, perhaps. But also to ensure your name goes down in the annals of mathematics. ",{"->":".^.^.^.^.^.^.back_of_hut_2"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"No. It\'s not treason. It\'s a trade, plain and simple.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^\\"I\'m suggesting you save your own skin. I\'ve wrapped that component in one of your shirts, Hooper. They\'ll be searching this place top to bottom. They\'ll find it eventually, and when they do, that\'s the thing that will swing it against you. So take my advice now. Hut 2.\\"","\\n","ev",1,"/ev",{"VAR=":"hooperClueType","re":true},{"->":".^.^.g-0"},{"#f":5}],"c-3":["^ ",{"->":".^.^.c-2"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":".^.^.^.^.^.^.no_chance"},null]}],{"#f":5}],"c-2":["\\n","^\\"Please, Hooper. You don\'t understand. They have information on me.  I don\'t need to tell you what I\'ve done, you know. Have a soul. And the component — it\'s nothing. It\'s not the secret of the Bombe. It\'s just a part. The German\'s think it\'s a weapon — a missile component. Let them have it. Please, man. Just help me.\\"","\\n","^\\"Help you?\\" Hooper stares. \\"Help you? You\'re a traitor. A snake in the grass. And you\'re <i>queer</i>.\\"","\\n",["ev","str","^Deny","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Accept","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"I\'m no traitor. You <i>know</i> I\'m not. How much work have I done here against the Germans? I\'ve given my all. And you know as well as I do, if the Reich were to invade, I would be a dead man. Please, Hooper. I\'m not doing any of this lightly.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"I am what I am,\\" I reply. \\"I\'m the way I was made. But they\'ll hang me unless you help, Hooper. Don\'t let them hang me.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^\\"That\'s not important now. What matters is what you do, this evening.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^\\"Assuming I wanted to help you,\\" he replies, carefully. \\"Which I don\'t. What would I do?\\"","\\n","^\\"Nothing. Almost nothing.","\\n",{"->":".^.^.^.^.^.^.back_of_hut_2"},null]}],{"#f":5}],"#n":"g-0"}],null],{"back_of_hut_2":["<>","^ All you have to do is go to the back of Hut 2. There\'s a breeze—block with a cavity. That\'s where I\'ve put it. I\'ll be locked up overnight. But you can pick it up and pass it to my contact. He\'ll be at the south fence around two AM.\\"","\\n","ev",1,"/ev",{"VAR=":"hooperClueType","re":true},{"->":".^.^.no_chance"},{"#f":3}],"no_chance":["^\\"If you think I\'ll do that then you\'re crazy,\\" Hooper replies.","\\n","^At that moment the door flies open and the Captain comes storming back inside.","\\n",{"->":".^.^.hustled_out"},{"#f":3}],"hustled_out":["^Harris hustles me over to the barracks. \\"I hope that\'s the end of it,\\" he mutters.","\\n","^\\"Just be sure to let him out,\\" I reply. \\"And then see where he goes.\\"","\\n",{"->":"slam_door_shut_and_gone"},{"#f":3}],"#f":3}],"slam_door_shut_and_gone":[["^Then they slam the door shut, and it locks.","\\n","ev",{"VAR?":"hooperClueType"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["\\n","<>","^ How am I supposed to manage anything from in here?","\\n","ev","str","^Try the door","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Try the windows","/str","/ev",{"*":".^.c-1","flg":20},{"->":".^.^.^.9"},{"c-0":["^ ",{"->":".^.^.^.^.^.try_the_door"},"\\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^.try_the_windows"},"\\n",{"#f":5}]}]}],[{"->":".^.b"},{"b":["\\n","^I can only hope that Hooper bites. If he thinks I\'m bitter enough to have framed him, and arrogant enough to have taunted him with ","ev",{"VAR?":"hooperClueType"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^a clue to",{"->":".^.^.^.8"},null]}],"nop","^ where the damning evidence is hidden...","\\n","^If he hates me enough, and is paranoid enough, then he might ","ev",{"VAR?":"hooperClueType"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^unravel my little riddle and",{"->":".^.^.^.18"},null]}],"nop","^ go searching around Hut 2.","\\n",{"->":".^.^.^.9"},null]}],"nop","\\n","ev","str","^Wait","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^ \\t",{"->":"night_falls"},"\\n",{"#f":5}]}],{"try_the_door":["^I try the door. It\'s locked, of course.","\\n",{"->":".^.^.from_outside_heard"},{"#f":3}],"from_outside_heard":[["^From outside, I hear a voice. Hooper\'s. He\'s haranguing someone.","\\n",["ev","str","^Listen at the keyhole","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Try the window","/str",{"CNT?":".^.^.^.^.try_the_windows"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Try the door","/str",{"CNT?":".^.^.^.^.try_the_door"},"!",{"CNT?":".^.c-0"},"&&","/ev",{"*":".^.c-2","flg":21},"ev","str","^Smash the window","/str",{"CNT?":".^.^.^.^.try_the_windows"},"/ev",{"*":".^.c-3","flg":21},"ev","str","^Wait","/str",{"CNT?":".^.^.^.^.try_the_door"},{"CNT?":".^.^.^.^.try_the_windows"},"&&","/ev",{"*":".^.c-4","flg":21},{"c-0":["\\n","^I put my ear down to the keyhole, but there\'s nothing now. Probably still a guard outside, of course, but they\'re keeping mum.","\\n",{"->":".^.^"},{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^.try_the_windows"},"\\n",{"#f":5}],"c-2":["^ ",{"->":".^.^.^.^.^.try_the_door"},"\\n",{"#f":5}],"c-3":["^ ",{"->":".^.^.^.^.^.try_to_smash_the_window"},"\\n",{"#f":5}],"c-4":["\\n","^It\'s useless. There\'s nothing I can do but hope. I sit down on one corner of the bunk to wait.","\\n",{"->":"night_falls"},{"#f":5}],"#n":"opts"}],null],{"#f":3}],"try_the_windows":["^I go over to the window and try to jimmy it open. Not much luck, but in my struggling I notice this window only backs on the thin little brook that runs down the back of the compound. Which means, if I smashed it, I might get away with no—one seeing.","\\n",{"->":".^.^.from_outside_heard"},{"#f":3}],"try_to_smash_the_window":[["^The window is my only way out of here. I just need a way to smash it.","\\n","ev","str","^Punch it","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Find something","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Use something you\'ve got","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^I suppose my fist would do a good enough job. But I\'d cut myself to ribbons, most likely. ","<>","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","ev",2,"/ev",{"VAR=":"smashingWindowItem","re":true},"^I cast around the small room. There\'s a bucket in one corner for emergencies — I suppose I could use that. I pick it up but it\'s not very easy to heft. ","<>","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^I pat down my pockets but all I\'m carrying is the intercept, which is no good at all.","\\n",["ev","str","^Something you\'re wearing?","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Look around","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^Ah, but of course! I slip off one shoe and heft it by the toe. The heel will make a decent enough hammer, if I give it enough wallop.","\\n","ev",1,"/ev",{"VAR=":"smashingWindowItem","re":true},"^But I\'ll cut my hand to ribbons doing it. ","<>","\\n",{"->":".^.^.^.^.g-0"},{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.c-1"},"\\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"g-0":["^And the noise would be terrible. There must be a way of making this easier. I\'m supposed to be a thief now. What would a burglar do?","\\n","ev","str","^Work slowly","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Find something to help","/str","/ev",{"*":".^.c-4","flg":20},{"c-3":["\\n","^Work carefully? It\'s difficult to work carefully when all one\'s has is ","ev",{"VAR?":"smashingWindowItem"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^a bucket. It\'s rather like the sledgehammer for the proverbial nut",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["ev",{"VAR?":"smashingWindowItem"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["^a shoe",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^nothing but brute force",{"->":".^.^.^.7"},null]}],"nop",{"->":".^.^.^.9"},null]}],"nop","^.","\\n",["ev","str","^Just do it","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Look around for something","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":".^.^.^.^.^.^.^.time_to_move_now"},"\\n",{"->":".^.^.^.^.^.g-1"},{"#f":5}],"c-1":["\\n",{"->":".^.^.^.^.^.g-1"},{"#f":5}]}],{"#f":5}],"c-4":["\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":[{"->":".^.^.^.^.find_something_to_smash_window"},null]}],{"#f":3}],"time_to_move_now":[["^Enough of this. There isn\'t any time to lose. Right now they\'ll be following Hooper as he goes to bed, and goes to sleep; and then that\'s it. The minute he closes his eyelids and drifts off that\'s the moment that this trap swings shut on me.","\\n","^So I punch out the glass with my ","ev",{"VAR?":"smashingWindowItem"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^bucket",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["ev",{"VAR?":"smashingWindowItem"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["^shoe",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^fist",{"->":".^.^.^.7"},null]}],"nop",{"->":".^.^.^.10"},null]}],"nop","^ and it shatters with a terrific noise. Then I stop, and wait, to see if anyone will come in through the door.","\\n","^Nothing.","\\n","ev","str","^Wait a little longer","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Clear the frame of shards","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^I pause for a moment longer. It doesn\'t do to be too careless...","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^With my jacket wrapped round my arm, I sweep out the remaining shards of glass. It\'s not a big window, but I\'m not a big man. If I was Harris, I\'d be stuffed, but as it is...","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Then the door locks turns. The door opens. Then Jeremy — one of the guards, rather — sticks his head through the door. \\"I thought I heard...\\"","\\n","^He stops. Looks for a moment. ","ev",{"VAR?":"smashingWindowItem"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^Sees the bucket in my hand.",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["^Sees the broken window.",{"->":".^.^.^.10"},null]}],"nop","^ Then without a moment\'s further thought he blows his shrill whistles and hustles into the hut, grabbing me roughly by my arms.","\\n","ev",{"CNT?":".^.^.c-0"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^I\'ll never know if I hadn\'t have waited that extra moment — maybe I still could have got away. But, how far?","\\n",{"->":".^.^.^.17"},null]}],"nop","\\n","^I\'m hustled into one of the huts. Nowhere to sleep, but they\'re not interested in my comfort any longer. Harris comes in with the Captain.","\\n","^\\"So,\\" Harris remarks. \\"Looks like your little trap worked. Only it worked to show <i>you</i> out for what you are.\\"","\\n","ev","str","^Tell the truth","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-4","flg":20},{"c-2":["\\n","ev",{"CNT?":"i_met_a_young_man"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"Please, Harris. You can\'t understand the pressure they put me under. You can\'t understand what it\'s like, to be in love but be able to do nothing about it...\\"","\\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"Harris. They were blackmailing me. They knew about... certain indiscretions. You can understand, can\'t you, Harris? I was in an impossible bind...\\"","\\n",{"->":".^.^.^.6"},null]}],"nop","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-3":["\\n","^\\"I had to get out, Harris. I had to provoke Hooper into doing something that would incriminate himself fully. He\'s too clever, you see...\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-4":["\\n","^\\"This proves nothing,\\" I reply stubbornly. \\"You still don\'t have the component and without it, I don\'t see what you can hope to prove.\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":["^\\"Be quiet, man. We know all about your and your sordid affairs.\\" The Captain curls his lip. \\"Don\'t you know there\'s a war on? Do you know the kind of place they would have sent you if it haven\'t had been for that brain of yours? Don\'t you think you owe it to your country to use it a little more?\\"","\\n","^<i>Do I</i>, I wonder? <i>Do I owe this country anything, this country that has spurned who and what am I since the day I became a man?</i>","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-5","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-6","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-7","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-8","flg":20},{"c-5":["\\n","^My anger deflates like a collapsing equation, all arguments cancelling each other out. The world, of course, owes me nothing; and I owe it everything.","\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-6":["\\n","^<i>Of course not. I am alone; that is what they wanted me to be, because of who and what I love. So I have no nation, no country.</i>","\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-7":["^ \\t",{"->":".^.^.c-6"},"\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-8":["\\n","^<i>But what is a country, after all? A country is not a concept, not an ideal. Every country falls, its borders shift and move, its language disappears to be replaced by another. Neither the Reich nor the British Empire will survive forever, so what use is my loyalty to either? </i>","\\n","^<i>I may as well, therefore, look after myself. Something I have attempted, but failed miserably, to do.</i>","\\n",{"->":".^.^.^.g-2"},{"#f":5}]}],"g-2":["^\\"I\'m afraid we have only one option, Manning,\\" Harris says. \\"Please, man. Tell us where the component is.\\"","\\n","ev",1,"/ev",{"VAR=":"notraitor","re":true},"ev",0,"/ev",{"VAR=":"losttemper","re":true},"ev","str","^Tell them","/str","/ev",{"*":".^.c-9","flg":20},"ev","str","^Say nothing","/str","/ev",{"*":".^.c-10","flg":20},{"c-9":["\\n","ev",0,"/ev",{"VAR=":"revealedhooperasculprit","re":true},"^\\"All right.\\" I am beaten, after all. \\"","<>",{"->":"reveal_location_of_component"},"\\n",{"#f":5}],"c-10":["^ ",{"->":"my_lips_are_sealed"},"\\n",{"#f":5}]}]}],{"#f":3}],"find_something_to_smash_window":[["^Let me see. There\'s the bunk, ","ev",{"VAR?":"smashingWindowItem"},"!",2,"==","/ev",[{"->":".^.b","c":true},{"b":["^a bucket,",{"->":".^.^.^.8"},null]}],"nop","^ nothing else. I have my jacket but nothing in the pockets — no handkerchief, for instance.","\\n",["ev","str","^The bunk","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^The jacket","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^The bucket","/str",{"VAR?":"smashingWindowItem"},"!",2,"==","/ev",{"*":".^.c-2","flg":21},{"c-0":["\\n","^The bunk has a solid metal frame, a blanket, a pillow, nothing more.","\\n",[["ev","str","^The frame","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^The blanket","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^The pillow","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Something else","/str",{"CNT?":".^"},1,">","/ev",{"*":".^.c-3","flg":21},{"c-0":["\\n","^The frame is heavy and solid. I couldn\'t lift it or shift it without help from another man. And it wouldn\'t do me any good here anyway. I can reach the window perfectly well.","\\n",{"->":".^.^"},{"#f":5}],"c-1":["\\n","^The blanket. Perfect. I scoop it up off the bed and hold it in place over the window. ",{"->":"smash_the_window"},"\\n",{"#f":5}],"c-2":["\\n","^The pillow is fat and fluffy. I could put it over the window and it would muffle the sound of breaking glass, certainly; but I wouldn\'t be able to break any glass through it either.","\\n",{"->":".^.^"},{"#f":5}],"c-3":["^ ",{"->":".^.^.^.^.^"},"\\n",{"#f":5}],"#f":5,"#n":"bunk_opts"}],null],{"#f":5}],"c-1":["\\n","^I slip off my jacket and hold it with one hand over the glass. ",{"->":"smash_the_window"},"\\n",{"#f":5}],"c-2":["\\n","^The bucket? Hardly. The bucket might do some good if I wanted to sweep up the glass afterwards, but it won\'t help me smash the glass quietly.","\\n",{"->":".^.^"},{"#f":5}],"#n":"opts"}],null],{"#f":3}],"#f":3}],"smash_the_window":[["^Then I heft ","ev",{"VAR?":"smashingWindowItem"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^up the bucket — this really is quite a fiddly thing to be doing in cuffs — ",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["ev",{"VAR?":"smashingWindowItem"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["^ my shoe by its toe, ",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^back my arm, ",{"->":".^.^.^.7"},null]}],"nop",{"->":".^.^.^.8"},null]}],"nop","^ and take a strong swing, trying to imagine it\'s Harris\' face on the other side.","\\n","ev",1,"/ev",{"VAR=":"smashedglass","re":true},"ev",0,"/ev",{"VAR=":"smashingWindowItem","re":true},"ev","str","^Smash!","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^The sound of the impact is muffled. With my arm still covered, I sweep out the remaining glass in the frame.","\\n",["^I\'m ready to escape. The only trouble is — when they look in on me in the morning, there will be no question what has happened. It won\'t help me one jot with shifting suspicion off my back.","\\n","ev","str","^Wait","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Slip out","/str","/ev",{"*":".^.c-2","flg":20},{"c-1":["\\n","^So perhaps I should wait it out, after all. Who knows? I might have a better opportunity later.","\\n",{"->":"night_passes"},{"->":".^.^.^.^.g-2"},{"#f":5}],"c-2":["\\n","^Moving quickly and quietly, I hoist myself up onto the window—frame and worm my way outside into the freezing night air. Then I am away, slipping down the paths between the Huts, sticking to the shadows, on my way to Hut 2.","\\n",{"->":".^.^.^.^.g-2"},{"#f":5}],"#n":"g-1"}],null],"g-2":["ev","str","^Go the shortest way","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Take a longer route","/str","/ev",{"*":".^.c-4","flg":20},{"c-3":["\\n","^There\'s no time to lose. Throwing caution to the wind I make my way quickly to Hut 2, and around the back. I don\'t think I\'ve been seen but if I have it is too late. My actions are suspicious enough for the noose. I have no choice but to follow through.","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-4":["\\n","^In case I\'m being followed, I divert around the perimeter of the compound. It\'s a much longer path, and it takes me across some terrain that\'s difficult to negotiate in the dark — muddy, and thick with thistles and nestles.","\\n","ev",1,"/ev",{"VAR=":"muddyshoes","re":true},"^Still, I can be confident no—one is behind me. I crouch down behind the rear wall of Hut 2. ","<>","\\n",{"->":".^.^.^.g-3"},{"#f":5}]}],"g-3":["^The component is still there, wrapped in a tea—towel and shoved into a cavity in a breeze—block at the base of the Hut wall.","\\n","ev","str","^Take it","/str","/ev",{"*":".^.c-5","flg":20},"ev","str","^Leave it","/str","/ev",{"*":".^.c-6","flg":20},{"c-5":["\\n","^Quickly, I pull it free, and slip it into the pocket of my jacket.","\\n","ev",1,"/ev",{"VAR=":"gotcomponent","re":true},{"->":".^.^.^.g-4"},{"#f":5}],"c-6":["\\n","^Still there means no—one has found it, which means it is probably well—hidden. And short of skipping the compound now, I can afford to leave it hidden there a while longer. So I leave it in place.","\\n",{"->":".^.^.^.g-4"},{"#f":5}]}],"g-4":["^Where now?","\\n","ev","str","^Back to the barracks","/str","/ev",{"*":".^.c-7","flg":20},"ev","str","^Go to Hooper\'s dorm","/str",{"VAR?":"gotcomponent"},"/ev",{"*":".^.c-8","flg":21},"ev","str","^Escape the compound","/str","/ev",{"*":".^.c-9","flg":20},{"c-7":["^ ",{"->":"return_to_room_after_excursion"},"\\n",{"#f":5}],"c-8":["^ ",{"->":"go_to_hoopers_dorm"},"\\n",{"#f":5}],"c-9":["\\n","^Enough of this place. Time for me to get moving. I can get to the train station on foot, catch the postal train to Scotland and be somewhere else before anyone realises that I\'m gone.","\\n","^Of course, then they\'ll be looking for me in earnest. ","ev",{"VAR?":"framedhooper"},"!","/ev",[{"->":".^.b","c":true},{"b":["^As a confirmed traitor.",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["^Perhaps not as a traitor — they might take the idea that Hooper was involved with the theft — but certainly as a valuable mind, one containing valuable secrets and all too easily threatened. They will think I am running away because of my indiscretions. I suppose, in fairness, that I am.",{"->":".^.^.^.10"},null]}],"nop","\\n",["ev","str","^Go","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t go","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ \\t\\t\\t",{"->":"live_on_the_run"},"\\n",{"#f":5}],"c-1":["\\n","^It\'s no good. That\'s only half a solution. I couldn\'t be happy with that.","\\n",["ev","str","^Back to the barracks","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^To Hooper\'s dorm","/str",{"VAR?":"gotcomponent"},{"CNT?":"go_to_hoopers_dorm"},"!","&&","/ev",{"*":".^.c-1","flg":21},{"c-0":["^ \\t\\t\\t",{"->":"return_to_room_after_excursion"},"\\n",{"#f":5}],"c-1":["^ ",{"->":"go_to_hoopers_dorm"},"\\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}]}]}],{"#f":3}],"go_to_hoopers_dorm":[["^I creep around the outside of the huts towards Hooper\'s dorm. Time to wrap up this little game once and for all. A few guards patrol the area at night but not many — after all, very few know this place even exists.","\\n","^Our quarters are arranged away from the main house; where we sleep is of less importance than where we work. We each have our own hut, through some are less permanent than others. Hooper\'s is a military issue tent: quite a large canopy, with two rooms inside and a short porch area where he insists people leave their shoes. It\'s all zipped up for the night and no light shines from inside.","\\n","^I hang back for a moment. If Harris is keeping to the terms of our deal then someone will be watching this place. But I can see no—one.","\\n","ev","str","^Open the outer zip","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Look for another opening","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Hide the component somewhere","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^I creep forward to the tent, intent on lifting the zip to the front porch area just a little — enough to slip the component inside, and without the risk of the noise waking Hooper from his snoring.","\\n","^The work is careful, and more than little fiddly — Hooper has tied the zips down on the inside, the fastidious little bastard! — but after a little work I manage to make a hole large enough for my hand.","\\n",["ev","str","^Slip in the component","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No, some other way","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^I slide the component into the tent, work the zip closed, and move quickly away into the shadows. It takes a few minutes for my breath to slow, and my heart to stop hammering, but I see no other movement. If anyone is watching Hooper\'s tent, they are asleep at their posts.","\\n","ev",1,"/ev",{"VAR=":"putcomponentintent","re":true},"ev",0,"/ev",{"VAR=":"gotcomponent","re":true},{"->":"return_to_room_after_excursion"},{"#f":5}],"c-1":["\\n","^Then pause. This is too transparent. Too blatant. If I leave it here, like this, Hooper will never be seen to go looking for it: he will stumble over it in plain sight, and the men watching will wonder why it was not there when he went to bed.","\\n","^No, I must try something else — or nothing at all.","\\n",["ev","str","^On top of the tent","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Throw the component into the long grass","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Give up","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^ ",{"->":".^.^.^.^.^.^.^.put_component_on_tent"},"\\n",{"#f":5}],"c-1":["\\n","^From inspiration — or desperation, I am not certain — a simple approach occurs to me. ",{"->":".^.^.^.^.^.^.^.toss_component_into_bushes"},"\\n",{"#f":5}],"c-2":["\\n","^There is nothing to be gained here. I have the component now; maybe it will be of some value tomorrow.","\\n",["ev","str","^Return to my barrack","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Escape the compound","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"return_to_room_after_excursion"},"\\n",{"#f":5}],"c-1":["^ ",{"->":"live_on_the_run"},"\\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-1":["\\n","^Making a wide circuit I creep around the tent. It has plenty of other flaps and openings, tied down with Gordian complexity. But nothing afford itself to slipping the component inside.","\\n",["ev","str","^Try the porch zip","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Try on top of the tent","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Give up","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^ \\t\\t\\t",{"->":".^.^.^.^.c-0"},"\\n",{"#f":5}],"c-1":["^ \\t\\t",{"->":".^.^.^.^.^.put_component_on_tent"},"\\n",{"#f":5}],"c-2":["\\n","^It\'s no good. Nothing I can do will be any less than obvious — something appearing where something was not there before. The men watching Hooper will know it is a deception and Hooper\'s protestations will be taken at face value.","\\n","^If I can\'t find a way for Hooper to pick the component up, as if from a hiding place of his own devising, and be caught doing it, then I have no plan at all.","\\n",["ev","str","^Return to my barrack","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Escape the compound","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Toss the component into the bushes","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^ ",{"->":"return_to_room_after_excursion"},"\\n",{"#f":5}],"c-1":["^ ",{"->":"live_on_the_run"},"\\n",{"#f":5}],"c-2":["^ ",{"->":".^.^.^.^.^.^.^.toss_component_into_bushes"},"\\n",{"#f":5}]}],{"#f":5}]}],{"#f":5}],"c-2":["\\n","^If I leave the component here somewhere it should be somewhere I can rely on Hooper finding it, but no—one before Hooper. In particular.","\\n",["ev","str","^Behind the tent","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Inside the porch section","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^On top of the canvas","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["^\\t\\t\\t \\t",{"->":".^.^.^.^.c-1"},"\\n",{"#f":5}],"c-1":["^ \\t\\t",{"->":".^.^.^.^.c-0"},"\\n",{"#f":5}],"c-2":["^ \\t\\t\\t",{"->":".^.^.^.^.^.put_component_on_tent"},"\\n",{"#f":5}]}],{"#f":5}]}],{"put_component_on_tent":["^A neat idea strikes me. If I could place it on top of the canvas, somewhere in the middle where it would bow the cloth inwards, then it would be invisible to anyone passing by. But to Hooper, it would be above him: a shadow staring him in the face as he awoke. What could be more natural than getting up, coming out, and looking to see what had fallen on him during the night?","\\n","^It\'s the work of a moment. I was once an excellent bowler for the second XI back at school. This time I throw underarm, of course, but I still land the vital missing component exactly where I want it to go.","\\n","ev",1,"/ev",{"VAR=":"framedhooper","re":true},"ev",0,"/ev",{"VAR=":"gotcomponent","re":true},"^For a second I hold my breath, but nothing and no—one stirs. ",{"->":"return_to_room_after_excursion"},"\\n",{"#f":3}],"toss_component_into_bushes":["^I toss the component away into the bushes behind Hooper\'s tent and return to my barrack, wishing myself a long sleep followed by a morning, free of this business.","\\n","ev",0,"/ev",{"VAR=":"gotcomponent","re":true},"ev",1,"/ev",{"VAR=":"throwncomponentaway","re":true},{"->":"return_to_room_after_excursion"},{"#f":3}],"#f":3}],"live_on_the_run":["^Better to live on the run than die on the spit. Creeping around the edge of the compound","ev",{"VAR?":"gotcomponent"},"/ev",[{"->":".^.b","c":true},{"b":["^, the Bombe component heavy in my pocket",{"->":".^.^.^.5"},null]}],"nop","^, I make my way to the front gate. As always, it\'s manned by two guards, but I slip past their box by crawling on my belly.","\\n","^And then I\'m on the road. Walking, not running. Silent. Free.","\\n","^For the moment, at least.","\\n","end",{"#f":3}],"return_to_room_after_excursion":[["ev",{"VAR?":"gotcomponent"},"/ev",[{"->":".^.b","c":true},{"b":["^The weight of the Bombe component safely in my jacket",{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["^Satisfied",{"->":".^.^.^.5"},null]}],"nop","^, I return the short way up the paths between the huts to the barrack block and the broken window.","\\n","^It\'s a little harder getting back through — the window is higher off the ground than the floor inside — but after a decent bit of jumping and hauling I manage to get my elbows up, and then one leg, and finally I collapse inside, quite winded and out breath.","\\n","ev","str","^Wait","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["^  \\t",{"->":"night_passes"},"\\n",{"#f":5}]}],{"#f":3}],"night_passes":[["^The rest of the night passes slowly. I sleep a little, dozing mostly. Then I\'m woken by the rooster in the yard. The door opens, and Harris comes in. He takes one look at the broken window and frowns with puzzlement.","\\n","ev",{"VAR?":"putcomponentintent"},"/ev",[{"->":".^.b","c":true},{"b":["^ ",{"->":".^.^.^.^.put_component_inside_tent"},{"->":".^.^.^.6"},null]}],"nop","\\n","^\\"What happened there?\\"","\\n","ev","str","^Confess","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Deny","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Show him the component","/str",{"VAR?":"gotcomponent"},"/ev",{"*":".^.c-2","flg":21},{"c-0":["\\n","^\\"I broke it,\\" I reply. There doesn\'t seem any use in trying to lie. \\"I thought I could escape. But I couldn\'t get myself through.\\"","\\n","^The Commander laughs. ",{"->":".^.^.^.glad_youre_here"},"\\n",{"#f":5}],"c-1":["\\n","^\\"I\'m not sure. I was asleep: I woke up when someone broke the window. I looked out to see who it was, but they were already gone.\\"","\\n","^Harris looks at me with puzzlement. \\"Someone came by to break the window, and then ran off? That\'s absurd. That\'s utterly absurd. Admit it, Manning. You tried to escape and you couldn\'t get through.\\"","\\n",["ev","str","^Admit it","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Deny it","/str",{"VAR?":"framedhooper"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Deny it","/str",{"VAR?":"framedhooper"},"/ev",{"*":".^.c-2","flg":21},{"c-0":["\\n","^\\"All right. ","ev",{"VAR?":"forceful"},1,">","/ev",[{"->":".^.b","c":true},{"b":["^Damn you.",{"->":".^.^.^.8"},null]}],"nop","^ That\'s exactly it.\\"","\\n",{"->":".^.^.^.^.^.glad_youre_here"},{"#f":5}],"c-1":["\\n","^\\"If I wanted to escape, I would have made damn sure that I could,\\" I tell him sternly.","\\n",{"->":"harris_certain_is_you"},{"#f":5}],"c-2":["\\n","^\\"I tell you, someone broke it. Someone wanted to threaten me, I think.\\"","\\n","^Harris shakes his head. \\"Well, we can look into that matter later. For now, you probably want to hear the more pressing news. ",{"->":".^.^.^.^.^.found_missing_component"},"\\n",{"#f":5}]}],{"#f":5}],"c-2":["^ ",{"->":".^.^.^.someone_threw_component"},"\\n",{"#f":5}]}],{"put_component_inside_tent":[["^He takes one look around, and sighs, a deep, wistful sigh.","\\n","^\\"Things just get worse and worse for you, Manning,\\" he remarks. \\"You are your own worst enemy.\\"","\\n","ev","str","^Agree","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Disagree","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^\\"I\'ve thought so before.\\" ","ev",{"VAR?":"admitblackmail"},"/ev",[{"->":".^.b","c":true},{"b":["^Certainly in the matter of getting blackmailed.",{"->":".^.^.^.6"},null]}],"nop","\\n","^\\"Let me tell you what happened this morning. ","<>","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"Right now, I think you take that role, Harris,\\" I reply coolly.","\\n",[["^\\"Very droll,\\" he replies. \\"Let me tell you what happened this morning. It will take the smile off your face. ","<>","\\n",{"->":".^.^.^.^.g-0"},{"#n":"droll"}],null],{"#f":5}],"c-2":["\\n","^\\"I\'m looking forward to having a wash and a change of clothes; which should make me a little less evil to be around.\\"","\\n",{"->":".^.^.c-1.3.droll"},{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Our men watching Hooper\'s tent saw Hooper wake up, get dressed, clamber out of his tent and then step on something in at the entrance of his tent.\\"","\\n","ev",1,"/ev",{"VAR=":"piecereturned","re":true},"ev","str","^Be interested","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Be dismissive","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Say nothing","/str","/ev",{"*":".^.c-5","flg":20},{"c-3":["\\n","^\\"You mean he didn\'t even hide it? He put it in his shoe?\\"","\\n",[["^\\"No,\\" Harris replies. \\"That isn\'t really what I mean. ","<>","\\n",{"->":".^.^.^.^.^.g-1"},{"#n":"not_that"}],null],{"#f":5}],"c-4":["\\n","^\\"So he\'s an idiot, and he hid it in his shoe.\\"","\\n",{"->":".^.^.c-3.3.not_that"},{"->":".^.^.^.g-1"},{"#f":5}],"c-5":["\\n","^I say quiet, listening, not sure how this will go.","\\n","^\\"In case I\'m not making myself clear,\\" Harris continues, \\"","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":["^I mean, he managed to find it, by accident, somewhere where it wasn\'t the night before. And at the same time, you\'re sitting here with your window broken. So, I rather think you\'ve played your last hand and lost. It\'s utterly implausible that Hooper stole that component and then left it lying around in the doorway of his tent. So I came to tell you that the game is up, for you.\\"","\\n","^He nods and gets to his feet. ",{"->":"left_alone"},"\\n",null]}],{"#f":3}],"someone_threw_component":[["^\\"Someone threw this in through the window over night,\\" I reply, and open my jacket to reveal the component from the Bombe. \\"I couldn\'t see who, it was too dark. But I know what it is.\\"","\\n","^He reaches out and takes it. \\"Well, I\'ll be damned,\\" he murmurs. \\"That\'s it all right. And you didn\'t have it on you when we put you in here. But it can\'t have been Hooper — I had men watching him all night. And there\'s no—one else it could have been.\\"","\\n","^He turns the component over in his hands, bemused.","\\n","ev",1,"/ev",{"VAR=":"piecereturned","re":true},"ev","str","^Suggest something","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Suggest nothing","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"Perhaps Hooper had an accomplice. Someone else who works on site.\\"","\\n","^Harris shakes his head, distractedly. \\"That doesn\'t make sense,\\" he says. \\"Why go to all the trouble of stealing it only to give it back? And why like this?\\"","\\n",["ev","str","^Suggest something","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Suggest nothing","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"Perhaps the accomplice thought it was Hooper being kept in here. Maybe they saw the guard...\\"","\\n",{"->":"all_too_farfetched"},{"->":".^.^.^.^.g-0"},{"#f":5}],"c-1":["\\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^I shrug, eloquently.","\\n",[{"->":"all_too_farfetched"},{"#n":"g-1"}],null]}],{"#f":3}],"glad_youre_here":[["^\\"Shame,\\" he remarks. \\"I should have left that window open and put a guard on you. Might have been interesting to see where you went. Anyway, I\'m glad you\'re still here, even if you do smell like a dog.\\"","\\n","ev","str","^Be optimistic","/str",{"VAR?":"framedhooper"},"!","/ev",{"*":".^.c-0","flg":21},"ev","str","^Be pessimistic","/str",{"VAR?":"framedhooper"},"!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Be optimistic","/str",{"VAR?":"framedhooper"},"/ev",{"*":".^.c-2","flg":21},"ev","str","^Be pessimistic","/str",{"VAR?":"framedhooper"},"/ev",{"*":".^.c-3","flg":21},{"c-0":["\\n",{"->":"night_falls.morning_not_saved.0.c-0"},{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n",{"->":"night_falls.morning_not_saved.0.c-1"},{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^\\"I\'m looking forward to having a bath.\\"","\\n","^\\"Well, you should enjoy it. ","<>","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["\\n","^\\"I imagine I\'ll smell worse after another couple of days of this.\\"","\\n","^\\"That won\'t be necessary. ","<>","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":".^.^.^.^.found_missing_component"},null]}],{"#f":3}],"found_missing_component":[["^We found the missing component. Or rather, Hooper found it for us. He snuck out and retrieved it from on top. Of all the damnest places — you would never have known it was there. He claimed ignorance when we jumped him, of course. But it\'s good enough for me.\\"","\\n","ev","str","^Approve","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Disapprove","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"I can\'t tell you enough, I\'m glad to hear it. I\'ve had a devil of a night.\\"","\\n","^His gaze flicks to the broken window, but only for a moment. I think he genuinely cannot believe I could have done it.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"You should never have hired him. A below-average intelligence can\'t be expected to cope with the pressure of our work.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^Harris rolls his eyes, but he might almost be smiling. \\"You\'d better get along, ","ev",{"CNT?":".^.^.c-0"},"/ev",[{"->":".^.b","c":true},{"b":["^and work through your devils",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["^Mr Intelligent",{"->":".^.^.^.6"},null]}],"nop","^. There\'s a 24—hour—late message to be tackled and we\'re a genius short. So you\'d better be ready to work twice as hard.\\"","\\n","ev","str","^Thank him","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Argue with him","/str","/ev",{"*":".^.c-3","flg":20},{"c-2":["\\n","^\\"I\'ll enjoy it. Thank you for helping me clear this up.\\"","\\n","^\\"Don\'t thank me yet. There\'s still a war to fight. Now get a move on.\\"","\\n","^I nod, and hurry out of the door. The air outside has never tasted fresher and more invigorating. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-3":["\\n","^\\"I\'ll work as hard as I work.\\"","\\n","^\\"Get out,\\" Harris growls. \\"Before I decide to arrest you as an accessory.\\"","\\n","^I do as he says. Outside the barrack, the air has never smelt sweeter.","\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":[{"->":"head_for_my_dorm_free"},null]}],{"#f":3}],"#f":3}],"night_falls":[["^Night falls. The clockwork of the heavens keeps turning, whatever state I might be in. No—one can steal the components that make the sun go down and the stars come out. I watch it performing its operations. I can\'t sleep.","\\n","ev",{"VAR?":"hooperClueType"},0,">","/ev",[{"->":".^.b","c":true},{"b":["\\n","^Has Hooper taken my bait?","\\n",{"->":".^.^.^.8"},null]}],"nop","\\n","ev","str","^Look of out the window","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Listen at the door","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Wait","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\\n","^I peer out of the window, but it looks out onto the little brook at the back of the compound, with no view of the other huts or the House. Who knows if there are men up, searching the base of Hut 2, following one another with flashlights...","\\n","ev",{"CNT?":"inside_hoopers_hut.back_of_hut_2"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^Perhaps Hooper is there, in the dark, trying to help me after all?","\\n",{"->":".^.^.^.7"},null]}],"nop","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^I put my ear to the keyhole but can make out nothing. Are there still guards posted? ","ev",{"VAR?":"hooperClueType"},0,">","/ev",[{"->":".^.b","c":true},{"b":["^Perhaps, if Hooper has managed to incriminate himself, the guards have been removed?",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^Perhaps the component has been found and the crisis is over.",{"->":".^.^.^.9"},null]}],"nop","\\n","^Perhaps the door is unlocked and they left me to sleep?","\\n",["ev","str","^Try it","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Leave it","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ I try the handle. No such luck.","\\n",{"->":".^.^.^.^.g-0"},{"#f":5}],"c-1":["^ I don\'t touch it. I don\'t want anyone outside thinking I\'m trying to escape.","\\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-2":["\\n","^There is nothing I can do to speed up time.","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^The night moves at its own pace. I suppose by morning I will know my fate.","\\n","ev","str","^Wait","/str",{"VAR?":"hooperClueType"},0,">","/ev",{"*":".^.c-3","flg":21},"ev","str","^Wait","/str",{"VAR?":"hooperClueType"},0,"==","/ev",{"*":".^.c-4","flg":21},{"c-3":["\\n","^Morning comes. I\'m woken by a rooster calling from the yard behind the House. I must have slept after all. I pull myself up from the bunk, shivering slightly. There is condensation on the inside of the window. I have probably given myself a chill.","\\n","^Without knocking, Harris comes inside. \\"You\'re up,\\" he remarks, and then, \\"You smell like an animal.\\"","\\n",["ev","str","^Be friendly","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Be cold","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"I suppose I do rather.\\" I laugh, but Harris does not.","\\n","^\\"This damn business gets worse and worse,\\" he says, talking as he goes over to unlock and throw open the window. ","<>","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"So would you,\\" I reply tartly. Harris shrugs.","\\n","^\\"I\'ve been through worse than this,\\" he replies matter—of—factly. \\"It\'s hardly my fault if you sleep in your clothes.\\"","\\n","^I glare back. He goes over to the window, unlocks it and throws it open, relishing the fresh air from outside.","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^\\"Hooper\'s confessed, you know.\\"","\\n","ev","str","^Be eager","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Be cautious","/str","/ev",{"*":".^.c-3","flg":20},{"c-2":["\\n","^\\"He has? I knew he would. The worm.\\"","\\n","^\\"Steady now. Matters aren\'t over yet. ","<>","\\n",{"->":".^.^.^.hooper_didnt_give_himself_up"},{"#f":5}],"c-3":["\\n","^\\"Oh, yes?\\"","\\n","^\\"Yes. For what that\'s worth. ","<>","\\n",{"->":".^.^.^.hooper_didnt_give_himself_up"},{"#f":5}]}],"hooper_didnt_give_himself_up":["^There\'s still the issue of the component. It hasn\'t turned up. He didn\'t lead us to it. I guess he figured you must have had something on him. I don\'t know.\\"","\\n","^He looks quite put out by the whole affair. He is not the kind of man to deal well with probabilities.","\\n","ev","str","^Be interested","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Be disinterested","/str","/ev",{"*":".^.c-5","flg":20},{"c-4":["\\n","^\\"You mean he confessed of his own accord? You didn\'t catch him?\\"","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-5":["\\n","^\\"Well, I\'m glad his conscience finally caught up with him,\\" I reply dismissively.","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"#f":5}],"g-1":["^\\"The Captain went back into that hut and he confessed immediately. We were so surprised we didn\'t let you go.\\" He wrinkles his nose. \\"I\'m rather sorry about that now. I suggest you have a wash.\\"","\\n","^And with that he gestures to the doorway.","\\n","ev","str","^Go","/str","/ev",{"*":".^.c-6","flg":20},"ev","str","^Wait","/str","/ev",{"*":".^.c-7","flg":20},{"c-6":["\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-7":["\\n","^I hang back a moment. Something does not seem quite right. After all, Hooper did not steal the component. He has no reason to confess to anything. Perhaps this is another trap?","\\n","^\\"Well?\\" Harris asks. \\"What are you waiting for? Please don\'t tell me <i>you</i> want to confess now as well, I don\'t think my head could stand it.\\"","\\n",["ev","str","^Confess","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t confess","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^After a chance like this? A chance — however real — to save my neck? To hand it over — what, to save Hooper\'s worthless skin?","\\n",["ev","str","^Confess","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t confess","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^I see. Perhaps you think I bullied the man into giving himself up. Perhaps he understood my little clue far enough to know it was a threat against him, but not well enough to understand where he should look to find it. So he took the easy route out and folded. Gave me the hand.","\\n","ev",1,"/ev",{"VAR=":"hooperConfessed","re":true},"^Hardly sporting, of course.","\\n",["ev","str","^Confess","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t confess","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^Well, then. I suppose this must be what it feels like to have a conscience. I suppose I had always wondered.","\\n","^\\"Harris, sir. I don\'t know what Hooper\'s playing at, sir. But I can\'t let him do this.\\"","\\n","^\\"Do what?\\"","\\n","^\\"Take the rope for this. I took it, sir.","\\n","ev",0,"/ev",{"VAR=":"revealedhooperasculprit","re":true},"ev",0,"/ev",{"VAR=":"losttemper","re":true},{"->":"reveal_location_of_component"},{"->":".^.^.^.^.^.^.g-0"},{"#f":5}],"c-1":["\\n",{"->":".^.^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["\\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^\\"I certainly don\'t. But still, I\'m surprised. I had Hooper down for a full—blown double agent, a traitor. He knows he\'ll face the rope, doesn\'t he?\\"","\\n","^\\"Don\'t ask me to explain why he did what he did,\\" Harris sighs. \\"Just be grateful that he did, and you\'re now off the hook.\\"","\\n",{"->":".^.^.^.^.^.g-2"},null]}],{"#f":5}]}],"g-2":["^Curiouser and curiouser. I nod once to Harris and slip outside into the cold morning air.","\\n","ev",{"VAR?":"hooperClueType"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["\\n","^Hooper\'s confession only makes sense in one fashion","ev",{"VAR?":"hooperConfessed"},"/ev",[{"->":".^.b","c":true},{"b":["^, and that is his being dim—witted and slow",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^ — if I successfully implied to him that I had him framed, but he did not unpack my little clue well enough to go looking for the component. Well, I had figured him for a more intelligent opponent, but a resignation from the game will suffice",{"->":".^.^.^.7"},null]}],"nop","^. Or perhaps he knew he would be followed if he went to check, and decided he would be doomed either way.","\\n",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["\\n","^Hooper\'s confession only makes sense in one way — and that\'s that he believed me. He reasoned that he would be followed. To try and uncover the component would have got him arrested, and to confess was the same.","\\n","^He simply caved, and threw in his hand.","\\n",{"->":".^.^.^.9"},null]}],"nop","\\n","^Of course, however, there is only one way to be certain that Harris is telling the truth, and that is to check the breeze—block at the back of Hut 2.","\\n","ev","str","^Check","/str","/ev",{"*":".^.c-8","flg":20},"ev","str","^Don\'t check","/str","/ev",{"*":".^.c-9","flg":20},{"c-8":["^ ",{"->":"go_to_where_component_is_hidden"},"\\n",{"#f":5}],"c-9":["\\n","^But there will time for that later. If there is nothing there, then Hooper discovered the component after all and Harris\' men will have swooped on him, and the story about his confession is just a ruse to test me out.","\\n","^And if the component is still there — well. It will be just as valuable to my contact in a week\'s time, and his deadline of the 31st is not yet upon us.","\\n",{"->":"head_for_my_dorm_free"},{"#f":5}]}]}],{"#f":5}],"c-4":["^ ",{"->":".^.^.^.^.morning_not_saved"},"\\n",{"#f":5}]}]}],{"morning_not_saved":[["^Morning comes with the call of a rooster from the yard of the House. I must have slept after all. I pull myself up off the bunk, shivering slightly. There is condensation on the inside of the window. I have probably given myself a chill.","\\n","^It\'s not long after that Harris enters the hut. He closes the door behind him, careful as ever, then takes a chair across from me.","\\n","^\\"You smell like a dog,\\" he remarks.","\\n","ev","str","^Be optimistic","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Be pessimistic","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"I\'m looking forward to a long bath,\\" I reply. \\"And getting back to work.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"So would you after the night I\'ve had.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"harris_certain_is_you"},null]}],{"#f":3}],"#f":3}],"harris_certain_is_you":["^\\"Well, I\'m afraid it is going to get worse for you,\\" Harris replies soberly. \\"We followed Hooper, and he took himself neatly to bed and slept like a boy scout. Which puts us back to square one, and you firmly in the frame. And I\'m afraid I don\'t have time for any more games. I want you to tell me where that component is, or we will hang you as a traitor.\\"","\\n","ev",0,"/ev",{"VAR=":"revealedhooperasculprit","re":true},"ev",0,"/ev",{"VAR=":"losttemper","re":true},{"->":"harris_threatens_lynching"},{"#f":3}],"head_for_my_dorm_free":[["^I head for my dorm, intent on a bath, breakfast, a glance at the crossword before the other men get to it, and then on with work. They should have replaced the component in the Bombe by now. We will only be a day behind.","\\n","ev",{"VAR?":"framedhooper"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^And then everything will proceed as before. The component will mean nothing to the Germans — this is the one fact I could never have explained to a man like Harris, even though the principle behind the Bombe is the same as the principle behind the army. The individual pieces — the men, the components — do not matter. They are identical. It is how they are arranged that counts.","\\n",{"->":".^.^.^.7"},null]}],"nop","\\n","^I bump into Russell in the dorm hut.","\\n","^\\"Did you hear?\\" he whispers. \\"Terrible news about Hooper. Absolutely terrible.\\"","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["\\n","^\\"Quite terrible. I would never have guessed.\\"","\\n","^\\"Well.\\" Russell harrumphs.","\\n",[["^\\"Quince was saying this morning, apparently his grandfather was German. So perhaps it\'s to be expected. See you there?\\"","\\n",{"->":".^.^.^.^.g-0"},{"#n":"quince"}],null],{"#f":5}],"c-1":["\\n","^\\"Heard what?\\"","\\n",[["^\\"Hooper\'s been taken away. They caught him, uncovering that missing Bombe component from a hiding place somewhere, apparently about to take it to his contact.\\" Russell harrumphs. ",{"->":".^.^.^.^.c-0.5.quince"},"\\n",{"->":".^.^.^.^.g-0"},{"#n":"hooper_taken"}],null],{"#f":5}],"c-2":["\\n","^\\"I don\'t know what you\'re talking about.\\"","\\n",{"->":".^.^.c-1.3.hooper_taken"},{"->":".^.^.g-0"},{"#f":5}],"c-3":["\\n","^\\"If you\'ll excuse me, Russell. I was about to take a bath.\\"","\\n","^\\"Oh, of course. Worked all night, did you? Well, you\'ll hear soon enough. Can hardly hide the fact there\'ll only be three of us from now on.\\"","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^I wave to him and move away, my thoughts turning to the young man in the village. My lover. My contact. My blackmailer. Hooper may have taken the fall for the missing component, but ","ev",{"VAR?":"framedhooper"},"!","/ev",[{"->":".^.b","c":true},{"b":["^if he did recover it from Hut 2 then ",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^ its recovery does mean ",{"->":".^.^.^.7"},null]}],"nop","^I have nothing to sell to save my reputation","ev",{"CNT?":"i_met_a_young_man"},"/ev",[{"->":".^.b","c":true},{"b":["^, if I have any left",{"->":".^.^.^.13"},null]}],"nop","^.","\\n","ev",{"VAR?":"framedhooper"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^If he didn\'t, of course, and Harris was telling the truth about his sudden confession, then I will be able to buy my freedom once and for all.","\\n",{"->":".^.^.^.21"},null]}],"nop","\\n","ev","str","^Get the component","/str",{"VAR?":"framedhooper"},"!","/ev",{"*":".^.c-4","flg":21},"ev","str","^Leave it","/str",{"VAR?":"framedhooper"},"!","/ev",{"*":".^.c-5","flg":21},"ev","str","^Act normal","/str","/ev",{"*":".^.c-6","flg":20},{"c-4":["^ ",{"->":"go_to_where_component_is_hidden"},"\\n",{"#f":5}],"c-5":["\\n","^I will have to leave that question for another day. To return there now, when they\'re probably watching my every step, would be suicide. After all, if Hooper ","ev",{"VAR?":"hooperClueType"},1,"==","/ev",[{"->":".^.b","c":true},{"b":["^followed",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^understood",{"->":".^.^.^.9"},null]}],"nop","^ my clue, he will have explained it to them to save his neck. They won\'t believe him — but they won\'t quite disbelieve him either. We\'re locked in a cycle now, him and me, of half—truth and probability. There\'s nothing either of us can do to put the other entirely into blame.","\\n",{"->":"ending_return_to_normal"},{"#f":5}],"c-6":["\\n","^But there is nothing to be done about it. ",{"->":"ending_return_to_normal"},"\\n",{"#f":5}]}]}],{"#f":3}],"ending_return_to_normal":[["^Nothing, that is, except to act as if there is no game being played. I\'ll have a bath, then start work as normal. I\'ve got a week to find something to give my blackmailer","ev",{"CNT?":"i_met_a_young_man"},"/ev",[{"->":".^.b","c":true},{"b":["^ — or give him nothing: it seems my superiors know about my indiscretions now already",{"->":".^.^.^.5"},null]}],"nop","^.","\\n","ev","str","^Co-operate","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Dissemble","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-3","flg":20},{"c-0":["\\n","^Something will turn up. It always does. An opportunity will present itself, and more easily now that Hooper is out of the way.","\\n","^But for now, there\'s yesterday\'s intercept to be resolved.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^Or perhaps I might hand my young blackmailer over my superiors instead for being the spy he is.","\\n","^Perhaps that would be the moral thing to do, even, and not just the most smart.","\\n","^But not today. Today, there\'s an intercept to resolve.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["\\n","^In a week\'s time, this whole affair will be in the past and quite forgotten. I\'m quite sure of that. ",{"->":".^.^.c-3"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["^ I\'ve more important problems to think about now. There\'s still yesterday\'s intercept to be resolved.","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^The Bombe needs to be set up once more and set running.","\\n","^It\'s time I tackled a problem I can solve.","\\n","end",null]}],{"#f":3}],"go_to_where_component_is_hidden":[["^It won\'t take a moment to settle the matter. I can justify a walk past Hut 2 as part of my morning stroll. It will be obvious in a moment if the component is still there.","\\n","^On my way across the paddocks, between the huts and the House, I catch sight of young Miss Lyon, arriving for work on her bicycle. She giggles as she sees me and waves.","\\n","ev","str","^Wave back","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Ignore her","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^I wave cheerily back and she giggles, almost drops her bicycle, then dashes away inside the House. Judging by the clock on the front gable, she\'s running a little late this morning.","\\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\\n","^I give no reaction. She sighs to herself, as if this kind of behaviour is normal, and trots away inside the House to begin her duties.","\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^I turn the corner of Hut 3 and walk down the short gravel path to Hut 2. It was a good spot to choose — Hut 2 is where the electricians work, and they\'re generally focussed on what they\'re doing. They don\'t often come outside to smoke a cigarette so it\'s easy to slip past the doorway unnoticed.","\\n","ev","str","^Check inside","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Go around the back","/str","/ev",{"*":".^.c-3","flg":20},{"c-2":["\\n","^I hop up the steps and put my head inside all the same. Nobody about. Still too early in the AM for sparks, I suppose. ","<>","\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-3":["\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":["^I head on around the back of the hut. The breeze—block with the cavity is on the left side.","\\n","ev","str","^Check","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Look around","/str","/ev",{"*":".^.c-5","flg":20},{"c-4":["\\n","^No time to waste. I drop to my knees and check the breeze—block. Sure enough, there\'s nothing there. <i>Hooper took the bait.</i>","\\n","^Suddenly, there\'s a movement behind me. I look up to see, first a snub pistol, and then, Harris.","\\n",{"->":".^.^.^.g-2"},{"#f":5}],"c-5":["\\n","^I pause to glance around, and catch a glimpse of movement. Someone ducking around the corner of the hut. Or a canvas sheet flapping in the light breeze. Impossible to be sure.","\\n",["ev","str","^Check the breeze—block","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Check around the side of the hut","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":".^.^.^.^.c-4"},"\\n",{"->":".^.^.^.^.^.g-2"},{"#f":5}],"c-1":["\\n","^But too important to guess. I move back around the side of the hut.","\\n","^Harris is there, leaning in against the wall. He holds a stub pistol in his hand.","\\n",{"->":".^.^.^.^.^.g-2"},{"#f":5}]}],{"#f":5}]}],"g-2":["ev",{"VAR?":"hooperClueType"},1,">","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"","ev",{"VAR?":"hooperClueType"},2,"==","/ev",[{"->":".^.b","c":true},{"b":["^Queen to rook two",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^Messy without one missing whatever it was",{"->":".^.^.^.9"},null]}],"nop","^,\\" he declares. \\"I wouldn\'t have fathomed it but Hooper did. Explained it right after we sprung him doing what you\'re doing now. We weren\'t sure what to believe but now, you seem to have resolved that for us.\\"","\\n",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"Hooper said you\'d told him where to look. I didn\'t believe him. Or, well. I wasn\'t sure what to believe. Now I rather think you\'ve settled it.\\"","\\n",{"->":".^.^.^.7"},null]}],"nop","\\n","ev","str","^Agree","/str","/ev",{"*":".^.c-6","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-7","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-8","flg":20},{"c-6":["\\n","^\\"I have, rather.\\" I put my hands into my pockets. \\"I seem to have done exactly that.\\"","\\n","^\\"I\'m afraid my little story about Hooper confessing wasn\'t true. I wanted to see if you\'d go to retrieve the part.\\" Harris gestures me to start walking. \\"You were close, Manning, I\'ll give you that. I wanted to believe you. But I\'m glad I didn\'t.\\"","\\n",{"->":".^.^.^.g-3.done"},{"->":".^.^.^.g-3"},{"#f":5}],"c-7":["\\n","^\\"I spoke to Russell. He said he saw Hooper doing something round here. I wanted to see what it was.\\"","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-8":["\\n","^\\"Harris, you\'d better watch out. He\'s planted a time—bomb here.\\"","\\n","^Harris stares at me for a moment, then laughs. \\"Oh, goodness. That\'s rich.\\"","\\n","^I almost wish I had a way to make the hut explode, but of course I don\'t.","\\n",{"->":".^.^.^.g-3"},{"#f":5}]}],"g-3":["^\\"Enough.\\" Harris gestures for me to start walking. \\"This story couldn\'t be simpler. You took it to cover your back. You hid it. You lied to get Hooper into trouble, and when you thought you\'d won, you came to scoop your prize. A good hand but ultimately, ","ev",{"VAR?":"hooperClueType"},1,"<=","/ev",[{"->":".^.b","c":true},{"b":["^if it hadn\'t have been you who hid the component, then you wouldn\'t be here now",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^you told Hooper where to look with your little riddle",{"->":".^.^.^.8"},null]}],"nop","^.\\"","\\n",["^He leads me across the yard. Back towards Hut 5 to be decoded, and taken to pieces, once again.","\\n","end",{"#n":"done"}],null]}],{"#f":3}],"harris_threatens_lynching":[["ev",{"CNT?":"harris_certain_is_you"},"/ev",[{"->":".^.b","c":true},{"b":["^He passes a hand across his eyes with a long look of despair.",{"->":".^.^.^.5"},null]}],[{"->":".^.b"},{"b":["^He gets to his feet, and gathers his gloves from the table top.",{"->":".^.^.^.5"},null]}],"nop","\\n","^\\"I\'m going to go outside and organise a rope. That\'ll take about twelve minutes. That\'s how long you have to decide.\\"","\\n","ev","str","^Protest","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Confess","/str",{"VAR?":"gotcomponent"},"!",{"VAR?":"throwncomponentaway"},"!","&&","/ev",{"*":".^.c-1","flg":21},"ev","str","^Stay silent","/str","/ev",{"*":".^.c-2","flg":20},"ev","str","^Show him the component","/str",{"VAR?":"gotcomponent"},"/ev",{"*":".^.c-3","flg":21},{"c-0":["\\n","^\\"You can\'t do this!\\" I cry. \\"It\'s murder! I demand a trial, a lawyer; for God\'s sake, man, you can\'t just throw me overboard, we\'re not barbarians...!\\"","\\n",[["^\\"You leave me no choice,\\" Harris snaps back, eyes cold as gun—metal. \\"You and your damn cyphers. Your damn clever problems. If men like you didn\'t exist, if we could just all be <i>straight</i> with one another.\\" He gets to his feet and heads for the door. \\"I fear for the future of this world, with men like you in. Reich or no Reich, Mr Manning, people like you simply <i>complicate</i> matters.\\"","\\n",{"->":"left_alone"},{"->":".^.^.^.^.g-0"},{"#f":5,"#n":"too_clever"}],null],{"#f":5}],"c-1":["\\n","^I nod. \\"I don\'t need twelve minutes. ",{"->":"reveal_location_of_component"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-2":["^ ",{"->":"my_lips_are_sealed"},"\\n",{"->":".^.^.g-0"},{"#f":5}],"c-3":["\\n","^\\"I don\'t need twelve minutes. Here it is.\\"","\\n","^I open my jacket and pull the Bombe component out of my pocket. Harris takes it from me, whistling, curious.","\\n","^\\"Well, I\'ll be. That\'s it all right.\\"","\\n","^\\"That\'s it.\\"","\\n","^\\"But you didn\'t have it on you yesterday.\\"","\\n",["ev","str","^Explain","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Don\'t explain","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["\\n","^\\"I climbed out of the window overnight,\\" I explain. \\"I went and got this from where it was hidden, and brought it back here.\\"","\\n",{"->":".^.^.^.^.g-0"},{"#f":5}],"c-1":["\\n","^\\"No. I didn\'t.\\"","\\n",{"->":".^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"g-0":[{"->":"all_too_farfetched"},"ev","str","^Confess","/str",{"VAR?":"throwncomponentaway"},"/ev",{"*":".^.c-4","flg":21},"ev","str","^Frame Hooper","/str",{"VAR?":"throwncomponentaway"},"/ev",{"*":".^.c-5","flg":21},{"c-4":["\\n","^\\"I don\'t need twelve minutes. The component is in the long grass behind Hooper\'s tent. I threw it there hoping to somehow frame him, but now I see that won\'t be possible. I was naive, I suppose.\\"","\\n","ev",1,"/ev",{"VAR=":"piecereturned","re":true},{"->":"reveal_location_of_component.harris_believes"},{"#f":5}],"c-5":["\\n","^\\"Look, I know where it is. The missing piece of the Bombe is in the long grasses behind Hooper\'s tent. I saw him throw it there right after we finished work. He knew you\'d scour the camp but I suppose he thought you\'d more obvious places first. I suppose he was right about that. Look there. That <i>proves</i> his guilt.\\"","\\n","ev",1,"/ev",{"VAR=":"longgrasshooperframe","re":true},"ev",1,"/ev",{"VAR=":"piecereturned","re":true},"^\\"That doesn\'t prove anything,\\" Harris returns sharply. \\"But we\'ll check what you say, all the same.\\" He gets to his feet and heads out of the door.","\\n",{"->":"left_alone"},{"#f":5}]}]}],{"#f":3}],"reveal_location_of_component":["<>","^ The missing component of the Bombe computer is hidden in a small cavity in a breeze—block supporting the left rear post of Hut 2. I put in there anticipating a search. I intended to ","ev",{"VAR?":"revealedhooperasculprit"},"/ev",[{"->":".^.b","c":true},{"b":["^pass it to Hooper",{"->":".^.^.^.7"},null]}],[{"->":".^.b"},{"b":["^dispose of it",{"->":".^.^.^.7"},null]}],"nop","^ once the fuss had died down. I suppose I was foolish to think that it might.\\"","\\n","ev",1,"/ev",{"VAR=":"piecereturned","re":true},{"->":".^.harris_believes"},{"harris_believes":["ev",{"CNT?":"night_falls.0.g-0.c-3.5.hooper_didnt_give_himself_up"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"Indeed. And Mr Manning: God help you if you\'re lying to me.\\"","\\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"I thought as much. I hadn\'t expected you to give it out so easily, however. You understand, Hooper has said nothing, of course. In fact, he went to Hut 2 directly after we released him and uncovered the component. But he told us you had instructed him where to go. Hence my little double bluff. Frankly, I\'ll be glad when I\'m shot of the lot of you mathematicians.\\"","\\n",{"->":".^.^.^.6"},null]}],"nop","\\n","^Harris stands, and slips away smartly. ",{"->":"left_alone"},"\\n",{"#f":3}],"#f":3}],"my_lips_are_sealed":["^I say nothing, my lips tightly, firmly sealed. It\'s true I am a traitor, to the very laws of nature. The world has taught me that since a very early age. But not to my country — should the Reich win this war, I would hardly be treated as an honoured hero. I was doomed from the very start.","\\n","ev",1,"/ev",{"VAR=":"notraitor","re":true},"^I explain none of this. How could a man like Harris understand?","\\n","^The Commander takes one look back from the doorway as he pulls it to.","\\n","^\\"It\'s been a pleasure working with you, Mr Manning,\\" he declares. \\"You\'ve done a great service to this country. If we come through, I\'m sure they\'ll remember you name. I\'m sorry it had to end this way and I\'ll do my best to keep it quiet. No—one need know what you did.\\"","\\n",{"->":"left_alone"},{"#f":3}],"all_too_farfetched":["^\\"This is all too far—fetched,\\" Harris says. \\"I\'m glad to have this back, but I need to think.\\"","\\n","^Getting to his feet, he nods once. \\"You\'ll have to wait a little longer, I\'m afraid, Manning.\\"","\\n","^Then he steps out of the door, muttering to himself.","\\n",{"->":"make_your_peace"},{"#f":3}],"left_alone":["ev",{"CNT?":"slam_door_shut_and_gone.time_to_move_now"},"/ev",[{"->":".^.b","c":true},{"b":["^The Commander holds the door for his superior, and follows him out.",{"->":".^.^.^.4"},null]}],"nop","^ Then the door closes. I am alone again, as I have been for most of my short life.","\\n",{"->":"make_your_peace"},{"#f":3}],"make_your_peace":[["ev","str","^Make your peace","/str","/ev",{"*":".^.c-0","flg":20},{"c-0":["\\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^I am waiting again. I have no God to make my peace with. I find it difficult to believe in goodness of any kind, in a world such as this.","\\n","ev",{"VAR?":"notraitor"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","ev",1,"/ev",{"VAR=":"notraitor","re":true},"^But I am no traitor. Not to my country. To my sex, perhaps. But how could I support the Reich? If the Nazis were to come to power, I would be worse off than ever.","\\n",{"->":".^.^.^.7"},null]}],"nop","\\n","ev",{"CNT?":"harris_threatens_lynching.0.c-0.3.too_clever"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^In truth, it is men like Harris who are complex, not men like me. I live to make things ordered, systematic. I like my pencils sharpened and lined up in a row. I do not deal in difficult borders, or uncertainties, or alliances. If I could, I would reduce the world to something easier to understand, something finite.","\\n","^But I cannot, not even here, in our little haven from the horrors of the war.","\\n",{"->":".^.^.^.13"},null]}],"nop","\\n","^I have no place here. No way to fit. I am caught, in the middle, cryptic and understood only thinly, through my machines.","\\n",["ev",{"^->":"make_your_peace.0.g-0.17.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^I must seem very calm.",{"->":"$r","var":true},null]}],["ev",{"^->":"make_your_peace.0.g-0.18.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^Perhaps I should try to escape.",{"->":"$r","var":true},null]}],{"c-1":["ev",{"^->":"make_your_peace.0.g-0.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.17.s"},[{"#n":"$r2"}],"\\n",{"->":".^.^.^.g-1"},{"#f":5}],"c-2":["ev",{"^->":"make_your_peace.0.g-0.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.18.s"},[{"#n":"$r2"}],"^ But escape to where? I am already a prisoner. Jail would be a blessing. ",{"->":".^.^.^.g-1.monastic"},"\\n",{"->":".^.^.^.g-1"},{"#f":5}]}],"g-1":["<>","^ I suppose I do not believe they will hang me. They will lock me up and continue to use my brain, if they can. I wonder what they will tell the world — perhaps that I have taken my own life. That would be simplest. The few who know me would believe it.","\\n","^Well, then. Not a bad existence, in prison. Removed from temptation.","\\n",["^A monastic life, with plenty of problems to keep me going.","\\n","^I wonder what else I might yet unravel before I\'m done?","\\n",["ev",{"^->":"make_your_peace.0.g-1.monastic.4.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":18},{"s":["^The door is opening.",{"->":"$r","var":true},null]}],{"c-3":["ev",{"^->":"make_your_peace.0.g-1.monastic.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.4.s"},[{"#n":"$r2"}],"^ Harris is returning. Our little calculation here is complete. ","ev",{"VAR?":"piecereturned"},"!","/ev",[{"->":".^.b","c":true},{"b":["^ I can only hope one of the others will be able to explain to him that the part I stole will mean nothing to the Germans.",{"->":".^.^.^.13"},null]}],[{"->":".^.b"},{"b":["^We are just pieces in this machine; interchangeable and prone to wear.",{"->":".^.^.^.13"},null]}],"nop","\\n",{"->":".^.^.^.^.g-2"},{"#f":5}],"#n":"monastic"}],null],"g-2":["^That is the true secret of the calculating engine, and the source of its power. It is not the components that matter, they are quite repetitive. What matters is how they are wired; the diversity of the patterns and structures they can form. Much like people — it is how they connect that determines our victories and tragedies, and not their genius.","\\n","^Which makes me wonder. Should I give ","ev",{"CNT?":"i_met_a_young_man"},"/ev",[{"->":".^.b","c":true},{"b":["^up my beautiful young man",{"->":".^.^.^.8"},null]}],[{"->":".^.b"},{"b":["^the young man who put me in this spot",{"->":".^.^.^.8"},null]}],"nop","^ to them as well as myself?","\\n","ev","str","^Yes","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^No","/str","/ev",{"*":".^.c-5","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-6","flg":20},"ev","str","^Evade","/str","/ev",{"*":".^.c-7","flg":20},{"c-4":["\\n","^But of course I will. ","ev",{"VAR?":"forceful"},2,">","/ev",[{"->":".^.b","c":true},{"b":["^Perhaps I can persuade them to put him in my cell.",{"->":".^.^.^.9"},null]}],[{"->":".^.b"},{"b":["^A little vengeance, disguised as doing something good.",{"->":".^.^.^.9"},null]}],"nop","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-5":["\\n","^No. What would be the use? He will be long gone, and the name he told me is no doubt hokum. No: I was alone before in guilt, and I am thus alone again.","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-6":["\\n","^No. Why would I? He is no doubt an innocent himself, trapped by some dire circumstance. Forced to act the way he did. I have every sympathy for him.","\\n","^Of course I do.","\\n",{"->":".^.^.^.g-3"},{"#f":5}],"c-7":["\\n","^It depends, perhaps, on what his name his worth. If it were to prove valuable, well; perhaps I can concoct a few more such lovers with which to ease my later days.","\\n","ev",{"VAR?":"hooper_mentioned"},"/ev",[{"->":".^.b","c":true},{"b":["^ Hooper, perhaps. He wouldn\'t like that. ",{"->":".^.^.^.7"},null]}],"nop","\\n",{"->":".^.^.^.g-3"},{"#f":5}]}],"g-3":["ev",{"VAR?":"longgrasshooperframe"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^Harris put the cuffs around my wrists. \\"I still have the intercept in my pocket,\\" I remark. \\"Wherever we\'re going, could I have a pencil?\\"","\\n",{"->":".^.^.^.6"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"We recovered the part, just where you said it was,\\" Harris reports, as he puts the cuffs around my wrists. \\"Of course, a couple of the men swear blind they searched there yesterday, so I\'m afraid, what with the broken window... we\'ve formed a perfectly good theory which doesn\'t bode well for you.\\"","\\n",{"->":".^.^.^.6"},null]}],"nop","\\n","ev",1,"/ev",{"VAR=":"piecereturned","re":true},"ev",{"VAR?":"longgrasshooperframe"},"/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"I see.\\" It doesn\'t seem worth arguing any further. \\"I still have the intercept in my pocket,\\" I remark. \\"Wherever we\'re going, could I have a pencil?\\"","\\n",{"->":".^.^.^.16"},null]}],"nop","\\n","^He looks me in the eye.","\\n","ev",{"VAR?":"losttemper"},"!","/ev",[{"->":".^.b","c":true},{"b":["\\n","^\\"Of course. And one of your computing things, if I get my way. And when we\'re old, and smoking pipes together in The Rag like heroes, I\'ll explain to you the way that decent men have affairs.","\\n",{"->":".^.^.^.26"},null]}],[{"->":".^.b"},{"b":["\\n","^\\"I\'ll give you a stone to chisel notches in the wall. And that\'s all the calculations you\'ll be doing. And as you sit there, pissing into a bucket and growing a beard down to your toes, you have a think about how a <i>smart</i> man would conduct his illicit affairs. With a bit of due decorum you could have learnt off any squaddie.","\\n",{"->":".^.^.^.26"},null]}],"nop","\\n","<>","^ You scientists.\\"","\\n","^He drags me up to my feet.","\\n","^\\"You think you have to re—invent everything.\\"","\\n","^With that, he hustles me out of the door and I can\'t help thinking that, with a little more strategy, I could still have won the day. But too late now, of course.","\\n","end",null]}],{"#f":3}],"global decl":["ev",0,{"VAR=":"forceful"},0,{"VAR=":"evasive"},0,{"VAR=":"teacup"},0,{"VAR=":"gotcomponent"},0,{"VAR=":"drugged"},0,{"VAR=":"hooper_mentioned"},0,{"VAR=":"losttemper"},0,{"VAR=":"admitblackmail"},0,{"VAR=":"hooperClueType"},0,{"VAR=":"hooperConfessed"},0,{"VAR=":"smashingWindowItem"},0,{"VAR=":"notraitor"},0,{"VAR=":"revealedhooperasculprit"},0,{"VAR=":"smashedglass"},0,{"VAR=":"muddyshoes"},0,{"VAR=":"framedhooper"},0,{"VAR=":"putcomponentintent"},0,{"VAR=":"throwncomponentaway"},0,{"VAR=":"piecereturned"},0,{"VAR=":"longgrasshooperframe"},0,{"VAR=":"DEBUG"},"/ev","end",null],"#f":3}],"listDefs":{}}')},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return r}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}}).call(this,n(44))},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(19),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.forward_ref"):60112,d=o?Symbol.for("react.suspense"):60113;o&&Symbol.for("react.suspense_list");var p=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116;o&&Symbol.for("react.fundamental"),o&&Symbol.for("react.responder"),o&&Symbol.for("react.scope");var m="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function k(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var S=_.prototype=new k;S.constructor=_,r(S,w.prototype),S.isPureReactComponent=!0;var C={current:null},T={current:null},I=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)I.call(t,r)&&!E.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:T.current}}function P(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var A=/\/+/g,O=[];function N(e,t,n,r){if(O.length){var o=O.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function R(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>O.length&&O.push(e)}function V(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+F(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+F(s=t[u],u);l+=e(s,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=m&&t[m]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(s=t.next()).done;)l+=e(s=s.value,c=n+F(s,u++),r,o);else if("object"===s)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function F(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function H(e,t){e.func.call(e.context,t,e.count++)}function D(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?L(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function L(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(A,"$&/")+"/"),V(e,D,t=N(t,i,r,o)),R(t)}function M(){var e=C.current;if(null===e)throw Error(y(321));return e}var j={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return L(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;V(e,H,t=N(null,null,t,n)),R(t)},count:function(e){return V(e,(function(){return null}),null)},toArray:function(e){var t=[];return L(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(y(143));return e}},createRef:function(){return{current:null}},Component:w,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return M().useCallback(e,t)},useContext:function(e,t){return M().useContext(e,t)},useEffect:function(e,t){return M().useEffect(e,t)},useImperativeHandle:function(e,t,n){return M().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return M().useLayoutEffect(e,t)},useMemo:function(e,t){return M().useMemo(e,t)},useReducer:function(e,t,n){return M().useReducer(e,t,n)},useRef:function(e){return M().useRef(e)},useState:function(e){return M().useState(e)},Fragment:s,Profiler:u,StrictMode:l,Suspense:d,createElement:x,cloneElement:function(e,t,n){if(null==e)throw Error(y(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=T.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)I.call(t,c)&&!E.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];o.children=u}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},createFactory:function(e){var t=x.bind(null,e);return t.type=e,t},isValidElement:P,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r}},W={default:j},B=W&&j||W;e.exports=B.default||B},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(19),i=n(30);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,l={};function u(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!h[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in h[n]=t,n=t.eventTypes){var o=void 0,i=n[r],u=t,d=r;if(f.hasOwnProperty(d))throw Error(a(99,d));f[d]=i;var p=i.phasedRegistrationNames;if(p){for(o in p)p.hasOwnProperty(o)&&c(p[o],u,d);o=!0}else i.registrationName?(c(i.registrationName,u,d),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function c(e,t,n){if(d[e])throw Error(a(100,e));d[e]=t,p[e]=t.eventTypes[n].dependencies}var h=[],f={},d={},p={};function v(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var m=!1,y=null,g=!1,b=null,w={onError:function(e){m=!0,y=e}};function k(e,t,n,r,o,i,a,s,l){m=!1,y=null,v.apply(w,arguments)}var _=null,S=null,C=null;function T(e,t,n){var r=e.type||"unknown-event";e.currentTarget=C(n),function(e,t,n,r,o,i,s,l,u){if(k.apply(this,arguments),m){if(!m)throw Error(a(198));var c=y;m=!1,y=null,g||(g=!0,b=c)}}(r,t,void 0,e),e.currentTarget=null}function I(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var x=null;function P(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)T(e,t[r],n[r]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function A(e){if(null!==e&&(x=I(x,e)),e=x,x=null,e){if(E(e,P),x)throw Error(a(95));if(g)throw e=b,g=!1,b=null,e}}var O={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),u()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw Error(a(102,t));l[t]=r,n=!0}}n&&u()}};function N(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var R=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;R.hasOwnProperty("ReactCurrentDispatcher")||(R.ReactCurrentDispatcher={current:null}),R.hasOwnProperty("ReactCurrentBatchConfig")||(R.ReactCurrentBatchConfig={suspense:null});var V=/^(.*)[\\\/]/,F="function"==typeof Symbol&&Symbol.for,H=F?Symbol.for("react.element"):60103,D=F?Symbol.for("react.portal"):60106,L=F?Symbol.for("react.fragment"):60107,M=F?Symbol.for("react.strict_mode"):60108,j=F?Symbol.for("react.profiler"):60114,W=F?Symbol.for("react.provider"):60109,B=F?Symbol.for("react.context"):60110,$=F?Symbol.for("react.concurrent_mode"):60111,U=F?Symbol.for("react.forward_ref"):60112,z=F?Symbol.for("react.suspense"):60113,G=F?Symbol.for("react.suspense_list"):60120,q=F?Symbol.for("react.memo"):60115,Y=F?Symbol.for("react.lazy"):60116;F&&Symbol.for("react.fundamental"),F&&Symbol.for("react.responder"),F&&Symbol.for("react.scope");var K="function"==typeof Symbol&&Symbol.iterator;function J(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=K&&e[K]||e["@@iterator"])?e:null}function Q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case L:return"Fragment";case D:return"Portal";case j:return"Profiler";case M:return"StrictMode";case z:return"Suspense";case G:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case B:return"Context.Consumer";case W:return"Context.Provider";case U:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return Q(e.type);case Y:if(e=1===e._status?e._result:null)return Q(e)}return null}function X(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=Q(e.type);n=null,r&&(n=Q(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(V,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var Z=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=S(e)){if("function"!=typeof ee)throw Error(a(280));var t=_(e.stateNode);ee(e.stateNode,e.type,t)}}function oe(e){te?ne?ne.push(e):ne=[e]:te=e}function ie(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function le(){}var ue=ae,ce=!1,he=!1;function fe(){null===te&&null===ne||(le(),ie())}new Map;var de=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pe=Object.prototype.hasOwnProperty,ve={},me={};function ye(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ge[e]=new ye(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ge[t]=new ye(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ge[e]=new ye(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ge[e]=new ye(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ge[e]=new ye(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ge[e]=new ye(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ge[e]=new ye(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ge[e]=new ye(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ge[e]=new ye(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function we(e){return e[1].toUpperCase()}function ke(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _e(e,t,n,r){var o=ge.hasOwnProperty(t)?ge[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!pe.call(me,e)||!pe.call(ve,e)&&(de.test(e)?me[e]=!0:(ve[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ce(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Te(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ie(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ke(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function xe(e,t){null!=(t=t.checked)&&_e(e,"checked",t,!1)}function Pe(e,t){xe(e,t);var n=ke(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Oe(e,t.type,n):t.hasOwnProperty("defaultValue")&&Oe(e,t.type,ke(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ae(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Oe(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Re(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ke(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ve(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fe(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:ke(n)}}function He(e,t){var n=ke(t.value),r=ke(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,we);ge[t]=new ye(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,we);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,we);ge[t]=new ye(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!1)})),ge.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ge[e]=new ye(e,1,!1,e.toLowerCase(),null,!0)}));var Le="http://www.w3.org/1999/xhtml",Me="http://www.w3.org/2000/svg";function je(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?je(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,$e=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Me||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ge={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},qe={},Ye={};function Ke(e){if(qe[e])return qe[e];if(!Ge[e])return e;var t,n=Ge[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ye)return qe[e]=n[t];return e}Z&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete Ge.animationend.animation,delete Ge.animationiteration.animation,delete Ge.animationstart.animation),"TransitionEvent"in window||delete Ge.transitionend.transition);var Je=Ke("animationend"),Qe=Ke("animationiteration"),Xe=Ke("animationstart"),Ze=Ke("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(a(188))}function ot(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return rt(o),e;if(i===r)return rt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,at,st,lt=!1,ut=[],ct=null,ht=null,ft=null,dt=new Map,pt=new Map,vt=[],mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),yt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function gt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function bt(e,t){switch(e){case"focus":case"blur":ct=null;break;case"dragenter":case"dragleave":ht=null;break;case"mouseover":case"mouseout":ft=null;break;case"pointerover":case"pointerout":dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pt.delete(t.pointerId)}}function wt(e,t,n,r,o){return null===e||e.nativeEvent!==o?(e=gt(t,n,r,o),null!==t&&(null!==(t=ur(t))&&at(t)),e):(e.eventSystemFlags|=r,e)}function kt(e){var t=lr(e.target);if(null!==t){var n=tt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=nt(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){st(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;var t=On(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=ur(t);return null!==n&&at(n),e.blockedOn=t,!1}return!0}function St(e,t,n){_t(e)&&n.delete(t)}function Ct(){for(lt=!1;0<ut.length;){var e=ut[0];if(null!==e.blockedOn){null!==(e=ur(e.blockedOn))&&it(e);break}var t=On(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ut.shift()}null!==ct&&_t(ct)&&(ct=null),null!==ht&&_t(ht)&&(ht=null),null!==ft&&_t(ft)&&(ft=null),dt.forEach(St),pt.forEach(St)}function Tt(e,t){e.blockedOn===t&&(e.blockedOn=null,lt||(lt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ct)))}function It(e){function t(t){return Tt(t,e)}if(0<ut.length){Tt(ut[0],e);for(var n=1;n<ut.length;n++){var r=ut[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ct&&Tt(ct,e),null!==ht&&Tt(ht,e),null!==ft&&Tt(ft,e),dt.forEach(t),pt.forEach(t),n=0;n<vt.length;n++)(r=vt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<vt.length&&null===(n=vt[0]).blockedOn;)kt(n),null===n.blockedOn&&vt.shift()}function Et(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function xt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Pt(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function At(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=xt(t);for(t=n.length;0<t--;)Pt(n[t],"captured",e);for(t=0;t<n.length;t++)Pt(n[t],"bubbled",e)}}function Ot(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=I(n._dispatchListeners,t),n._dispatchInstances=I(n._dispatchInstances,e))}function Nt(e){e&&e.dispatchConfig.registrationName&&Ot(e._targetInst,null,e)}function Rt(e){E(e,At)}function Vt(){return!0}function Ft(){return!1}function Ht(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vt:Ft,this.isPropagationStopped=Ft,this}function Dt(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function Lt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Mt(e){e.eventPool=[],e.getPooled=Dt,e.release=Lt}o(Ht.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){this.isPersistent=Vt},isPersistent:Ft,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Ft,this._dispatchInstances=this._dispatchListeners=null}}),Ht.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Ht.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,Mt(n),n},Mt(Ht);var jt=Ht.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Wt=Ht.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bt=Ht.extend({view:null,detail:null}),$t=Bt.extend({relatedTarget:null});function Ut(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var zt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Kt(){return Yt}for(var Jt=Bt.extend({key:function(e){if(e.key){var t=zt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ut(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Gt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?Ut(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ut(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Qt=0,Xt=0,Zt=!1,en=!1,tn=Bt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Zt?"mousemove"===e.type?e.screenX-t:0:(Zt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Xt;return Xt=e.screenY,en?"mousemove"===e.type?e.screenY-t:0:(en=!0,0)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rn=tn.extend({dataTransfer:null}),on=Bt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),an=Ht.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ln=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Je,"animationEnd",2],[Qe,"animationIteration",2],[Xe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Ze,"transitionEnd",2],["waiting","waiting",2]],un={},cn={},hn=0;hn<ln.length;hn++){var fn=ln[hn],dn=fn[0],pn=fn[1],vn=fn[2],mn="on"+(pn[0].toUpperCase()+pn.slice(1)),yn={phasedRegistrationNames:{bubbled:mn,captured:mn+"Capture"},dependencies:[dn],eventPriority:vn};un[pn]=yn,cn[dn]=yn}var gn={eventTypes:un,getEventPriority:function(e){return void 0!==(e=cn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var o=cn[e];if(!o)return null;switch(e){case"keypress":if(0===Ut(n))return null;case"keydown":case"keyup":e=Jt;break;case"blur":case"focus":e=$t;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=on;break;case Je:case Qe:case Xe:e=jt;break;case Ze:e=an;break;case"scroll":e=Bt;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=Wt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=Ht}return Rt(t=e.getPooled(o,t,n,r)),t}},bn=i.unstable_UserBlockingPriority,wn=i.unstable_runWithPriority,kn=gn.getEventPriority,_n=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Et(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,a=e.eventSystemFlags,s=null,l=0;l<h.length;l++){var u=h[l];u&&(u=u.extractEvents(r,t,i,o,a))&&(s=I(s,u))}A(s)}}var Cn=!0;function Tn(e,t){In(t,e,!1)}function In(e,t,n){switch(kn(t)){case 0:var r=En.bind(null,t,1);break;case 1:r=xn.bind(null,t,1);break;default:r=An.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function En(e,t,n){ce||le();var r=An,o=ce;ce=!0;try{se(r,e,t,n)}finally{(ce=o)||fe()}}function xn(e,t,n){wn(bn,An.bind(null,e,t,n))}function Pn(e,t,n,r){if(_n.length){var o=_n.pop();o.topLevelType=e,o.eventSystemFlags=t,o.nativeEvent=n,o.targetInst=r,e=o}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=Sn,n=e,he)t(n,void 0);else{he=!0;try{ue(t,n,void 0)}finally{he=!1,fe()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,_n.length<10&&_n.push(e)}}function An(e,t,n){if(Cn)if(0<ut.length&&-1<mt.indexOf(e))e=gt(null,e,t,n),ut.push(e);else{var r=On(e,t,n);null===r?bt(e,n):-1<mt.indexOf(e)?(e=gt(r,e,t,n),ut.push(e)):function(e,t,n,r){switch(t){case"focus":return ct=wt(ct,e,t,n,r),!0;case"dragenter":return ht=wt(ht,e,t,n,r),!0;case"mouseover":return ft=wt(ft,e,t,n,r),!0;case"pointerover":var o=r.pointerId;return dt.set(o,wt(dt.get(o)||null,e,t,n,r)),!0;case"gotpointercapture":return o=r.pointerId,pt.set(o,wt(pt.get(o)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(bt(e,n),Pn(e,t,n,null))}}function On(e,t,n){var r=Et(n);if(null!==(r=lr(r))){var o=tt(r);if(null===o)r=null;else{var i=o.tag;if(13===i){if(null!==(r=nt(o)))return r;r=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Pn(e,t,n,r),null}function Nn(e){if(!Z)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var Rn=new("function"==typeof WeakMap?WeakMap:Map);function Vn(e){var t=Rn.get(e);return void 0===t&&(t=new Set,Rn.set(e,t)),t}function Fn(e,t,n){if(!n.has(e)){switch(e){case"scroll":In(t,"scroll",!0);break;case"focus":case"blur":In(t,"focus",!0),In(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Nn(e)&&In(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&Tn(e,t)}n.add(e)}}var Hn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dn=["Webkit","ms","Moz","O"];function Ln(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Hn.hasOwnProperty(e)&&Hn[e]?(""+t).trim():t+"px"}function Mn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=Ln(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Hn).forEach((function(e){Dn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Hn[t]=Hn[e]}))}));var jn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(e,t){if(t){if(jn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Bn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function $n(e,t){var n=Vn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=p[t];for(var r=0;r<t.length;r++)Fn(t[r],e,n)}function Un(){}function zn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function Yn(){for(var e=window,t=zn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=zn((e=t.contentWindow).document)}return t}function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Jn=null,Qn=null;function Xn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Zn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var er="function"==typeof setTimeout?setTimeout:void 0,tr="function"==typeof clearTimeout?clearTimeout:void 0;function nr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function rr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+or,ar="__reactEventHandlers$"+or,sr="__reactContainere$"+or;function lr(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rr(e);null!==e;){if(n=e[ir])return n;e=rr(e)}return t}n=(e=n).parentNode}return null}function ur(e){return!(e=e[ir]||e[sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function cr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function hr(e){return e[ar]||null}var fr=null,dr=null,pr=null;function vr(){if(pr)return pr;var e,t,n=dr,r=n.length,o="value"in fr?fr.value:fr.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return pr=o.slice(e,1<t?1-t:void 0)}var mr=Ht.extend({data:null}),yr=Ht.extend({data:null}),gr=[9,13,27,32],br=Z&&"CompositionEvent"in window,wr=null;Z&&"documentMode"in document&&(wr=document.documentMode);var kr=Z&&"TextEvent"in window&&!wr,_r=Z&&(!br||wr&&8<wr&&11>=wr),Sr=String.fromCharCode(32),Cr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tr=!1;function Ir(e,t){switch(e){case"keyup":return-1!==gr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Er(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xr=!1;var Pr={eventTypes:Cr,extractEvents:function(e,t,n,r){var o;if(br)e:{switch(e){case"compositionstart":var i=Cr.compositionStart;break e;case"compositionend":i=Cr.compositionEnd;break e;case"compositionupdate":i=Cr.compositionUpdate;break e}i=void 0}else xr?Ir(e,n)&&(i=Cr.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Cr.compositionStart);return i?(_r&&"ko"!==n.locale&&(xr||i!==Cr.compositionStart?i===Cr.compositionEnd&&xr&&(o=vr()):(dr="value"in(fr=r)?fr.value:fr.textContent,xr=!0)),i=mr.getPooled(i,t,n,r),o?i.data=o:null!==(o=Er(n))&&(i.data=o),Rt(i),o=i):o=null,(e=kr?function(e,t){switch(e){case"compositionend":return Er(t);case"keypress":return 32!==t.which?null:(Tr=!0,Sr);case"textInput":return(e=t.data)===Sr&&Tr?null:e;default:return null}}(e,n):function(e,t){if(xr)return"compositionend"===e||!br&&Ir(e,t)?(e=vr(),pr=dr=fr=null,xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _r&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=yr.getPooled(Cr.beforeInput,t,n,r)).data=e,Rt(t)):t=null,null===o?t:null===t?o:[o,t]}},Ar={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ar[e.type]:"textarea"===t}var Nr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Rr(e,t,n){return(e=Ht.getPooled(Nr.change,e,t,n)).type="change",oe(n),Rt(e),e}var Vr=null,Fr=null;function Hr(e){A(e)}function Dr(e){if(Te(cr(e)))return e}function Lr(e,t){if("change"===e)return t}var Mr=!1;function jr(){Vr&&(Vr.detachEvent("onpropertychange",Wr),Fr=Vr=null)}function Wr(e){if("value"===e.propertyName&&Dr(Fr))if(e=Rr(Fr,e,Et(e)),ce)A(e);else{ce=!0;try{ae(Hr,e)}finally{ce=!1,fe()}}}function Br(e,t,n){"focus"===e?(jr(),Fr=n,(Vr=t).attachEvent("onpropertychange",Wr)):"blur"===e&&jr()}function $r(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dr(Fr)}function Ur(e,t){if("click"===e)return Dr(t)}function zr(e,t){if("input"===e||"change"===e)return Dr(t)}Z&&(Mr=Nn("input")&&(!document.documentMode||9<document.documentMode));var Gr,qr={eventTypes:Nr,_isInputEventSupported:Mr,extractEvents:function(e,t,n,r){var o=t?cr(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=Lr;else if(Or(o))if(Mr)a=zr;else{a=$r;var s=Br}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Ur);if(a&&(a=a(e,t)))return Rr(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Oe(o,"number",o.value)}},Yr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Kr={eventTypes:Yr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?lr(t):null)&&(t!==(i=tt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=tn,l=Yr.mouseLeave,u=Yr.mouseEnter,c="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=nn,l=Yr.pointerLeave,u=Yr.pointerEnter,c="pointer");if(e=null==a?o:cr(a),o=null==t?o:cr(t),(l=s.getPooled(l,a,n,r)).type=c+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(u,t,n,r)).type=c+"enter",r.target=o,r.relatedTarget=e,c=t,(s=a)&&c)e:{for(e=c,a=0,t=u=s;t;t=xt(t))a++;for(t=0,o=e;o;o=xt(o))t++;for(;0<a-t;)u=xt(u),a--;for(;0<t-a;)e=xt(e),t--;for(;a--;){if(u===e||u===e.alternate)break e;u=xt(u),e=xt(e)}u=null}else u=null;for(e=u,u=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)u.push(s),s=xt(s);for(s=[];c&&c!==e&&(null===(a=c.alternate)||a!==e);)s.push(c),c=xt(c);for(c=0;c<u.length;c++)Ot(u[c],"bubbled",l);for(c=s.length;0<c--;)Ot(s[c],"captured",r);return n===Gr?(Gr=null,[l]):(Gr=n,[l,r])}};var Jr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Qr=Object.prototype.hasOwnProperty;function Xr(e,t){if(Jr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Qr.call(t,n[r])||!Jr(e[n[r]],t[n[r]]))return!1;return!0}var Zr=Z&&"documentMode"in document&&11>=document.documentMode,eo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},to=null,no=null,ro=null,oo=!1;function io(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return oo||null==to||to!==zn(n)?null:("selectionStart"in(n=to)&&Kn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ro&&Xr(ro,n)?null:(ro=n,(e=Ht.getPooled(eo.select,no,e,t)).type="select",e.target=to,Rt(e),e))}var ao={eventTypes:eo,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=Vn(i),o=p.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?cr(t):window,e){case"focus":(Or(i)||"true"===i.contentEditable)&&(to=i,no=t,ro=null);break;case"blur":ro=no=to=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":return oo=!1,io(n,r);case"selectionchange":if(Zr)break;case"keydown":case"keyup":return io(n,r)}return null}};O.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=hr,S=ur,C=cr,O.injectEventPluginsByName({SimpleEventPlugin:gn,EnterLeaveEventPlugin:Kr,ChangeEventPlugin:qr,SelectEventPlugin:ao,BeforeInputEventPlugin:Pr}),new Set;var so=[],lo=-1;function uo(e){0>lo||(e.current=so[lo],so[lo]=null,lo--)}function co(e,t){lo++,so[lo]=e.current,e.current=t}var ho={},fo={current:ho},po={current:!1},vo=ho;function mo(e,t){var n=e.type.contextTypes;if(!n)return ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function yo(e){return null!=(e=e.childContextTypes)}function go(e){uo(po),uo(fo)}function bo(e){uo(po),uo(fo)}function wo(e,t,n){if(fo.current!==ho)throw Error(a(168));co(fo,t),co(po,n)}function ko(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,Q(t)||"Unknown",i));return o({},n,{},r)}function _o(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ho,vo=fo.current,co(fo,t),co(po,po.current),!0}function So(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(t=ko(e,t,vo),r.__reactInternalMemoizedMergedChildContext=t,uo(po),uo(fo),co(fo,t)):uo(po),co(po,n)}var Co=i.unstable_runWithPriority,To=i.unstable_scheduleCallback,Io=i.unstable_cancelCallback,Eo=i.unstable_shouldYield,xo=i.unstable_requestPaint,Po=i.unstable_now,Ao=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,No=i.unstable_UserBlockingPriority,Ro=i.unstable_NormalPriority,Vo=i.unstable_LowPriority,Fo=i.unstable_IdlePriority,Ho={},Do=void 0!==xo?xo:function(){},Lo=null,Mo=null,jo=!1,Wo=Po(),Bo=1e4>Wo?Po:function(){return Po()-Wo};function $o(){switch(Ao()){case Oo:return 99;case No:return 98;case Ro:return 97;case Vo:return 96;case Fo:return 95;default:throw Error(a(332))}}function Uo(e){switch(e){case 99:return Oo;case 98:return No;case 97:return Ro;case 96:return Vo;case 95:return Fo;default:throw Error(a(332))}}function zo(e,t){return e=Uo(e),Co(e,t)}function Go(e,t,n){return e=Uo(e),To(e,t,n)}function qo(e){return null===Lo?(Lo=[e],Mo=To(Oo,Ko)):Lo.push(e),Ho}function Yo(){if(null!==Mo){var e=Mo;Mo=null,Io(e)}Ko()}function Ko(){if(!jo&&null!==Lo){jo=!0;var e=0;try{var t=Lo;zo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Lo=null}catch(t){throw null!==Lo&&(Lo=Lo.slice(e+1)),To(Oo,Yo),t}finally{jo=!1}}}var Jo=3;function Qo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Xo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zo={current:null},ei=null,ti=null,ni=null;function ri(){ni=ti=ei=null}function oi(e,t){var n=e.type._context;co(Zo,n._currentValue),n._currentValue=t}function ii(e){var t=Zo.current;uo(Zo),e.type._context._currentValue=t}function ai(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function si(e,t){ei=e,ni=ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wa=!0),e.firstContext=null)}function li(e,t){if(ni!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ti){if(null===ei)throw Error(a(308));ti=t,ei.dependencies={expirationTime:0,firstContext:t,responders:null}}else ti=ti.next=t;return e._currentValue}var ui=!1;function ci(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function hi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function fi(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function di(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function pi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=ci(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=ci(e.memoizedState),o=n.updateQueue=ci(n.memoizedState)):r=e.updateQueue=hi(o):null===o&&(o=n.updateQueue=hi(r));null===o||r===o?di(r,t):null===r.lastUpdate||null===o.lastUpdate?(di(r,t),di(o,t)):(di(r,t),o.lastUpdate=t)}function vi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ci(e.memoizedState):mi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function mi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=hi(t)),t}function yi(e,t,n,r,i,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,i):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=n.payload)?e.call(a,r,i):e))break;return o({},r,i);case 2:ui=!0}return r}function gi(e,t,n,r,o){ui=!1;for(var i=(t=mi(e,t)).baseState,a=null,s=0,l=t.firstUpdate,u=i;null!==l;){var c=l.expirationTime;c<o?(null===a&&(a=l,i=u),s<c&&(s=c)):(hl(c,l.suspenseConfig),u=yi(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(c=null,l=t.firstCapturedUpdate;null!==l;){var h=l.expirationTime;h<o?(null===c&&(c=l,null===a&&(i=u)),s<h&&(s=h)):(u=yi(e,0,l,u,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(i=u),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=c,fl(s),e.expirationTime=s,e.memoizedState=u}function bi(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),wi(t.firstEffect,n),t.firstEffect=t.lastEffect=null,wi(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function wi(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}e=e.nextEffect}}var ki=R.ReactCurrentBatchConfig,_i=(new r.Component).refs;function Si(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Ci={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Xs(),o=ki.suspense;(o=fi(r=Zs(r,e,o),o)).payload=t,null!=n&&(o.callback=n),pi(e,o),el(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Xs(),o=ki.suspense;(o=fi(r=Zs(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),pi(e,o),el(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Xs(),r=ki.suspense;(r=fi(n=Zs(n,e,r),r)).tag=2,null!=t&&(r.callback=t),pi(e,r),el(e,n)}};function Ti(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Xr(n,r)||!Xr(o,i))}function Ii(e,t,n){var r=!1,o=ho,i=t.contextType;return"object"==typeof i&&null!==i?i=li(i):(o=yo(t)?vo:fo.current,i=(r=null!=(r=t.contextTypes))?mo(e,o):ho),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ei(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function xi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=_i;var i=t.contextType;"object"==typeof i&&null!==i?o.context=li(i):(i=yo(t)?vo:fo.current,o.context=mo(e,i)),null!==(i=e.updateQueue)&&(gi(e,i,n,o,r),o.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(Si(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ci.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(gi(e,i,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Pi=Array.isArray;function Ai(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===_i&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Oi(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ni(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Nl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Ai(e,t,n),r.return=e,r):((r=Rl(n.type,n.key,n.props,null,e.mode,r)).ref=Ai(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Hl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function h(e,t,n,r,i){return null===t||7!==t.tag?((t=Vl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Fl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case H:return(n=Rl(t.type,t.key,t.props,null,e.mode,n)).ref=Ai(e,null,t),n.return=e,n;case D:return(t=Hl(t,e.mode,n)).return=e,t}if(Pi(t)||J(t))return(t=Vl(t,e.mode,n,null)).return=e,t;Oi(e,t)}return null}function d(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case H:return n.key===o?n.type===L?h(e,t,n.props.children,r,o):u(e,t,n,r):null;case D:return n.key===o?c(e,t,n,r):null}if(Pi(n)||J(n))return null!==o?null:h(e,t,n,r,null);Oi(e,n)}return null}function p(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case H:return e=e.get(null===r.key?n:r.key)||null,r.type===L?h(t,e,r.props.children,o,r.key):u(t,e,r,o);case D:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Pi(r)||J(r))return h(t,e=e.get(n)||null,r,o,null);Oi(t,r)}return null}function v(o,a,s,l){for(var u=null,c=null,h=a,v=a=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var y=d(o,h,s[v],l);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(o,h),a=i(y,a,v),null===c?u=y:c.sibling=y,c=y,h=m}if(v===s.length)return n(o,h),u;if(null===h){for(;v<s.length;v++)null!==(h=f(o,s[v],l))&&(a=i(h,a,v),null===c?u=h:c.sibling=h,c=h);return u}for(h=r(o,h);v<s.length;v++)null!==(m=p(h,o,v,s[v],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),a=i(m,a,v),null===c?u=m:c.sibling=m,c=m);return e&&h.forEach((function(e){return t(o,e)})),u}function m(o,s,l,u){var c=J(l);if("function"!=typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=s,m=s=0,y=null,g=l.next();null!==v&&!g.done;m++,g=l.next()){v.index>m?(y=v,v=null):y=v.sibling;var b=d(o,v,g.value,u);if(null===b){null===v&&(v=y);break}e&&v&&null===b.alternate&&t(o,v),s=i(b,s,m),null===h?c=b:h.sibling=b,h=b,v=y}if(g.done)return n(o,v),c;if(null===v){for(;!g.done;m++,g=l.next())null!==(g=f(o,g.value,u))&&(s=i(g,s,m),null===h?c=g:h.sibling=g,h=g);return c}for(v=r(o,v);!g.done;m++,g=l.next())null!==(g=p(v,o,m,g.value,u))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=i(g,s,m),null===h?c=g:h.sibling=g,h=g);return e&&v.forEach((function(e){return t(o,e)})),c}return function(e,r,i,l){var u="object"==typeof i&&null!==i&&i.type===L&&null===i.key;u&&(i=i.props.children);var c="object"==typeof i&&null!==i;if(c)switch(i.$$typeof){case H:e:{for(c=i.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?i.type===L:u.elementType===i.type){n(e,u.sibling),(r=o(u,i.type===L?i.props.children:i.props)).ref=Ai(e,u,i),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}i.type===L?((r=Vl(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Rl(i.type,i.key,i.props,null,e.mode,l)).ref=Ai(e,r,i),l.return=e,e=l)}return s(e);case D:e:{for(u=i.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Hl(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Fl(i,e.mode,l)).return=e,e=r),s(e);if(Pi(i))return v(e,r,i,l);if(J(i))return m(e,r,i,l);if(c&&Oi(e,i),void 0===i&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ri=Ni(!0),Vi=Ni(!1),Fi={},Hi={current:Fi},Di={current:Fi},Li={current:Fi};function Mi(e){if(e===Fi)throw Error(a(174));return e}function ji(e,t){co(Li,t),co(Di,e),co(Hi,Fi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:We(null,"");break;default:t=We(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}uo(Hi),co(Hi,t)}function Wi(e){uo(Hi),uo(Di),uo(Li)}function Bi(e){Mi(Li.current);var t=Mi(Hi.current),n=We(t,e.type);t!==n&&(co(Di,e),co(Hi,n))}function $i(e){Di.current===e&&(uo(Hi),uo(Di))}var Ui={current:0};function zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Gi(e,t){return{responder:e,props:t}}var qi=R.ReactCurrentDispatcher,Yi=R.ReactCurrentBatchConfig,Ki=0,Ji=null,Qi=null,Xi=null,Zi=null,ea=null,ta=null,na=0,ra=null,oa=0,ia=!1,aa=null,sa=0;function la(){throw Error(a(321))}function ua(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jr(e[n],t[n]))return!1;return!0}function ca(e,t,n,r,o,i){if(Ki=i,Ji=t,Xi=null!==e?e.memoizedState:null,qi.current=null===Xi?Pa:Aa,t=n(r,o),ia){do{ia=!1,sa+=1,Xi=null!==e?e.memoizedState:null,ta=Zi,ra=ea=Qi=null,qi.current=Aa,t=n(r,o)}while(ia);aa=null,sa=0}if(qi.current=xa,(e=Ji).memoizedState=Zi,e.expirationTime=na,e.updateQueue=ra,e.effectTag|=oa,e=null!==Qi&&null!==Qi.next,Ki=0,ta=ea=Zi=Xi=Qi=Ji=null,na=0,ra=null,oa=0,e)throw Error(a(300));return t}function ha(){qi.current=xa,Ki=0,ta=ea=Zi=Xi=Qi=Ji=null,na=0,ra=null,oa=0,ia=!1,aa=null,sa=0}function fa(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?Zi=ea=e:ea=ea.next=e,ea}function da(){if(null!==ta)ta=(ea=ta).next,Xi=null!==(Qi=Xi)?Qi.next:null;else{if(null===Xi)throw Error(a(310));var e={memoizedState:(Qi=Xi).memoizedState,baseState:Qi.baseState,queue:Qi.queue,baseUpdate:Qi.baseUpdate,next:null};ea=null===ea?Zi=e:ea.next=e,Xi=Qi.next}return ea}function pa(e,t){return"function"==typeof t?t(e):t}function va(e){var t=da(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<sa){var r=n.dispatch;if(null!==aa){var o=aa.get(n);if(void 0!==o){aa.delete(n);var i=t.memoizedState;do{i=e(i,o.action),o=o.next}while(null!==o);return Jr(i,t.memoizedState)||(Wa=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=o=null,u=r,c=!1;do{var h=u.expirationTime;h<Ki?(c||(c=!0,l=s,o=i),h>na&&fl(na=h)):(hl(h,u.suspenseConfig),i=u.eagerReducer===e?u.eagerState:e(i,u.action)),s=u,u=u.next}while(null!==u&&u!==r);c||(l=s,o=i),Jr(i,t.memoizedState)||(Wa=!0),t.memoizedState=i,t.baseUpdate=l,t.baseState=o,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ma(e){var t=fa();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e}).dispatch=Ea.bind(null,Ji,e),[t.memoizedState,e]}function ya(e){return va(pa)}function ga(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ra?(ra={lastEffect:null}).lastEffect=e.next=e:null===(t=ra.lastEffect)?ra.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ra.lastEffect=e),e}function ba(e,t,n,r){var o=fa();oa|=e,o.memoizedState=ga(t,n,void 0,void 0===r?null:r)}function wa(e,t,n,r){var o=da();r=void 0===r?null:r;var i=void 0;if(null!==Qi){var a=Qi.memoizedState;if(i=a.destroy,null!==r&&ua(r,a.deps))return void ga(0,n,i,r)}oa|=e,o.memoizedState=ga(t,n,i,r)}function ka(e,t){return ba(516,192,e,t)}function _a(e,t){return wa(516,192,e,t)}function Sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ca(){}function Ta(e,t){return fa().memoizedState=[e,void 0===t?null:t],e}function Ia(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ua(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ea(e,t,n){if(!(25>sa))throw Error(a(301));var r=e.alternate;if(e===Ji||null!==r&&r===Ji)if(ia=!0,e={expirationTime:Ki,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(n=aa.get(t)))aa.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var o=Xs(),i=ki.suspense;i={expirationTime:o=Zs(o,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)i.next=i;else{var l=s.next;null!==l&&(i.next=l),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(i.eagerReducer=r,i.eagerState=c,Jr(c,u))return}catch(e){}el(e,o)}}var xa={readContext:li,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Pa={readContext:li,useCallback:Ta,useContext:li,useEffect:ka,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,36,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,36,e,t)},useMemo:function(e,t){var n=fa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=fa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ea.bind(null,Ji,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},fa().memoizedState=e},useState:ma,useDebugValue:Ca,useResponder:Gi,useDeferredValue:function(e,t){var n=ma(e),r=n[0],o=n[1];return ka((function(){i.unstable_next((function(){var n=Yi.suspense;Yi.suspense=void 0===t?null:t;try{o(e)}finally{Yi.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=ma(!1),n=t[0],r=t[1];return[Ta((function(t){r(!0),i.unstable_next((function(){var n=Yi.suspense;Yi.suspense=void 0===e?null:e;try{r(!1),t()}finally{Yi.suspense=n}}))}),[e,n]),n]}},Aa={readContext:li,useCallback:Ia,useContext:li,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,wa(4,36,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,36,e,t)},useMemo:function(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ua(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:va,useRef:function(){return da().memoizedState},useState:ya,useDebugValue:Ca,useResponder:Gi,useDeferredValue:function(e,t){var n=ya(),r=n[0],o=n[1];return _a((function(){i.unstable_next((function(){var n=Yi.suspense;Yi.suspense=void 0===t?null:t;try{o(e)}finally{Yi.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=ya(),n=t[0],r=t[1];return[Ia((function(t){r(!0),i.unstable_next((function(){var n=Yi.suspense;Yi.suspense=void 0===e?null:e;try{r(!1),t()}finally{Yi.suspense=n}}))}),[e,n]),n]}},Oa=null,Na=null,Ra=!1;function Va(e,t){var n=Al(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Fa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ha(e){if(Ra){var t=Na;if(t){var n=t;if(!Fa(e,t)){if(!(t=nr(n.nextSibling))||!Fa(e,t))return e.effectTag=-1025&e.effectTag|2,Ra=!1,void(Oa=e);Va(Oa,n)}Oa=e,Na=nr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Ra=!1,Oa=e}}function Da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function La(e){if(e!==Oa)return!1;if(!Ra)return Da(e),Ra=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Zn(t,e.memoizedProps))for(t=Na;t;)Va(e,t),t=nr(t.nextSibling);if(Da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Na=nr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Na=null}}else Na=Oa?nr(e.stateNode.nextSibling):null;return!0}function Ma(){Na=Oa=null,Ra=!1}var ja=R.ReactCurrentOwner,Wa=!1;function Ba(e,t,n,r){t.child=null===e?Vi(t,null,n,r):Ri(t,e.child,n,r)}function $a(e,t,n,r,o){n=n.render;var i=t.ref;return si(t,o),r=ca(e,t,n,r,i,o),null===e||Wa?(t.effectTag|=1,Ba(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),is(e,t,o))}function Ua(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Ol(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rl(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,za(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Xr)(o,r)&&e.ref===t.ref)?is(e,t,i):(t.effectTag|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e)}function za(e,t,n,r,o,i){return null!==e&&Xr(e.memoizedProps,r)&&e.ref===t.ref&&(Wa=!1,o<i)?is(e,t,i):qa(e,t,n,r,i)}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function qa(e,t,n,r,o){var i=yo(n)?vo:fo.current;return i=mo(t,i),si(t,o),n=ca(e,t,n,r,i,o),null===e||Wa?(t.effectTag|=1,Ba(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),is(e,t,o))}function Ya(e,t,n,r,o){if(yo(n)){var i=!0;_o(t)}else i=!1;if(si(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ii(t,n,r),xi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=li(u):u=mo(t,u=yo(n)?vo:fo.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Ei(t,a,r,u),ui=!1;var f=t.memoizedState;l=a.state=f;var d=t.updateQueue;null!==d&&(gi(t,d,r,a,o),l=t.memoizedState),s!==r||f!==l||po.current||ui?("function"==typeof c&&(Si(t,n,c,r),l=t.memoizedState),(s=ui||Ti(t,n,s,r,f,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Xo(t.type,s),l=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=li(u):u=mo(t,u=yo(n)?vo:fo.current),(h="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Ei(t,a,r,u),ui=!1,l=t.memoizedState,f=a.state=l,null!==(d=t.updateQueue)&&(gi(t,d,r,a,o),f=t.memoizedState),s!==r||l!==f||po.current||ui?("function"==typeof c&&(Si(t,n,c,r),f=t.memoizedState),(c=ui||Ti(t,n,s,r,l,f,u))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return Ka(e,t,n,r,i,o)}function Ka(e,t,n,r,o,i){Ga(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&So(t,n,!1),is(e,t,i);r=t.stateNode,ja.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ri(t,e.child,null,i),t.child=Ri(t,null,s,i)):Ba(e,t,s,i),t.memoizedState=r.state,o&&So(t,n,!0),t.child}function Ja(e){var t=e.stateNode;t.pendingContext?wo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wo(0,t.context,!1),ji(e,t.containerInfo)}var Qa,Xa,Za,es={dehydrated:null,retryTime:0};function ts(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Ui.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),co(Ui,1&a),null===e){if(void 0!==i.fallback&&Ha(t),s){if(s=i.fallback,(i=Vl(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Vl(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=es,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=Vi(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=Nl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=Nl(o,i,o.expirationTime)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=es,t.child=n,o}return n=Ri(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Vl(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Vl(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=es,t.child=i,n}return t.memoizedState=null,t.child=Ri(t,e,i.children,n)}function ns(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ai(e.return,t)}function rs(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function os(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ba(e,t,r.children,n),0!=(2&(r=Ui.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(co(Ui,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===zi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rs(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===zi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&fl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function as(e){e.effectTag|=4}function ss(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ls(e){switch(e.tag){case 1:yo(e.type)&&go();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Wi(),bo(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return $i(e),null;case 13:return uo(Ui),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return uo(Ui),null;case 4:return Wi(),null;case 10:return ii(e),null;default:return null}}function us(e,t){return{value:e,source:t,stack:X(t)}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,l,u=t.stateNode;switch(Mi(Hi.current),e=null,n){case"input":a=Ie(u,a),r=Ie(u,r),e=[];break;case"option":a=Ne(u,a),r=Ne(u,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ve(u,a),r=Ve(u,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(u.onclick=Un)}for(s in Wn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in u=a[s])u.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(d.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var c=r[s];if(u=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&c!==u&&(null!=c||null!=u))if("style"===s)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(e||(e=[]),e.push(s,n)),n=c;else"dangerouslySetInnerHTML"===s?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(s,""+c)):"children"===s?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(s,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(d.hasOwnProperty(s)?(null!=c&&$n(i,s),e||u===c||(e=[])):(e=e||[]).push(s,c))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&as(t)}},Za=function(e,t,n,r){n!==r&&as(t)};var cs="function"==typeof WeakSet?WeakSet:Set;function hs(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=X(n)),null!==n&&Q(n.type),t=t.value,null!==e&&1===e.tag&&Q(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function fs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Cl(e,t)}else t.current=null}function ds(e,t){switch(t.tag){case 0:case 11:case 15:ps(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function ps(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}0!=(r.tag&t)&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function vs(e,t,n){switch("function"==typeof xl&&xl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;zo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){Cl(o,e)}}e=e.next}while(e!==r)}))}break;case 1:fs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Cl(e,t)}}(t,n);break;case 5:fs(t);break;case 4:bs(e,t,n)}}function ms(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&ms(t)}function ys(e){return 5===e.tag||3===e.tag||4===e.tag}function gs(e){e:{for(var t=e.return;null!==t;){if(ys(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ys(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){var i=5===o.tag||6===o.tag;if(i){var s=i?o.stateNode:o.stateNode.instance;if(n)if(r){var l=s;s=n,8===(i=t).nodeType?i.parentNode.insertBefore(l,s):i.insertBefore(l,s)}else t.insertBefore(s,n);else r?(8===(l=t).nodeType?(i=l.parentNode).insertBefore(s,l):(i=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==i.onclick||(i.onclick=Un)):t.appendChild(s)}else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function bs(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,u=i,c=n,h=u;;)if(vs(l,h,c),null!==h.child&&4!==h.tag)h.child.return=h,h=h.child;else{if(h===u)break;for(;null===h.sibling;){if(null===h.return||h.return===u)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}o?(l=r,u=i.stateNode,8===l.nodeType?l.parentNode.removeChild(u):l.removeChild(u)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(vs(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function ws(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ps(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[ar]=r,"input"===e&&"radio"===r.type&&null!=r.name&&xe(n,r),Bn(e,o),t=Bn(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?Mn(n,l):"dangerouslySetInnerHTML"===s?$e(n,l):"children"===s?Ue(n,l):_e(n,s,l,t)}switch(e){case"input":Pe(n,r);break;case"textarea":He(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Re(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Re(n,!!r.multiple,r.defaultValue,!0):Re(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,It(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,js=Bo()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=Ln("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ks(t);break;case 19:ks(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function ks(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cs),t.forEach((function(t){var r=Il.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var _s="function"==typeof WeakMap?WeakMap:Map;function Ss(e,t,n){(n=fi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bs||(Bs=!0,$s=r),hs(e,t)},n}function Cs(e,t,n){(n=fi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return hs(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Us?Us=new Set([this]):Us.add(this),hs(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ts,Is=Math.ceil,Es=R.ReactCurrentDispatcher,xs=R.ReactCurrentOwner,Ps=0,As=null,Os=null,Ns=0,Rs=0,Vs=null,Fs=1073741823,Hs=1073741823,Ds=null,Ls=0,Ms=!1,js=0,Ws=null,Bs=!1,$s=null,Us=null,zs=!1,Gs=null,qs=90,Ys=null,Ks=0,Js=null,Qs=0;function Xs(){return 0!=(48&Ps)?1073741821-(Bo()/10|0):0!==Qs?Qs:Qs=1073741821-(Bo()/10|0)}function Zs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=$o();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ps))return Ns;if(null!==n)e=Qo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Qo(e,150,100);break;case 97:case 96:e=Qo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==As&&e===Ns&&--e,e}function el(e,t){if(50<Ks)throw Ks=0,Js=null,Error(a(185));if(null!==(e=tl(e,t))){var n=$o();1073741823===t?0!=(8&Ps)&&0==(48&Ps)?il(e):(rl(e),0===Ps&&Yo()):rl(e),0==(4&Ps)||98!==n&&99!==n||(null===Ys?Ys=new Map([[e,t]]):(void 0===(n=Ys.get(e))||n>t)&&Ys.set(e,t))}}function tl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(As===o&&(fl(t),4===Rs&&Ml(o,Ns)),jl(o,t)),o}function nl(e){var t=e.lastExpiredTime;return 0!==t?t:Ll(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function rl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qo(il.bind(null,e));else{var t=nl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Xs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Ho&&Io(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?qo(il.bind(null,e)):Go(r,ol.bind(null,e),{timeout:10*(1073741821-t)-Bo()}),e.callbackNode=t}}}function ol(e,t){if(Qs=0,t)return Wl(e,t=Xs()),rl(e),null;var n=nl(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ps))throw Error(a(327));if(kl(),e===As&&n===Ns||ll(e,n),null!==Os){var r=Ps;Ps|=16;for(var o=cl();;)try{pl();break}catch(t){ul(e,t)}if(ri(),Ps=r,Es.current=o,1===Rs)throw t=Vs,ll(e,n),Ml(e,n),rl(e),t;if(null===Os)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Rs,As=null,r){case 0:case 1:throw Error(a(345));case 2:Wl(e,2<n?2:n);break;case 3:if(Ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(o)),1073741823===Fs&&10<(o=js+500-Bo())){if(Ms){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,ll(e,n);break}}if(0!==(i=nl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=er(gl.bind(null,e),o);break}gl(e);break;case 4:if(Ml(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=yl(o)),Ms&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,ll(e,n);break}if(0!==(o=nl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Hs?r=10*(1073741821-Hs)-Bo():1073741823===Fs?r=0:(r=10*(1073741821-Fs)-5e3,0>(r=(o=Bo())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Is(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=er(gl.bind(null,e),r);break}gl(e);break;case 5:if(1073741823!==Fs&&null!==Ds){i=Fs;var s=Ds;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(i=Bo()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Ml(e,n),e.timeoutHandle=er(gl.bind(null,e),r);break}}gl(e);break;default:throw Error(a(329))}if(rl(e),e.callbackNode===t)return ol.bind(null,e)}}return null}function il(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)gl(e);else{if(0!=(48&Ps))throw Error(a(327));if(kl(),e===As&&t===Ns||ll(e,t),null!==Os){var n=Ps;Ps|=16;for(var r=cl();;)try{dl();break}catch(t){ul(e,t)}if(ri(),Ps=n,Es.current=r,1===Rs)throw n=Vs,ll(e,t),Ml(e,t),rl(e),n;if(null!==Os)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,As=null,gl(e),rl(e)}}return null}function al(e,t){var n=Ps;Ps|=1;try{return e(t)}finally{0===(Ps=n)&&Yo()}}function sl(e,t){var n=Ps;Ps&=-2,Ps|=8;try{return e(t)}finally{0===(Ps=n)&&Yo()}}function ll(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,tr(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:var o=r.type.childContextTypes;null!=o&&go();break;case 3:Wi(),bo();break;case 5:$i(r);break;case 4:Wi();break;case 13:case 19:uo(Ui);break;case 10:ii(r)}n=n.return}As=e,Os=Nl(e.current,null),Ns=t,Rs=0,Vs=null,Hs=Fs=1073741823,Ds=null,Ls=0,Ms=!1}function ul(e,t){for(;;){try{if(ri(),ha(),null===Os||null===Os.return)return Rs=1,Vs=t,null;e:{var n=e,r=Os.return,o=Os,i=t;if(t=Ns,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var a=i,s=0!=(1&Ui.current),l=r;do{var u;if(u=13===l.tag){var c=l.memoizedState;if(null!==c)u=null!==c.dehydrated;else{var h=l.memoizedProps;u=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!s)}}if(u){var f=l.updateQueue;if(null===f){var d=new Set;d.add(a),l.updateQueue=d}else f.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var p=fi(1073741823,null);p.tag=2,pi(o,p)}o.expirationTime=1073741823;break e}i=void 0,o=t;var v=n.pingCache;if(null===v?(v=n.pingCache=new _s,i=new Set,v.set(a,i)):void 0===(i=v.get(a))&&(i=new Set,v.set(a,i)),!i.has(o)){i.add(o);var m=Tl.bind(null,n,a,o);a.then(m,m)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);i=Error((Q(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+X(o))}5!==Rs&&(Rs=2),i=us(i,o),l=r;do{switch(l.tag){case 3:a=i,l.effectTag|=4096,l.expirationTime=t,vi(l,Ss(l,a,t));break e;case 1:a=i;var y=l.type,g=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===Us||!Us.has(g)))){l.effectTag|=4096,l.expirationTime=t,vi(l,Cs(l,a,t));break e}}l=l.return}while(null!==l)}Os=ml(Os)}catch(e){t=e;continue}break}}function cl(){var e=Es.current;return Es.current=xa,null===e?xa:e}function hl(e,t){e<Fs&&2<e&&(Fs=e),null!==t&&e<Hs&&2<e&&(Hs=e,Ds=t)}function fl(e){e>Ls&&(Ls=e)}function dl(){for(;null!==Os;)Os=vl(Os)}function pl(){for(;null!==Os&&!Eo();)Os=vl(Os)}function vl(e){var t=Ts(e.alternate,e,Ns);return e.memoizedProps=e.pendingProps,null===t&&(t=ml(e)),xs.current=null,t}function ml(e){Os=e;do{var t=Os.alternate;if(e=Os.return,0==(2048&Os.effectTag)){e:{var n=t,r=Ns,i=(t=Os).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:yo(t.type)&&go();break;case 3:Wi(),bo(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===n||null===n.child)&&La(t)&&as(t);break;case 5:$i(t),r=Mi(Li.current);var s=t.type;if(null!==n&&null!=t.stateNode)Xa(n,t,s,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){var l=Mi(Hi.current);if(La(t)){var u=(i=t).stateNode;n=i.type;var c=i.memoizedProps,h=r;switch(u[ir]=i,u[ar]=c,s=void 0,r=u,n){case"iframe":case"object":case"embed":Tn("load",r);break;case"video":case"audio":for(u=0;u<et.length;u++)Tn(et[u],r);break;case"source":Tn("error",r);break;case"img":case"image":case"link":Tn("error",r),Tn("load",r);break;case"form":Tn("reset",r),Tn("submit",r);break;case"details":Tn("toggle",r);break;case"input":Ee(r,c),Tn("invalid",r),$n(h,"onChange");break;case"select":r._wrapperState={wasMultiple:!!c.multiple},Tn("invalid",r),$n(h,"onChange");break;case"textarea":Fe(r,c),Tn("invalid",r),$n(h,"onChange")}for(s in Wn(n,c),u=null,c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"==typeof l?r.textContent!==l&&(u=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(u=["children",""+l]):d.hasOwnProperty(s)&&null!=l&&$n(h,s));switch(n){case"input":Ce(r),Ae(r,c,!0);break;case"textarea":Ce(r),De(r);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(r.onclick=Un)}s=u,i.updateQueue=s,(i=null!==s)&&as(t)}else{n=t,h=s,c=i,u=9===r.nodeType?r:r.ownerDocument,l===Le&&(l=je(h)),l===Le?"script"===h?((c=u.createElement("div")).innerHTML="<script><\/script>",u=c.removeChild(c.firstChild)):"string"==typeof c.is?u=u.createElement(h,{is:c.is}):(u=u.createElement(h),"select"===h&&(h=u,c.multiple?h.multiple=!0:c.size&&(h.size=c.size))):u=u.createElementNS(l,h),(c=u)[ir]=n,c[ar]=i,Qa(c,t),t.stateNode=c;var f=r,p=Bn(h=s,n=i);switch(h){case"iframe":case"object":case"embed":Tn("load",c),r=n;break;case"video":case"audio":for(r=0;r<et.length;r++)Tn(et[r],c);r=n;break;case"source":Tn("error",c),r=n;break;case"img":case"image":case"link":Tn("error",c),Tn("load",c),r=n;break;case"form":Tn("reset",c),Tn("submit",c),r=n;break;case"details":Tn("toggle",c),r=n;break;case"input":Ee(c,n),r=Ie(c,n),Tn("invalid",c),$n(f,"onChange");break;case"option":r=Ne(c,n);break;case"select":c._wrapperState={wasMultiple:!!n.multiple},r=o({},n,{value:void 0}),Tn("invalid",c),$n(f,"onChange");break;case"textarea":Fe(c,n),r=Ve(c,n),Tn("invalid",c),$n(f,"onChange");break;default:r=n}Wn(h,r),u=void 0,l=h;var v=c,m=r;for(u in m)if(m.hasOwnProperty(u)){var y=m[u];"style"===u?Mn(v,y):"dangerouslySetInnerHTML"===u?null!=(y=y?y.__html:void 0)&&$e(v,y):"children"===u?"string"==typeof y?("textarea"!==l||""!==y)&&Ue(v,y):"number"==typeof y&&Ue(v,""+y):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=y&&$n(f,u):null!=y&&_e(v,u,y,p))}switch(h){case"input":Ce(c),Ae(c,n,!1);break;case"textarea":Ce(c),De(c);break;case"option":null!=n.value&&c.setAttribute("value",""+ke(n.value));break;case"select":(r=c).multiple=!!n.multiple,null!=(c=n.value)?Re(r,!!n.multiple,c,!1):null!=n.defaultValue&&Re(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(c.onclick=Un)}(i=Xn(s,i))&&as(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)Za(0,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));r=Mi(Li.current),Mi(Hi.current),La(t)?(s=(i=t).stateNode,r=i.memoizedProps,s[ir]=i,(i=s.nodeValue!==r)&&as(t)):(s=t,(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[ir]=s,t.stateNode=i)}break;case 11:break;case 13:if(uo(Ui),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,s=!1,null===n?void 0!==t.memoizedProps.fallback&&La(t):(s=null!==(r=n.memoizedState),i||null===r||null!==(r=n.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=r,r.nextEffect=c):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),i&&!s&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ui.current)?0===Rs&&(Rs=3):(0!==Rs&&3!==Rs||(Rs=4),0!==Ls&&null!==As&&(Ml(As,Ns),jl(As,Ls)))),(i||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Wi();break;case 10:ii(t);break;case 9:case 14:break;case 17:yo(t.type)&&go();break;case 19:if(uo(Ui),null===(i=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(c=i.rendering)){if(s)ss(i,!1);else if(0!==Rs||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(c=zi(n))){for(t.effectTag|=64,ss(i,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,s=t.child;null!==s;)n=i,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(c=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=c.childExpirationTime,r.expirationTime=c.expirationTime,r.child=c.child,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,n=c.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;co(Ui,1&Ui.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=zi(c))){if(t.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ss(i,!0),null===i.tail&&"hidden"===i.tailMode&&!c.alternate){null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else Bo()>i.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,ss(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=i.last)?r.sibling=c:t.child=c,i.last=c)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=Bo()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,r.sibling=null,i=Ui.current,co(Ui,i=s?1&i|2:1&i),t=r;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(i=Os,1===Ns||1!==i.childExpirationTime){for(s=0,r=i.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(c=r.childExpirationTime)>s&&(s=c),r=r.sibling;i.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Os.firstEffect),null!==Os.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Os.firstEffect),e.lastEffect=Os.lastEffect),1<Os.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Os:e.firstEffect=Os,e.lastEffect=Os))}else{if(null!==(t=ls(Os)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Os.sibling))return t;Os=e}while(null!==Os);return 0===Rs&&(Rs=5),null}function yl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function gl(e){var t=$o();return zo(99,bl.bind(null,e,t)),null}function bl(e,t){do{kl()}while(null!==Gs);if(0!=(48&Ps))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=yl(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===As&&(Os=As=null,Ns=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Ps;Ps|=32,xs.current=null,Jn=Cn;var s=Yn();if(Kn(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var u=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(u&&0!==u.rangeCount){l=u.anchorNode;var c=u.anchorOffset,h=u.focusNode;u=u.focusOffset;try{l.nodeType,h.nodeType}catch(e){l=null;break e}var f=0,d=-1,p=-1,v=0,m=0,y=s,g=null;t:for(;;){for(var b;y!==l||0!==c&&3!==y.nodeType||(d=f+c),y!==h||0!==u&&3!==y.nodeType||(p=f+u),3===y.nodeType&&(f+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===l&&++v===c&&(d=f),g===h&&++m===u&&(p=f),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}l=-1===d||-1===p?null:{start:d,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;Qn={focusedElem:s,selectionRange:l},Cn=!1,Ws=o;do{try{wl()}catch(e){if(null===Ws)throw Error(a(330));Cl(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);Ws=o;do{try{for(s=e,l=t;null!==Ws;){var w=Ws.effectTag;if(16&w&&Ue(Ws.stateNode,""),128&w){var k=Ws.alternate;if(null!==k){var _=k.ref;null!==_&&("function"==typeof _?_(null):_.current=null)}}switch(1038&w){case 2:gs(Ws),Ws.effectTag&=-3;break;case 6:gs(Ws),Ws.effectTag&=-3,ws(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,ws(Ws.alternate,Ws);break;case 4:ws(Ws.alternate,Ws);break;case 8:bs(s,c=Ws,l),ms(c)}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));Cl(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);if(_=Qn,k=Yn(),w=_.focusedElem,l=_.selectionRange,k!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==l&&Kn(w)&&(k=l.start,void 0===(_=l.end)&&(_=k),"selectionStart"in w?(w.selectionStart=k,w.selectionEnd=Math.min(_,w.value.length)):(_=(k=w.ownerDocument||document)&&k.defaultView||window).getSelection&&(_=_.getSelection(),c=w.textContent.length,s=Math.min(l.start,c),l=void 0===l.end?s:Math.min(l.end,c),!_.extend&&s>l&&(c=l,l=s,s=c),c=qn(w,s),h=qn(w,l),c&&h&&(1!==_.rangeCount||_.anchorNode!==c.node||_.anchorOffset!==c.offset||_.focusNode!==h.node||_.focusOffset!==h.offset)&&((k=k.createRange()).setStart(c.node,c.offset),_.removeAllRanges(),s>l?(_.addRange(k),_.extend(h.node,h.offset)):(k.setEnd(h.node,h.offset),_.addRange(k))))),k=[];for(_=w;_=_.parentNode;)1===_.nodeType&&k.push({element:_,left:_.scrollLeft,top:_.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<k.length;w++)(_=k[w]).element.scrollLeft=_.left,_.element.scrollTop=_.top}Qn=null,Cn=!!Jn,Jn=null,e.current=n,Ws=o;do{try{for(w=r;null!==Ws;){var S=Ws.effectTag;if(36&S){var C=Ws.alternate;switch(_=w,(k=Ws).tag){case 0:case 11:case 15:ps(16,32,k);break;case 1:var T=k.stateNode;if(4&k.effectTag)if(null===C)T.componentDidMount();else{var I=k.elementType===k.type?C.memoizedProps:Xo(k.type,C.memoizedProps);T.componentDidUpdate(I,C.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var E=k.updateQueue;null!==E&&bi(0,E,T);break;case 3:var x=k.updateQueue;if(null!==x){if(s=null,null!==k.child)switch(k.child.tag){case 5:s=k.child.stateNode;break;case 1:s=k.child.stateNode}bi(0,x,s)}break;case 5:var P=k.stateNode;null===C&&4&k.effectTag&&Xn(k.type,k.memoizedProps)&&P.focus();break;case 6:case 4:case 12:break;case 13:if(null===k.memoizedState){var A=k.alternate;if(null!==A){var O=A.memoizedState;if(null!==O){var N=O.dehydrated;null!==N&&It(N)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&S){k=void 0;var R=Ws.ref;if(null!==R){var V=Ws.stateNode;switch(Ws.tag){case 5:k=V;break;default:k=V}"function"==typeof R?R(k):R.current=k}}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));Cl(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,Do(),Ps=i}else e.current=n;if(zs)zs=!1,Gs=e,qs=t;else for(Ws=o;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,Ws=t;if(0===(t=e.firstPendingTime)&&(Us=null),1073741823===t?e===Js?Ks++:(Ks=0,Js=e):Ks=0,"function"==typeof El&&El(n.stateNode,r),rl(e),Bs)throw Bs=!1,e=$s,$s=null,e;return 0!=(8&Ps)?null:(Yo(),null)}function wl(){for(;null!==Ws;){var e=Ws.effectTag;0!=(256&e)&&ds(Ws.alternate,Ws),0==(512&e)||zs||(zs=!0,Go(97,(function(){return kl(),null}))),Ws=Ws.nextEffect}}function kl(){if(90!==qs){var e=97<qs?97:qs;return qs=90,zo(e,_l)}}function _l(){if(null===Gs)return!1;var e=Gs;if(Gs=null,0!=(48&Ps))throw Error(a(331));var t=Ps;for(Ps|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:ps(128,0,n),ps(0,64,n)}}catch(t){if(null===e)throw Error(a(330));Cl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ps=t,Yo(),!0}function Sl(e,t,n){pi(e,t=Ss(e,t=us(n,t),1073741823)),null!==(e=tl(e,1073741823))&&rl(e)}function Cl(e,t){if(3===e.tag)Sl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Sl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Us||!Us.has(r))){pi(n,e=Cs(n,e=us(t,e),1073741823)),null!==(n=tl(n,1073741823))&&rl(n);break}}n=n.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),As===e&&Ns===n?4===Rs||3===Rs&&1073741823===Fs&&Bo()-js<500?ll(e,Ns):Ms=!0:Ll(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),rl(e)))}function Il(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Zs(t=Xs(),e,null)),null!==(e=tl(e,t))&&rl(e)}Ts=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||po.current)Wa=!0;else{if(r<n){switch(Wa=!1,t.tag){case 3:Ja(t),Ma();break;case 5:if(Bi(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:yo(t.type)&&_o(t);break;case 4:ji(t,t.stateNode.containerInfo);break;case 10:oi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ts(e,t,n):(co(Ui,1&Ui.current),null!==(t=is(e,t,n))?t.sibling:null);co(Ui,1&Ui.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return os(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),co(Ui,Ui.current),!r)return null}return is(e,t,n)}Wa=!1}}else Wa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=mo(t,fo.current),si(t,n),o=ca(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,ha(),yo(r)){var i=!0;_o(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Si(t,r,s,e),o.updater=Ci,t.stateNode=o,o._reactInternalFiber=t,xi(t,r,e,n),t=Ka(null,t,r,!0,i,n)}else t.tag=0,Ba(null,t,o,n),t=t.child;return t;case 16:if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return Ol(e)?1:0;if(null!=e){if((e=e.$$typeof)===U)return 11;if(e===q)return 14}return 2}(o),e=Xo(o,e),i){case 0:t=qa(null,t,o,e,n);break;case 1:t=Ya(null,t,o,e,n);break;case 11:t=$a(null,t,o,e,n);break;case 14:t=Ua(null,t,o,Xo(o.type,e),r,n);break;default:throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,qa(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ya(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 3:if(Ja(t),null===(r=t.updateQueue))throw Error(a(282));if(o=null!==(o=t.memoizedState)?o.element:null,gi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o)Ma(),t=is(e,t,n);else{if((o=t.stateNode.hydrate)&&(Na=nr(t.stateNode.containerInfo.firstChild),Oa=t,o=Ra=!0),o)for(n=Vi(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ba(e,t,r,n),Ma();t=t.child}return t;case 5:return Bi(t),null===e&&Ha(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Zn(r,o)?s=null:null!==i&&Zn(r,i)&&(t.effectTag|=16),Ga(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ba(e,t,s,n),t=t.child),t;case 6:return null===e&&Ha(t),null;case 13:return ts(e,t,n);case 4:return ji(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ri(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,$a(e,t,r,o=t.elementType===r?o:Xo(r,o),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,oi(t,i=o.value),null!==s){var l=s.value;if(0===(i=Jr(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!po.current){t=is(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var c=u.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&i)){1===l.tag&&((c=fi(n,null)).tag=2,pi(l,c)),l.expirationTime<n&&(l.expirationTime=n),null!==(c=l.alternate)&&c.expirationTime<n&&(c.expirationTime=n),ai(l.return,n),u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ba(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,si(t,n),r=r(o=li(o,i.unstable_observedBits)),t.effectTag|=1,Ba(e,t,r,n),t.child;case 14:return i=Xo(o=t.type,t.pendingProps),Ua(e,t,o,i=Xo(o.type,i),r,n);case 15:return za(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Xo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,yo(r)?(e=!0,_o(t)):e=!1,si(t,n),Ii(t,r,o),xi(t,r,o,n),Ka(null,t,r,!0,e,n);case 19:return os(e,t,n)}throw Error(a(156,t.tag))};var El=null,xl=null;function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Al(e,t,n,r){return new Pl(e,t,n,r)}function Ol(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Al(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rl(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Ol(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case L:return Vl(n.children,o,i,t);case $:s=8,o|=7;break;case M:s=8,o|=1;break;case j:return(e=Al(12,n,t,8|o)).elementType=j,e.type=j,e.expirationTime=i,e;case z:return(e=Al(13,n,t,o)).type=z,e.elementType=z,e.expirationTime=i,e;case G:return(e=Al(19,n,t,o)).elementType=G,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case W:s=10;break e;case B:s=9;break e;case U:s=11;break e;case q:s=14;break e;case Y:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Al(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Vl(e,t,n,r){return(e=Al(7,e,r,t)).expirationTime=n,e}function Fl(e,t,n){return(e=Al(6,e,null,t)).expirationTime=n,e}function Hl(e,t,n){return(t=Al(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Ll(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ml(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function jl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Wl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Bl(e,t,n,r){var o=t.current,i=Xs(),s=ki.suspense;i=Zs(i,o,s);e:if(n){t:{if(tt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(yo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(yo(u)){n=ko(n,u,l);break e}}n=l}else n=ho;return null===t.context?t.context=n:t.pendingContext=n,(t=fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),pi(o,t),el(o,i),i}function $l(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ul(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function zl(e,t){Ul(e,t),(e=e.alternate)&&Ul(e,t)}function Gl(e,t,n){var r=new Dl(e,t,n=null!=n&&!0===n.hydrate),o=Al(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,e[sr]=r.current,n&&0!==t&&function(e){var t=Vn(e);mt.forEach((function(n){Fn(n,e,t)})),yt.forEach((function(n){Fn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=$l(a);s.call(e)}}Bl(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Gl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=$l(a);l.call(e)}}sl((function(){Bl(t,a,e,o)}))}return $l(a)}function Kl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:D,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Jl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ql(t))throw Error(a(200));return Kl(e,t,null,n)}Gl.prototype.render=function(e,t){Bl(e,this._internalRoot,null,void 0===t?null:t)},Gl.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;Bl(null,t,null,(function(){r[sr]=null,null!==n&&n()}))},it=function(e){if(13===e.tag){var t=Qo(Xs(),150,100);el(e,t),zl(e,t)}},at=function(e){if(13===e.tag){Xs();var t=Jo++;el(e,t),zl(e,t)}},st=function(e){if(13===e.tag){var t=Xs();el(e,t=Zs(t,e,null)),zl(e,t)}},ee=function(e,t,n){switch(t){case"input":if(Pe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=hr(r);if(!o)throw Error(a(90));Te(r),Pe(r,o)}}}break;case"textarea":He(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},ae=al,se=function(e,t,n,r){var o=Ps;Ps|=4;try{return zo(98,e.bind(null,t,n,r))}finally{0===(Ps=o)&&Yo()}},le=function(){0==(49&Ps)&&(function(){if(null!==Ys){var e=Ys;Ys=null,e.forEach((function(e,t){Wl(t,e),rl(t)})),Yo()}}(),kl())},ue=function(e,t){var n=Ps;Ps|=2;try{return e(t)}finally{0===(Ps=n)&&Yo()}};var Ql,Xl,Zl={createPortal:Jl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=ot(t))?null:e.stateNode},hydrate:function(e,t,n){if(!ql(t))throw Error(a(200));return Yl(null,e,t,!0,n)},render:function(e,t,n){if(!ql(t))throw Error(a(200));return Yl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Yl(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!ql(e))throw Error(a(40));return!!e._reactRootContainer&&(sl((function(){Yl(null,null,e,!1,(function(){e._reactRootContainer=null,e[sr]=null}))})),!0)},unstable_createPortal:function(){return Jl.apply(void 0,arguments)},unstable_batchedUpdates:al,flushSync:function(e,t){if(0!=(48&Ps))throw Error(a(187));var n=Ps;Ps|=1;try{return zo(99,e.bind(null,t))}finally{Ps=n,Yo()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[ur,cr,hr,O.injectEventPluginsByName,f,Rt,function(e){E(e,Nt)},oe,ie,An,A,kl,{current:!1}]}};Xl=(Ql={findFiberByHostInstance:lr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);El=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},xl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Ql,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ot(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Xl?Xl(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var eu={default:Zl},tu=eu&&Zl||eu;e.exports=tu.default||tu},function(e,t,n){"use strict";e.exports=n(31)},function(e,t,n){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,u=null,c=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(c,0),e}},h=Date.now();t.unstable_now=function(){return Date.now()-h},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(c,0))},o=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,v=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var y=d.now();t.unstable_now=function(){return d.now()-y}}var g=!1,b=null,w=-1,k=5,_=0;a=function(){return t.unstable_now()>=_},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):k=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,C=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();_=e+k;try{b(!0,e)?C.postMessage(null):(g=!1,b=null)}catch(e){throw C.postMessage(null),e}}else g=!1},r=function(e){b=e,g||(g=!0,C.postMessage(null))},o=function(e,n){w=p((function(){e(t.unstable_now())}),n)},i=function(){v(w),w=-1}}function T(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),o=e[r];if(!(void 0!==o&&0<x(o,t)))break e;e[r]=t,e[n]=o,n=r}}function I(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>x(a,n))void 0!==l&&0>x(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>x(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var P=[],A=[],O=1,N=null,R=3,V=!1,F=!1,H=!1;function D(e){for(var t=I(A);null!==t;){if(null===t.callback)E(A);else{if(!(t.startTime<=e))break;E(A),t.sortIndex=t.expirationTime,T(P,t)}t=I(A)}}function L(e){if(H=!1,D(e),!F)if(null!==I(P))F=!0,r(M);else{var t=I(A);null!==t&&o(L,t.startTime-e)}}function M(e,n){F=!1,H&&(H=!1,i()),V=!0;var r=R;try{for(D(n),N=I(P);null!==N&&(!(N.expirationTime>n)||e&&!a());){var s=N.callback;if(null!==s){N.callback=null,R=N.priorityLevel;var l=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?N.callback=l:N===I(P)&&E(P),D(n)}else E(P);N=I(P)}if(null!==N)var u=!0;else{var c=I(A);null!==c&&o(L,c.startTime-n),u=!1}return u}finally{N=null,R=r,V=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:j(e)}else a=j(e),l=s;return e={id:O++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,T(A,e),null===I(P)&&e===I(A)&&(H?i():H=!0,o(L,l-s))):(e.sortIndex=a,T(P,e),F||V||(F=!0,r(M))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=I(P);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_requestPaint=W,t.unstable_continueExecution=function(){F||V||(F=!0,r(M))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return I(P)},t.unstable_Profiling=null},function(e,t,n){"use strict";var r=n(33);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function k(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case h:case f:case a:case l:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case y:case m:case u:return e;default:return t}}case i:return t}}}function _(e){return k(e)===f}t.typeOf=k,t.AsyncMode=h,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=y,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===l||e===s||e===p||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===m||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===w)},t.isAsyncMode=function(e){return _(e)||k(e)===h},t.isConcurrentMode=_,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===a},t.isLazy=function(e){return k(e)===y},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===i},t.isProfiler=function(e){return k(e)===l},t.isStrictMode=function(e){return k(e)===s},t.isSuspense=function(e){return k(e)===p}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r=n(2),o=n(10);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=r(e.i,o,i),s=o.locals?o.locals:{};o.locals||e.hot.accept(10,(function(){var t=n(10);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),a(t)})),e.hot.dispose((function(){a()})),e.exports=s},function(e,t,n){var r=n(2),o=n(11);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=r(e.i,o,i),s=o.locals?o.locals:{};o.locals||e.hot.accept(11,(function(){var t=n(11);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),a(t)})),e.hot.dispose((function(){a()})),e.exports=s},function(e,t,n){var r=n(2),o=n(12);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=r(e.i,o,i),s=o.locals?o.locals:{};o.locals||e.hot.accept(12,(function(){var t=n(12);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),a(t)})),e.hot.dispose((function(){a()})),e.exports=s},function(e,t,n){var r=n(2),o=n(13);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=r(e.i,o,i),s=o.locals?o.locals:{};o.locals||e.hot.accept(13,(function(){var t=n(13);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),a(t)})),e.hot.dispose((function(){a()})),e.exports=s},function(e,t,n){var r=n(2),o=n(14);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=r(e.i,o,i),s=o.locals?o.locals:{};o.locals||e.hot.accept(14,(function(){var t=n(14);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),a(t)})),e.hot.dispose((function(){a()})),e.exports=s},function(e,t,n){var r=n(2),o=n(15);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=r(e.i,o,i),s=o.locals?o.locals:{};o.locals||e.hot.accept(15,(function(){var t=n(15);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),a(t)})),e.hot.dispose((function(){a()})),e.exports=s},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,n){return(f=h()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&c(o,n.prototype),o}).apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.r(t),n.d(t,"InkList",(function(){return P})),n.d(t,"Story",(function(){return ue}));var m,y=function(){function e(){if(i(this,e),this._components=[],this._componentsString=null,this._isRelative=!1,"string"==typeof arguments[0]){var t=arguments[0];this.componentsString=t}else if(arguments[0]instanceof e.Component&&arguments[1]instanceof e){var n=arguments[0],r=arguments[1];this._components.push(n),this._components=this._components.concat(r._components)}else if(arguments[0]instanceof Array){var o=arguments[0],a=!!arguments[1];this._components=this._components.concat(o),this._isRelative=a}}return s(e,[{key:"GetComponent",value:function(e){return this._components[e]}},{key:"PathByAppendingPath",value:function(t){for(var n=new e,r=0,o=0;o<t._components.length&&t._components[o].isParent;++o)r++;for(var i=0;i<this._components.length-r;++i)n._components.push(this._components[i]);for(var a=r;a<t._components.length;++a)n._components.push(t._components[a]);return n}},{key:"toString",value:function(){return this.componentsString}},{key:"Equals",value:function(e){if(null==e)return!1;if(e._components.length!=this._components.length)return!1;if(e.isRelative!=this.isRelative)return!1;for(var t=0,n=e._components.length;t<n;t++)if(!e._components[t].Equals(this._components[t]))return!1;return!0}},{key:"PathByAppendingComponent",value:function(t){var n=new e;return n._components.push.apply(n._components,this._components),n._components.push(t),n}},{key:"isRelative",get:function(){return this._isRelative}},{key:"componentCount",get:function(){return this._components.length}},{key:"head",get:function(){return this._components.length>0?this._components[0]:null}},{key:"tail",get:function(){return this._components.length>=2?new e(this._components.slice(1,this._components.length)):e.self}},{key:"length",get:function(){return this._components.length}},{key:"lastComponent",get:function(){var e=this._components.length-1;return e>=0?this._components[e]:null}},{key:"containsNamedComponent",get:function(){for(var e=0,t=this._components.length;e<t;e++)if(!this._components[e].isIndex)return!0;return!1}},{key:"componentsString",get:function(){return null==this._componentsString&&(this._componentsString=this._components.join("."),this.isRelative&&(this._componentsString="."+this._componentsString)),this._componentsString},set:function(t){if(this._components.length=0,this._componentsString=t,null!=this._componentsString&&""!=this._componentsString){"."==this._componentsString[0]&&(this._isRelative=!0,this._componentsString=this._componentsString.substring(1));var n=this._componentsString.split("."),r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;/^(\-|\+)?([0-9]+|Infinity)$/.test(l)?this._components.push(new e.Component(parseInt(l))):this._components.push(new e.Component(l))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}}],[{key:"self",get:function(){var t=new e;return t._isRelative=!0,t}}]),e}();function g(e,t){return e instanceof t?S(e):null}function b(e,t){if(e instanceof t)return S(e);throw new Error("".concat(e," is not of type ").concat(t))}function w(e){if("number"==typeof e)return e;throw new Error("".concat(e," is not a number"))}function k(e){return e.hasValidName&&e.name?e:null}function _(e){return void 0===e?null:e}function S(e,t){return e}y.parentId="^",function(e){var t=function(){function t(e){i(this,t),this.index=-1,this.name=null,"string"==typeof e?this.name=e:this.index=e}return s(t,[{key:"toString",value:function(){return this.isIndex?this.index.toString():this.name}},{key:"Equals",value:function(e){return null!=e&&e.isIndex==this.isIndex&&(this.isIndex?this.index==e.index:this.name==e.name)}},{key:"isIndex",get:function(){return this.index>=0}},{key:"isParent",get:function(){return this.name==e.parentId}}],[{key:"ToParent",value:function(){return new t(e.parentId)}}]),t}();e.Component=t}(y||(y={})),function(e){function t(e,t){if(!e)throw void 0!==t&&console.warn(t),console.trace&&console.trace(),""}e.AssertType=function(e,n,r){t(e instanceof n,r)},e.Assert=t}(m||(m={}));var C=function(e){function t(){return i(this,t),p(this,u(t).apply(this,arguments))}return l(t,e),t}(d(Error));function T(e){throw new C("".concat(e," is null or undefined"))}var I=function(){function e(){i(this,e),this.parent=null,this._debugMetadata=null,this._path=null}return s(e,[{key:"DebugLineNumberOfPath",value:function(e){if(null===e)return null;var t=this.rootContentContainer;if(t){var n=t.ContentAtPath(e).obj;if(n){var r=n.debugMetadata;if(null!==r)return r.startLineNumber}}return null}},{key:"ResolvePath",value:function(e){if(null===e)return T("path");if(e.isRelative){var t=g(this,W);return null===t&&(m.Assert(null!==this.parent,"Can't resolve relative path because we don't have a parent"),t=g(this.parent,W),m.Assert(null!==t,"Expected parent to be a container"),m.Assert(e.GetComponent(0).isParent),e=e.tail),null===t?T("nearestContainer"):t.ContentAtPath(e)}var n=this.rootContentContainer;return null===n?T("contentContainer"):n.ContentAtPath(e)}},{key:"ConvertPathToRelative",value:function(e){for(var t=this.path,n=Math.min(e.length,t.length),r=-1,o=0;o<n;++o){var i=t.GetComponent(o),a=e.GetComponent(o);if(!i.Equals(a))break;r=o}if(-1==r)return e;for(var s=t.componentCount-1-r,l=[],u=0;u<s;++u)l.push(y.Component.ToParent());for(var c=r+1;c<e.componentCount;++c)l.push(e.GetComponent(c));return new y(l,!0)}},{key:"CompactPathString",value:function(e){var t=null,n=null;e.isRelative?(n=e.componentsString,t=this.path.PathByAppendingPath(e).componentsString):(n=this.ConvertPathToRelative(e).componentsString,t=e.componentsString);return n.length<t.length?n:t}},{key:"Copy",value:function(){throw Error("Not Implemented: Doesn't support copying")}},{key:"SetChild",value:function(e,t,n){e[t]&&(e[t]=null),e[t]=n,e[t]&&(e[t].parent=this)}},{key:"debugMetadata",get:function(){return null===this._debugMetadata&&this.parent?this.parent.debugMetadata:this._debugMetadata},set:function(e){this._debugMetadata=e}},{key:"ownDebugMetadata",get:function(){return this._debugMetadata}},{key:"path",get:function(){if(null==this._path)if(null==this.parent)this._path=new y;else{for(var e=[],t=this,n=g(t.parent,W);null!==n;){var r=k(t);null!=r&&r.hasValidName?e.unshift(new y.Component(r.name)):e.unshift(new y.Component(n.content.indexOf(t))),t=n,n=g(n.parent,W)}this._path=new y(e)}return this._path}},{key:"rootContentContainer",get:function(){for(var e=this;e.parent;)e=e.parent;return g(e,W)}}]),e}(),E=function(){function e(t){i(this,e),t=void 0!==t?t.toString():"",this.string=t}return s(e,[{key:"Append",value:function(e){null!==e&&(this.string+=e)}},{key:"AppendLine",value:function(e){void 0!==e&&this.Append(e),this.string+="\n"}},{key:"AppendFormat",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.string+=e.replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))}},{key:"toString",value:function(){return this.string}},{key:"Length",get:function(){return this.string.length}}]),e}(),x=function(){function e(){if(i(this,e),this.originName=null,this.itemName=null,void 0!==arguments[1]){var t=arguments[0],n=arguments[1];this.originName=t,this.itemName=n}else if(arguments[0]){var r=arguments[0],o=r.toString().split(".");this.originName=o[0],this.itemName=o[1]}}return s(e,[{key:"toString",value:function(){return this.fullName}},{key:"Equals",value:function(t){if(t instanceof e){var n=t;return n.itemName==this.itemName&&n.originName==this.originName}return!1}},{key:"copy",value:function(){return new e(this.originName,this.itemName)}},{key:"serialized",value:function(){return JSON.stringify({originName:this.originName,itemName:this.itemName})}},{key:"isNull",get:function(){return null==this.originName&&null==this.itemName}},{key:"fullName",get:function(){return(null!==this.originName?this.originName:"?")+"."+this.itemName}}],[{key:"fromSerializedKey",value:function(t){var n=JSON.parse(t);if(!e.isLikeInkListItem(n))return e.Null;var r=n;return new e(r.originName,r.itemName)}},{key:"isLikeInkListItem",value:function(e){return"object"===o(e)&&(!(!e.hasOwnProperty("originName")||!e.hasOwnProperty("itemName"))&&(("string"==typeof e.originName||null===typeof e.originName)&&("string"==typeof e.itemName||null===typeof e.itemName)))}},{key:"Null",get:function(){return new e(null,null)}}]),e}(),P=function(e){function t(){var e,n=arguments;if(i(this,t),(e=p(this,u(t).call(this,n[0]instanceof t?n[0]:void 0))).origins=null,e._originNames=[],arguments[0]instanceof t){var r=arguments[0];r._originNames&&(e._originNames=r._originNames.slice())}else if("string"==typeof arguments[0]){var a=arguments[0],s=arguments[1];e.SetInitialOriginName(a);var l=s.listDefinitions.TryListGetDefinition(a,null);if(!l.exists)throw new Error("InkList origin could not be found in story when constructing new list: "+a);e.origins=[l.result]}else if("object"===o(arguments[0])&&arguments[0].hasOwnProperty("Key")&&arguments[0].hasOwnProperty("Value")){var c=arguments[0];e.Add(c.Key,c.Value)}return e}return l(t,e),s(t,[{key:"AddItem",value:function(e){if(e instanceof x){var t=e;if(null==t.originName)return void this.AddItem(t.itemName);if(null===this.origins)return T("this.origins");var n=!0,r=!1,o=void 0;try{for(var i,a=this.origins[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s.name==t.originName){var l=s.TryGetValueForItem(t,0);if(l.exists)return void this.Add(t,l.result);throw new Error("Could not add the item "+t+" to this list because it doesn't exist in the original list definition in ink.")}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}throw new Error("Failed to add item to list because the item was from a new list definition that wasn't previously known to this list. Only items from previously known lists can be used, so that the int value can be found.")}var u=e,c=null;if(null===this.origins)return T("this.origins");var h=!0,f=!1,d=void 0;try{for(var p,v=this.origins[Symbol.iterator]();!(h=(p=v.next()).done);h=!0){var m=p.value;if(null===u)return T("itemName");if(m.ContainsItemWithName(u)){if(null!=c)throw new Error("Could not add the item "+u+" to this list because it could come from either "+m.name+" or "+c.name);c=m}}}catch(e){f=!0,d=e}finally{try{h||null==v.return||v.return()}finally{if(f)throw d}}if(null==c)throw new Error("Could not add the item "+u+" to this list because it isn't known to any list definitions previously associated with this list.");var y=new x(c.name,u),g=c.ValueForItem(y);this.Add(y,g)}},{key:"ContainsItemNamed",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=a[0];a[1];if(x.fromSerializedKey(s).itemName==e)return!0}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!1}},{key:"ContainsKey",value:function(e){return this.has(e.serialized())}},{key:"Add",value:function(e,t){var n=e.serialized();if(this.has(n))throw new Error("The Map already contains an entry for ".concat(e));this.set(n,t)}},{key:"Remove",value:function(e){return this.delete(e.serialized())}},{key:"SetInitialOriginName",value:function(e){this._originNames=[e]}},{key:"SetInitialOriginNames",value:function(e){this._originNames=null==e?null:e.slice()}},{key:"Union",value:function(e){var n=new t(this),r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=v(a.value,2),u=l[0],c=l[1];n.set(u,c)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"Intersect",value:function(e){var n=new t,r=!0,o=!1,i=void 0;try{for(var a,s=this[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=v(a.value,2),u=l[0],c=l[1];e.has(u)&&n.set(u,c)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"Without",value:function(e){var n=new t(this),r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=v(a.value,2),u=l[0];l[1];n.delete(u)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}},{key:"Contains",value:function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=a[0];a[1];if(!this.has(s))return!1}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return!0}},{key:"GreaterThan",value:function(e){return 0!=this.Count&&(0==e.Count||this.minItem.Value>e.maxItem.Value)}},{key:"GreaterThanOrEquals",value:function(e){return 0!=this.Count&&(0==e.Count||this.minItem.Value>=e.minItem.Value&&this.maxItem.Value>=e.maxItem.Value)}},{key:"LessThan",value:function(e){return 0!=e.Count&&(0==this.Count||this.maxItem.Value<e.minItem.Value)}},{key:"LessThanOrEquals",value:function(e){return 0!=e.Count&&(0==this.Count||this.maxItem.Value<=e.maxItem.Value&&this.minItem.Value<=e.minItem.Value)}},{key:"MaxAsList",value:function(){return this.Count>0?new t(this.maxItem):new t}},{key:"MinAsList",value:function(){return this.Count>0?new t(this.minItem):new t}},{key:"ListWithSubRange",value:function(e,n){if(0==this.Count)return new t;var r=this.orderedItems,o=0,i=Number.MAX_SAFE_INTEGER;Number.isInteger(e)?o=e:e instanceof t&&e.Count>0&&(o=e.minItem.Value),Number.isInteger(n)?i=n:e instanceof t&&e.Count>0&&(i=n.maxItem.Value);var a=new t;a.SetInitialOriginNames(this.originNames);var s=!0,l=!1,u=void 0;try{for(var c,h=r[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var f=c.value;f.Value>=o&&f.Value<=i&&a.Add(f.Key,f.Value)}}catch(e){l=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}return a}},{key:"Equals",value:function(e){if(e instanceof t==!1)return!1;if(e.Count!=this.Count)return!1;var n=!0,r=!1,o=void 0;try{for(var i,a=this[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=v(i.value,2),l=s[0];s[1];if(!e.has(l))return!1}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!0}},{key:"toString",value:function(){for(var e=this.orderedItems,t=new E,n=0;n<e.length;n++){n>0&&t.Append(", ");var r=e[n].Key;if(null===r.itemName)return T("item.itemName");t.Append(r.itemName)}return t.toString()}},{key:"valueOf",value:function(){return NaN}},{key:"Count",get:function(){return this.size}},{key:"originOfMaxItem",get:function(){if(null==this.origins)return null;var e=this.maxItem.Key.originName,t=null;return this.origins.every((function(n){return n.name!=e||(t=n,!1)})),t}},{key:"originNames",get:function(){if(this.Count>0){null==this._originNames&&this.Count>0?this._originNames=[]:(this._originNames||(this._originNames=[]),this._originNames.length=0);var e=!0,t=!1,n=void 0;try{for(var r,o=this[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=v(r.value,2),a=i[0],s=(i[1],x.fromSerializedKey(a));if(null===s.originName)return T("item.originName");this._originNames.push(s.originName)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}return this._originNames}},{key:"maxItem",get:function(){var e={Key:x.Null,Value:0},t=!0,n=!1,r=void 0;try{for(var o,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=a[0],l=a[1],u=x.fromSerializedKey(s);(e.Key.isNull||l>e.Value)&&(e={Key:u,Value:l})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"minItem",get:function(){var e={Key:x.Null,Value:0},t=!0,n=!1,r=void 0;try{for(var o,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=a[0],l=a[1],u=x.fromSerializedKey(s);(e.Key.isNull||l<e.Value)&&(e={Key:u,Value:l})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"inverse",get:function(){var e=new t;if(null!=this.origins){var n=!0,r=!1,o=void 0;try{for(var i,a=this.origins[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,u=!1,c=void 0;try{for(var h,f=s.items[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=v(h.value,2),p=d[0],m=d[1],y=x.fromSerializedKey(p);this.ContainsKey(y)||e.Add(y,m)}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return e}},{key:"all",get:function(){var e=new t;if(null!=this.origins){var n=!0,r=!1,o=void 0;try{for(var i,a=this.origins[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l=!0,u=!1,c=void 0;try{for(var h,f=s.items[Symbol.iterator]();!(l=(h=f.next()).done);l=!0){var d=v(h.value,2),p=d[0],m=d[1],y=x.fromSerializedKey(p);e.set(y.serialized(),m)}}catch(e){u=!0,c=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw c}}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}return e}},{key:"orderedItems",get:function(){var e=new Array,t=!0,n=!1,r=void 0;try{for(var o,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=a[0],l=a[1],u=x.fromSerializedKey(s);e.push({Key:u,Value:l})}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e.sort((function(e,t){return null===e.Key.originName?T("x.Key.originName"):null===t.Key.originName?T("y.Key.originName"):e.Value==t.Value?e.Key.originName.localeCompare(t.Key.originName):e.Value<t.Value?-1:e.Value>t.Value?1:0})),e}}]),t}(d(Map)),A=function(e){function t(e){var n;return i(this,t),(n=p(this,u(t).call(this,e))).useEndLineNumber=!1,n.message=e,n.name="StoryException",n}return l(t,e),t}(d(Error));function O(e,t,n){if(null===e)return{result:n,exists:!1};var r=e.get(t);return r?{result:r,exists:!0}:{result:n,exists:!1}}var N,R=function(e){function t(e){var n;return i(this,t),(n=p(this,u(t).call(this))).value=e,n}return l(t,e),s(t,[{key:"toString",value:function(){return null===this.value?T("Value.value"):this.value.toString()}},{key:"valueObject",get:function(){return this.value}}]),t}(function(e){function t(){return i(this,t),p(this,u(t).apply(this,arguments))}return l(t,e),s(t,[{key:"Copy",value:function(){return b(t.Create(this),I)}},{key:"BadCastException",value:function(e){return new A("Can't cast "+this.valueObject+" from "+this.valueType+" to "+e)}}],[{key:"Create",value:function(e){"boolean"==typeof e&&(e=!!e?1:0);return"string"==typeof e?new H(String(e)):Number.isInteger(Number(e))?new V(Number(e)):isNaN(e)?e instanceof y?new D(b(e,y)):e instanceof P?new M(b(e,P)):null:new F(Number(e))}}]),t}(I)),V=function(e){function t(e){return i(this,t),p(this,u(t).call(this,e||0))}return l(t,e),s(t,[{key:"Cast",value:function(e){if(null===this.value)return T("Value.value");if(e==this.valueType)return this;if(e==N.Float)return new F(this.value);if(e==N.String)return new H(""+this.value);throw this.BadCastException(e)}},{key:"isTruthy",get:function(){return 0!=this.value}},{key:"valueType",get:function(){return N.Int}}]),t}(R),F=function(e){function t(e){return i(this,t),p(this,u(t).call(this,e||0))}return l(t,e),s(t,[{key:"Cast",value:function(e){if(null===this.value)return T("Value.value");if(e==this.valueType)return this;if(e==N.Int)return new V(this.value);if(e==N.String)return new H(""+this.value);throw this.BadCastException(e)}},{key:"isTruthy",get:function(){return 0!=this.value}},{key:"valueType",get:function(){return N.Float}}]),t}(R),H=function(e){function t(e){var n;return i(this,t),(n=p(this,u(t).call(this,e||"")))._isNewline="\n"==n.value,n._isInlineWhitespace=!0,null===n.value?p(n,T("Value.value")):(n.value.length>0&&n.value.split("").every((function(e){return" "==e||"\t"==e||(n._isInlineWhitespace=!1,!1)})),n)}return l(t,e),s(t,[{key:"Cast",value:function(e){if(e==this.valueType)return this;if(e==N.Int){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseInt(e);return Number.isNaN(n)?{result:t,exists:!1}:{result:n,exists:!0}}(this.value);if(t.exists)return new V(t.result);throw this.BadCastException(e)}if(e==N.Float){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseFloat(e);return Number.isNaN(n)?{result:t,exists:!1}:{result:n,exists:!0}}(this.value);if(n.exists)return new F(n.result);throw this.BadCastException(e)}throw this.BadCastException(e)}},{key:"valueType",get:function(){return N.String}},{key:"isTruthy",get:function(){return null===this.value?T("Value.value"):this.value.length>0}},{key:"isNewline",get:function(){return this._isNewline}},{key:"isInlineWhitespace",get:function(){return this._isInlineWhitespace}},{key:"isNonWhitespace",get:function(){return!this.isNewline&&!this.isInlineWhitespace}}]),t}(R),D=function(e){function t(e){return i(this,t),p(this,u(t).call(this,e))}return l(t,e),s(t,[{key:"Cast",value:function(e){if(e==this.valueType)return this;throw this.BadCastException(e)}},{key:"toString",value:function(){return"DivertTargetValue("+this.targetPath+")"}},{key:"valueType",get:function(){return N.DivertTarget}},{key:"targetPath",get:function(){return null===this.value?T("Value.value"):this.value},set:function(e){this.value=e}},{key:"isTruthy",get:function(){throw new Error("Shouldn't be checking the truthiness of a divert target")}}]),t}(R),L=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return i(this,t),(n=p(this,u(t).call(this,e)))._contextIndex=r,n}return l(t,e),s(t,[{key:"Cast",value:function(e){if(e==this.valueType)return this;throw this.BadCastException(e)}},{key:"toString",value:function(){return"VariablePointerValue("+this.variableName+")"}},{key:"Copy",value:function(){return new t(this.variableName,this.contextIndex)}},{key:"contextIndex",get:function(){return this._contextIndex},set:function(e){this._contextIndex=e}},{key:"variableName",get:function(){return null===this.value?T("Value.value"):this.value},set:function(e){this.value=e}},{key:"valueType",get:function(){return N.VariablePointer}},{key:"isTruthy",get:function(){throw new Error("Shouldn't be checking the truthiness of a variable pointer")}}]),t}(R),M=function(e){function t(e,n){var r;return i(this,t),r=p(this,u(t).call(this,null)),e||n?e instanceof P?r.value=new P(e):e instanceof x&&"number"==typeof n&&(r.value=new P({Key:e,Value:n})):r.value=new P,r}return l(t,e),s(t,[{key:"Cast",value:function(e){if(null===this.value)return T("Value.value");if(e==N.Int){var t=this.value.maxItem;return t.Key.isNull?new V(0):new V(t.Value)}if(e==N.Float){var n=this.value.maxItem;return n.Key.isNull?new F(0):new F(n.Value)}if(e==N.String){var r=this.value.maxItem;return r.Key.isNull?new H(""):new H(r.Key.toString())}if(e==this.valueType)return this;throw this.BadCastException(e)}},{key:"isTruthy",get:function(){return null===this.value?T("this.value"):this.value.Count>0}},{key:"valueType",get:function(){return N.List}}]),s(t,null,[{key:"RetainListOriginsForAssignment",value:function(e,n){var r=g(e,t),o=g(n,t);return o&&null===o.value?T("newList.value"):r&&null===r.value?T("oldList.value"):void(r&&o&&0==o.value.Count&&o.value.SetInitialOriginNames(r.value.originNames))}}]),t}(R);!function(e){e[e.Int=0]="Int",e[e.Float=1]="Float",e[e.List=2]="List",e[e.String=3]="String",e[e.DivertTarget=4]="DivertTarget",e[e.VariablePointer=5]="VariablePointer"}(N||(N={}));var j=function(){function e(){i(this,e),this.obj=null,this.approximate=!1}return s(e,[{key:"copy",value:function(){var t=new e;return t.obj=this.obj,t.approximate=this.approximate,t}},{key:"correctObj",get:function(){return this.approximate?null:this.obj}},{key:"container",get:function(){return this.obj instanceof W?this.obj:null}}]),e}(),W=function(e){function t(){var e;return i(this,t),(e=p(this,u(t).apply(this,arguments))).name="",e._content=[],e.namedContent=new Map,e.visitsShouldBeCounted=!1,e.turnIndexShouldBeCounted=!1,e.countingAtStartOnly=!1,e._pathToFirstLeafContent=null,e}return l(t,e),s(t,[{key:"AddContent",value:function(e){if(e instanceof Array){var t=e,n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;this.AddContent(s)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}else{var l=e;if(this._content.push(l),l.parent)throw new Error("content is already in "+l.parent);l.parent=this,this.TryAddNamedContent(l)}}},{key:"TryAddNamedContent",value:function(e){var t=k(e);null!=t&&t.hasValidName&&this.AddToNamedContentOnly(t)}},{key:"AddToNamedContentOnly",value:function(e){m.AssertType(e,I,"Can only add Runtime.Objects to a Runtime.Container"),b(e,I).parent=this,this.namedContent.set(e.name,e)}},{key:"ContentAtPath",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;-1==r&&(r=e.length);var o=new j;o.approximate=!1;for(var i=this,a=this,s=n;s<r;++s){var l=e.GetComponent(s);if(null==i){o.approximate=!0;break}var u=i.ContentWithPathComponent(l);if(null==u){o.approximate=!0;break}a=u,i=g(u,t)}return o.obj=a,o}},{key:"InsertContent",value:function(e,t){if(this.content[t]=e,e.parent)throw new Error("content is already in "+e.parent);e.parent=this,this.TryAddNamedContent(e)}},{key:"AddContentsOfContainer",value:function(e){this.content=this.content.concat(e.content);var t=!0,n=!1,r=void 0;try{for(var o,i=e.content[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.parent=this,this.TryAddNamedContent(a)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"ContentWithPathComponent",value:function(e){if(e.isIndex)return e.index>=0&&e.index<this.content.length?this.content[e.index]:null;if(e.isParent)return this.parent;if(null===e.name)return T("component.name");var t=O(this.namedContent,e.name,null);return t.exists?b(t.result,I):null}},{key:"BuildStringOfHierarchy",value:function(){var e;if(0==arguments.length)return e=new E,this.BuildStringOfHierarchy(e,0,null),e.toString();e=arguments[0];var n=arguments[1],r=arguments[2];function o(){for(var t=0;t<4*n;++t)e.Append(" ")}o(),e.Append("["),this.hasValidName&&e.AppendFormat(" ({0})",this.name),this==r&&e.Append("  <---"),e.AppendLine(),n++;for(var i=0;i<this.content.length;++i){var a=this.content[i];if(a instanceof t){var s=a;s.BuildStringOfHierarchy(e,n,r)}else o(),a instanceof H?(e.Append('"'),e.Append(a.toString().replace("\n","\\n")),e.Append('"')):e.Append(a.toString());i!=this.content.length-1&&e.Append(","),a instanceof t||a!=r||e.Append("  <---"),e.AppendLine()}var l=new Map,u=!0,c=!1,h=void 0;try{for(var f,d=this.namedContent[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=v(f.value,2),y=p[0],g=p[1];this.content.indexOf(b(g,I))>=0||l.set(y,g)}}catch(e){c=!0,h=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw h}}if(l.size>0){o(),e.AppendLine("-- named: --");var w=!0,k=!1,_=void 0;try{for(var S,C=l[Symbol.iterator]();!(w=(S=C.next()).done);w=!0){var T=v(S.value,2),x=(T[0],T[1]);m.AssertType(x,t,"Can only print out named Containers");var P=x;P.BuildStringOfHierarchy(e,n,r),e.AppendLine()}}catch(e){k=!0,_=e}finally{try{w||null==C.return||C.return()}finally{if(k)throw _}}}n--,o(),e.Append("]")}},{key:"hasValidName",get:function(){return null!=this.name&&this.name.length>0}},{key:"content",get:function(){return this._content},set:function(e){this.AddContent(e)}},{key:"namedOnlyContent",get:function(){var e=new Map,t=!0,n=!1,r=void 0;try{for(var o,i=this.namedContent[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=a[0],l=b(a[1],I);e.set(s,l)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}var u=!0,c=!1,h=void 0;try{for(var f,d=this.content[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=k(f.value);null!=p&&p.hasValidName&&e.delete(p.name)}}catch(e){c=!0,h=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw h}}return 0==e.size&&(e=null),e},set:function(e){var t=this.namedOnlyContent;if(null!=t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=v(i.value,2),l=s[0];s[1];this.namedContent.delete(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}if(null!=e){var u=!0,c=!1,h=void 0;try{for(var f,d=e[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=v(f.value,2),m=(p[0],k(p[1]));null!=m&&this.AddToNamedContentOnly(m)}}catch(e){c=!0,h=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw h}}}}},{key:"countFlags",get:function(){var e=0;return this.visitsShouldBeCounted&&(e|=t.CountFlags.Visits),this.turnIndexShouldBeCounted&&(e|=t.CountFlags.Turns),this.countingAtStartOnly&&(e|=t.CountFlags.CountStartOnly),e==t.CountFlags.CountStartOnly&&(e=0),e},set:function(e){var n=e;(n&t.CountFlags.Visits)>0&&(this.visitsShouldBeCounted=!0),(n&t.CountFlags.Turns)>0&&(this.turnIndexShouldBeCounted=!0),(n&t.CountFlags.CountStartOnly)>0&&(this.countingAtStartOnly=!0)}},{key:"pathToFirstLeafContent",get:function(){return null==this._pathToFirstLeafContent&&(this._pathToFirstLeafContent=this.path.PathByAppendingPath(this.internalPathToFirstLeafContent)),this._pathToFirstLeafContent}},{key:"internalPathToFirstLeafContent",get:function(){for(var e=[],n=this;n instanceof t;)n.content.length>0&&(e.push(new y.Component(0)),n=n.content[0]);return new y(e)}}]),t}(I);!function(e){!function(e){e[e.Visits=1]="Visits",e[e.Turns=2]="Turns",e[e.CountStartOnly=4]="CountStartOnly"}(e.CountFlags||(e.CountFlags={}))}(W||(W={}));var B,$=function(e){function t(){return i(this,t),p(this,u(t).apply(this,arguments))}return l(t,e),s(t,[{key:"toString",value:function(){return"Glue"}}]),t}(I),U=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.CommandType.NotSet;return i(this,t),(e=p(this,u(t).call(this)))._commandType=n,e}return l(t,e),s(t,[{key:"commandType",get:function(){return this._commandType}}]),s(t,[{key:"Copy",value:function(){return new t(this.commandType)}},{key:"toString",value:function(){return this.commandType.toString()}}],[{key:"EvalStart",value:function(){return new t(t.CommandType.EvalStart)}},{key:"EvalOutput",value:function(){return new t(t.CommandType.EvalOutput)}},{key:"EvalEnd",value:function(){return new t(t.CommandType.EvalEnd)}},{key:"Duplicate",value:function(){return new t(t.CommandType.Duplicate)}},{key:"PopEvaluatedValue",value:function(){return new t(t.CommandType.PopEvaluatedValue)}},{key:"PopFunction",value:function(){return new t(t.CommandType.PopFunction)}},{key:"PopTunnel",value:function(){return new t(t.CommandType.PopTunnel)}},{key:"BeginString",value:function(){return new t(t.CommandType.BeginString)}},{key:"EndString",value:function(){return new t(t.CommandType.EndString)}},{key:"NoOp",value:function(){return new t(t.CommandType.NoOp)}},{key:"ChoiceCount",value:function(){return new t(t.CommandType.ChoiceCount)}},{key:"Turns",value:function(){return new t(t.CommandType.Turns)}},{key:"TurnsSince",value:function(){return new t(t.CommandType.TurnsSince)}},{key:"ReadCount",value:function(){return new t(t.CommandType.ReadCount)}},{key:"Random",value:function(){return new t(t.CommandType.Random)}},{key:"SeedRandom",value:function(){return new t(t.CommandType.SeedRandom)}},{key:"VisitIndex",value:function(){return new t(t.CommandType.VisitIndex)}},{key:"SequenceShuffleIndex",value:function(){return new t(t.CommandType.SequenceShuffleIndex)}},{key:"StartThread",value:function(){return new t(t.CommandType.StartThread)}},{key:"Done",value:function(){return new t(t.CommandType.Done)}},{key:"End",value:function(){return new t(t.CommandType.End)}},{key:"ListFromInt",value:function(){return new t(t.CommandType.ListFromInt)}},{key:"ListRange",value:function(){return new t(t.CommandType.ListRange)}},{key:"ListRandom",value:function(){return new t(t.CommandType.ListRandom)}}]),t}(I);!function(e){!function(e){e[e.NotSet=-1]="NotSet",e[e.EvalStart=0]="EvalStart",e[e.EvalOutput=1]="EvalOutput",e[e.EvalEnd=2]="EvalEnd",e[e.Duplicate=3]="Duplicate",e[e.PopEvaluatedValue=4]="PopEvaluatedValue",e[e.PopFunction=5]="PopFunction",e[e.PopTunnel=6]="PopTunnel",e[e.BeginString=7]="BeginString",e[e.EndString=8]="EndString",e[e.NoOp=9]="NoOp",e[e.ChoiceCount=10]="ChoiceCount",e[e.Turns=11]="Turns",e[e.TurnsSince=12]="TurnsSince",e[e.Random=13]="Random",e[e.SeedRandom=14]="SeedRandom",e[e.VisitIndex=15]="VisitIndex",e[e.SequenceShuffleIndex=16]="SequenceShuffleIndex",e[e.StartThread=17]="StartThread",e[e.Done=18]="Done",e[e.End=19]="End",e[e.ListFromInt=20]="ListFromInt",e[e.ListRange=21]="ListRange",e[e.ListRandom=22]="ListRandom",e[e.ReadCount=23]="ReadCount",e[e.TOTAL_VALUES=24]="TOTAL_VALUES"}(e.CommandType||(e.CommandType={}))}(U||(U={})),function(e){e[e.Tunnel=0]="Tunnel",e[e.Function=1]="Function",e[e.FunctionEvaluationFromGame=2]="FunctionEvaluationFromGame"}(B||(B={}));var z=function(){function e(){i(this,e),this.container=null,this.index=-1,2===arguments.length&&(this.container=arguments[0],this.index=arguments[1])}return s(e,[{key:"Resolve",value:function(){return this.index<0?this.container:null==this.container?null:0==this.container.content.length?this.container:this.index>=this.container.content.length?null:this.container.content[this.index]}},{key:"toString",value:function(){return this.container?"Ink Pointer -> "+this.container.path.toString()+" -- index "+this.index:"Ink Pointer (null)"}},{key:"copy",value:function(){return new e(this.container,this.index)}},{key:"isNull",get:function(){return null==this.container}},{key:"path",get:function(){return this.isNull?null:this.index>=0?this.container.path.PathByAppendingComponent(new y.Component(this.index)):this.container.path}}],[{key:"StartOf",value:function(t){return new e(t,0)}},{key:"Null",get:function(){return new e(null,-1)}}]),e}(),G=function(e){function t(e){var n;return i(this,t),(n=p(this,u(t).call(this)))._targetPath=null,n._targetPointer=z.Null,n.variableDivertName=null,n.pushesToStack=!1,n.stackPushType=0,n.isExternal=!1,n.externalArgs=0,n.isConditional=!1,n.pushesToStack=!1,void 0!==e&&(n.pushesToStack=!0,n.stackPushType=e),n}return l(t,e),s(t,[{key:"Equals",value:function(e){var n=e;return n instanceof t&&this.hasVariableTarget==n.hasVariableTarget&&(this.hasVariableTarget?this.variableDivertName==n.variableDivertName:null===this.targetPath?T("this.targetPath"):this.targetPath.Equals(n.targetPath))}},{key:"toString",value:function(){if(this.hasVariableTarget)return"Divert(variable: "+this.variableDivertName+")";if(null==this.targetPath)return"Divert(null)";var e=new E,t=this.targetPath.toString();return e.Append("Divert"),this.isConditional&&e.Append("?"),this.pushesToStack&&(this.stackPushType==B.Function?e.Append(" function"):e.Append(" tunnel")),e.Append(" -> "),e.Append(this.targetPathString),e.Append(" ("),e.Append(t),e.Append(")"),e.toString()}},{key:"targetPath",get:function(){if(null!=this._targetPath&&this._targetPath.isRelative){var e=this.targetPointer.Resolve();e&&(this._targetPath=e.path)}return this._targetPath},set:function(e){this._targetPath=e,this._targetPointer=z.Null}},{key:"targetPointer",get:function(){if(this._targetPointer.isNull){var e=this.ResolvePath(this._targetPath).obj;if(null===this._targetPath)return T("this._targetPath");if(null===this._targetPath.lastComponent)return T("this._targetPath.lastComponent");if(this._targetPath.lastComponent.isIndex){if(null===e)return T("targetObj");this._targetPointer.container=e.parent instanceof W?e.parent:null,this._targetPointer.index=this._targetPath.lastComponent.index}else this._targetPointer=z.StartOf(e instanceof W?e:null)}return this._targetPointer.copy()}},{key:"targetPathString",get:function(){return null==this.targetPath?null:this.CompactPathString(this.targetPath)},set:function(e){this.targetPath=null==e?null:new y(e)}},{key:"hasVariableTarget",get:function(){return null!=this.variableDivertName}}]),t}(I),q=function(e){function t(){var e,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return i(this,t),(e=p(this,u(t).call(this)))._pathOnChoice=null,e.hasCondition=!1,e.hasStartContent=!1,e.hasChoiceOnlyContent=!1,e.isInvisibleDefault=!1,e.onceOnly=!0,e.onceOnly=n,e}return l(t,e),s(t,[{key:"toString",value:function(){return null===this.pathOnChoice?T("ChoicePoint.pathOnChoice"):"Choice: -> "+this.pathOnChoice.toString()}},{key:"pathOnChoice",get:function(){if(null!=this._pathOnChoice&&this._pathOnChoice.isRelative){var e=this.choiceTarget;e&&(this._pathOnChoice=e.path)}return this._pathOnChoice},set:function(e){this._pathOnChoice=e}},{key:"choiceTarget",get:function(){return null===this._pathOnChoice?T("ChoicePoint._pathOnChoice"):this.ResolvePath(this._pathOnChoice).container}},{key:"pathStringOnChoice",get:function(){return null===this.pathOnChoice?T("ChoicePoint.pathOnChoice"):this.CompactPathString(this.pathOnChoice)},set:function(e){this.pathOnChoice=new y(e)}},{key:"flags",get:function(){var e=0;return this.hasCondition&&(e|=1),this.hasStartContent&&(e|=2),this.hasChoiceOnlyContent&&(e|=4),this.isInvisibleDefault&&(e|=8),this.onceOnly&&(e|=16),e},set:function(e){this.hasCondition=(1&e)>0,this.hasStartContent=(2&e)>0,this.hasChoiceOnlyContent=(4&e)>0,this.isInvisibleDefault=(8&e)>0,this.onceOnly=(16&e)>0}}]),t}(I),Y=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return i(this,t),(e=p(this,u(t).call(this))).pathForCount=null,e.name=n,e}return l(t,e),s(t,[{key:"toString",value:function(){return null!=this.name?"var("+this.name+")":"read_count("+this.pathStringForCount+")"}},{key:"containerForCount",get:function(){return null===this.pathForCount?null:this.ResolvePath(this.pathForCount).container}},{key:"pathStringForCount",get:function(){return null===this.pathForCount?null:this.CompactPathString(this.pathForCount)},set:function(e){this.pathForCount=null===e?null:new y(e)}}]),t}(I),K=function(e){function t(e,n){var r;return i(this,t),(r=p(this,u(t).call(this))).variableName=e||null,r.isNewDeclaration=!!n,r.isGlobal=!1,r}return l(t,e),s(t,[{key:"toString",value:function(){return"VarAssign to "+this.variableName}}]),t}(I),J=function(e){function t(){return i(this,t),p(this,u(t).apply(this,arguments))}return l(t,e),t}(I),Q=function(e){function t(){var e;if(i(this,t),(e=p(this,u(t).call(this)))._name=null,e._numberOfParameters=0,e._prototype=null,e._isPrototype=!1,e._operationFuncs=null,0===arguments.length)t.GenerateNativeFunctionsIfNecessary();else if(1===arguments.length){var n=arguments[0];t.GenerateNativeFunctionsIfNecessary(),e.name=n}else if(2===arguments.length){var r=arguments[0],o=arguments[1];e._isPrototype=!0,e.name=r,e.numberOfParameters=o}return e}return l(t,e),s(t,[{key:"Call",value:function(e){if(this._prototype)return this._prototype.Call(e);if(this.numberOfParameters!=e.length)throw new Error("Unexpected number of parameters");var t=!1,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(s instanceof J)throw new A('Attempting to perform operation on a void value. Did you forget to "return" a value from a function you called here?');s instanceof M&&(t=!0)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(2==e.length&&t)return this.CallBinaryListOperation(e);var l=this.CoerceValuesToSingleType(e),u=l[0].valueType;return u==N.Int?this.CallType(l):u==N.Float?this.CallType(l):u==N.String?this.CallType(l):u==N.DivertTarget?this.CallType(l):u==N.List?this.CallType(l):null}},{key:"CallType",value:function(e){var t=b(e[0],R),n=t.valueType,r=t,o=e.length;if(2==o||1==o){if(null===this._operationFuncs)return T("NativeFunctionCall._operationFuncs");var i=this._operationFuncs.get(n);if(!i)throw new A("Cannot perform operation "+this.name+" on "+n);if(2==o){var a=b(e[1],R),s=i;if(null===r.value||null===a.value)return T("NativeFunctionCall.Call BinaryOp values");var l=s(r.value,a.value);return R.Create(l)}var u=i;if(null===r.value)return T("NativeFunctionCall.Call UnaryOp value");var c=u(r.value);return R.Create(c)}throw new Error("Unexpected number of parameters to NativeFunctionCall: "+e.length)}},{key:"CallBinaryListOperation",value:function(e){if(("+"==this.name||"-"==this.name)&&e[0]instanceof M&&e[1]instanceof V)return this.CallListIncrementOperation(e);var t=b(e[0],R),n=b(e[1],R);if(!("&&"!=this.name&&"||"!=this.name||t.valueType==N.List&&n.valueType==N.List)){if(null===this._operationFuncs)return T("NativeFunctionCall._operationFuncs");var r=this._operationFuncs.get(N.Int);if(null===r)return T("NativeFunctionCall.CallBinaryListOperation op");var o=r(t.isTruthy?1:0,n.isTruthy?1:0);return new V(o)}if(t.valueType==N.List&&n.valueType==N.List)return this.CallType([t,n]);throw new A("Can not call use "+this.name+" operation on "+t.valueType+" and "+n.valueType)}},{key:"CallListIncrementOperation",value:function(e){var t=b(e[0],M),n=b(e[1],V),r=new P;if(null===t.value)return T("NativeFunctionCall.CallListIncrementOperation listVal.value");var o=!0,i=!1,a=void 0;try{for(var s,l=t.value[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=v(s.value,2),c=u[0],h=u[1],f=x.fromSerializedKey(c);if(null===this._operationFuncs)return T("NativeFunctionCall._operationFuncs");var d=this._operationFuncs.get(N.Int);if(null===n.value)return T("NativeFunctionCall.CallListIncrementOperation intVal.value");var p=d(h,n.value),m=null;if(null===t.value.origins)return T("NativeFunctionCall.CallListIncrementOperation listVal.value.origins");var y=!0,g=!1,w=void 0;try{for(var k,_=t.value.origins[Symbol.iterator]();!(y=(k=_.next()).done);y=!0){var S=k.value;if(S.name==f.originName){m=S;break}}}catch(e){g=!0,w=e}finally{try{y||null==_.return||_.return()}finally{if(g)throw w}}if(null!=m){var C=m.TryGetItemWithValue(p,x.Null);C.exists&&r.Add(C.result,p)}}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return new M(r)}},{key:"CoerceValuesToSingleType",value:function(e){var t=N.Int,n=null,r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=b(a.value,R);l.valueType>t&&(t=l.valueType),l.valueType==N.List&&(n=g(l,M))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}var u=[];if(N[t]==N[N.List]){var c=!0,h=!1,f=void 0;try{for(var d,p=e[Symbol.iterator]();!(c=(d=p.next()).done);c=!0){var v=b(d.value,R);if(v.valueType==N.List)u.push(v);else{if(v.valueType!=N.Int)throw new A("Cannot mix Lists and "+v.valueType+" values in this operation");var m=parseInt(v.valueObject);if(null===(n=b(n,M)).value)return T("NativeFunctionCall.CoerceValuesToSingleType specialCaseList.value");var y=n.value.originOfMaxItem;if(null===y)return T("NativeFunctionCall.CoerceValuesToSingleType list");var w=y.TryGetItemWithValue(m,x.Null);if(!w.exists)throw new A("Could not find List item with the value "+m+" in "+y.name);var k=new M(w.result,m);u.push(k)}}}catch(e){h=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(h)throw f}}}else{var _=!0,S=!1,C=void 0;try{for(var I,E=e[Symbol.iterator]();!(_=(I=E.next()).done);_=!0){var P=b(I.value,R).Cast(t);u.push(P)}}catch(e){S=!0,C=e}finally{try{_||null==E.return||E.return()}finally{if(S)throw C}}}return u}},{key:"AddOpFuncForType",value:function(e,t){null==this._operationFuncs&&(this._operationFuncs=new Map),this._operationFuncs.set(e,t)}},{key:"toString",value:function(){return'Native "'+this.name+'"'}},{key:"name",get:function(){return null===this._name?T("NativeFunctionCall._name"):this._name},set:function(e){this._name=e,this._isPrototype||(null===t._nativeFunctions?T("NativeFunctionCall._nativeFunctions"):this._prototype=t._nativeFunctions.get(this._name)||null)}},{key:"numberOfParameters",get:function(){return this._prototype?this._prototype.numberOfParameters:this._numberOfParameters},set:function(e){this._numberOfParameters=e}}],[{key:"CallWithName",value:function(e){return new t(e)}},{key:"CallExistsWithName",value:function(e){return this.GenerateNativeFunctionsIfNecessary(),this._nativeFunctions.get(e)}},{key:"Identity",value:function(e){return e}},{key:"GenerateNativeFunctionsIfNecessary",value:function(){if(null==this._nativeFunctions){this._nativeFunctions=new Map,this.AddIntBinaryOp(this.Add,(function(e,t){return e+t})),this.AddIntBinaryOp(this.Subtract,(function(e,t){return e-t})),this.AddIntBinaryOp(this.Multiply,(function(e,t){return e*t})),this.AddIntBinaryOp(this.Divide,(function(e,t){return Math.round(e/t)})),this.AddIntBinaryOp(this.Mod,(function(e,t){return e%t})),this.AddIntUnaryOp(this.Negate,(function(e){return-e})),this.AddIntBinaryOp(this.Equal,(function(e,t){return e==t?1:0})),this.AddIntBinaryOp(this.Greater,(function(e,t){return e>t?1:0})),this.AddIntBinaryOp(this.Less,(function(e,t){return e<t?1:0})),this.AddIntBinaryOp(this.GreaterThanOrEquals,(function(e,t){return e>=t?1:0})),this.AddIntBinaryOp(this.LessThanOrEquals,(function(e,t){return e<=t?1:0})),this.AddIntBinaryOp(this.NotEquals,(function(e,t){return e!=t?1:0})),this.AddIntUnaryOp(this.Not,(function(e){return 0==e?1:0})),this.AddIntBinaryOp(this.And,(function(e,t){return 0!=e&&0!=t?1:0})),this.AddIntBinaryOp(this.Or,(function(e,t){return 0!=e||0!=t?1:0})),this.AddIntBinaryOp(this.Max,(function(e,t){return Math.max(e,t)})),this.AddIntBinaryOp(this.Min,(function(e,t){return Math.min(e,t)})),this.AddIntBinaryOp(this.Pow,(function(e,t){return Math.pow(e,t)})),this.AddIntUnaryOp(this.Floor,t.Identity),this.AddIntUnaryOp(this.Ceiling,t.Identity),this.AddIntUnaryOp(this.Int,t.Identity),this.AddIntUnaryOp(this.Float,(function(e){return e})),this.AddFloatBinaryOp(this.Add,(function(e,t){return e+t})),this.AddFloatBinaryOp(this.Subtract,(function(e,t){return e-t})),this.AddFloatBinaryOp(this.Multiply,(function(e,t){return e*t})),this.AddFloatBinaryOp(this.Divide,(function(e,t){return e/t})),this.AddFloatBinaryOp(this.Mod,(function(e,t){return e%t})),this.AddFloatUnaryOp(this.Negate,(function(e){return-e})),this.AddFloatBinaryOp(this.Equal,(function(e,t){return e==t?1:0})),this.AddFloatBinaryOp(this.Greater,(function(e,t){return e>t?1:0})),this.AddFloatBinaryOp(this.Less,(function(e,t){return e<t?1:0})),this.AddFloatBinaryOp(this.GreaterThanOrEquals,(function(e,t){return e>=t?1:0})),this.AddFloatBinaryOp(this.LessThanOrEquals,(function(e,t){return e<=t?1:0})),this.AddFloatBinaryOp(this.NotEquals,(function(e,t){return e!=t?1:0})),this.AddFloatUnaryOp(this.Not,(function(e){return 0==e?1:0})),this.AddFloatBinaryOp(this.And,(function(e,t){return 0!=e&&0!=t?1:0})),this.AddFloatBinaryOp(this.Or,(function(e,t){return 0!=e||0!=t?1:0})),this.AddFloatBinaryOp(this.Max,(function(e,t){return Math.max(e,t)})),this.AddFloatBinaryOp(this.Min,(function(e,t){return Math.min(e,t)})),this.AddFloatBinaryOp(this.Pow,(function(e,t){return Math.pow(e,t)})),this.AddFloatUnaryOp(this.Floor,(function(e){return Math.floor(e)})),this.AddFloatUnaryOp(this.Ceiling,(function(e){return Math.ceil(e)})),this.AddFloatUnaryOp(this.Int,(function(e){return Math.floor(e)})),this.AddFloatUnaryOp(this.Float,t.Identity),this.AddStringBinaryOp(this.Add,(function(e,t){return e+t})),this.AddStringBinaryOp(this.Equal,(function(e,t){return e===t?1:0})),this.AddStringBinaryOp(this.NotEquals,(function(e,t){return e!==t?1:0})),this.AddStringBinaryOp(this.Has,(function(e,t){return e.includes(t)?1:0})),this.AddStringBinaryOp(this.Hasnt,(function(e,t){return e.includes(t)?0:1})),this.AddListBinaryOp(this.Add,(function(e,t){return e.Union(t)})),this.AddListBinaryOp(this.Subtract,(function(e,t){return e.Without(t)})),this.AddListBinaryOp(this.Has,(function(e,t){return e.Contains(t)?1:0})),this.AddListBinaryOp(this.Hasnt,(function(e,t){return e.Contains(t)?0:1})),this.AddListBinaryOp(this.Intersect,(function(e,t){return e.Intersect(t)})),this.AddListBinaryOp(this.Equal,(function(e,t){return e.Equals(t)?1:0})),this.AddListBinaryOp(this.Greater,(function(e,t){return e.GreaterThan(t)?1:0})),this.AddListBinaryOp(this.Less,(function(e,t){return e.LessThan(t)?1:0})),this.AddListBinaryOp(this.GreaterThanOrEquals,(function(e,t){return e.GreaterThanOrEquals(t)?1:0})),this.AddListBinaryOp(this.LessThanOrEquals,(function(e,t){return e.LessThanOrEquals(t)?1:0})),this.AddListBinaryOp(this.NotEquals,(function(e,t){return e.Equals(t)?0:1})),this.AddListBinaryOp(this.And,(function(e,t){return e.Count>0&&t.Count>0?1:0})),this.AddListBinaryOp(this.Or,(function(e,t){return e.Count>0||t.Count>0?1:0})),this.AddListUnaryOp(this.Not,(function(e){return 0==e.Count?1:0})),this.AddListUnaryOp(this.Invert,(function(e){return e.inverse})),this.AddListUnaryOp(this.All,(function(e){return e.all})),this.AddListUnaryOp(this.ListMin,(function(e){return e.MinAsList()})),this.AddListUnaryOp(this.ListMax,(function(e){return e.MaxAsList()})),this.AddListUnaryOp(this.Count,(function(e){return e.Count})),this.AddListUnaryOp(this.ValueOfList,(function(e){return e.maxItem.Value}));this.AddOpToNativeFunc(this.Equal,2,N.DivertTarget,(function(e,t){return e.Equals(t)?1:0})),this.AddOpToNativeFunc(this.NotEquals,2,N.DivertTarget,(function(e,t){return e.Equals(t)?0:1}))}}},{key:"AddOpToNativeFunc",value:function(e,n,r,o){if(null===this._nativeFunctions)return T("NativeFunctionCall._nativeFunctions");var i=this._nativeFunctions.get(e);i||(i=new t(e,n),this._nativeFunctions.set(e,i)),i.AddOpFuncForType(r,o)}},{key:"AddIntBinaryOp",value:function(e,t){this.AddOpToNativeFunc(e,2,N.Int,t)}},{key:"AddIntUnaryOp",value:function(e,t){this.AddOpToNativeFunc(e,1,N.Int,t)}},{key:"AddFloatBinaryOp",value:function(e,t){this.AddOpToNativeFunc(e,2,N.Float,t)}},{key:"AddFloatUnaryOp",value:function(e,t){this.AddOpToNativeFunc(e,1,N.Float,t)}},{key:"AddStringBinaryOp",value:function(e,t){this.AddOpToNativeFunc(e,2,N.String,t)}},{key:"AddListBinaryOp",value:function(e,t){this.AddOpToNativeFunc(e,2,N.List,t)}},{key:"AddListUnaryOp",value:function(e,t){this.AddOpToNativeFunc(e,1,N.List,t)}}]),t}(I);Q.Add="+",Q.Subtract="-",Q.Divide="/",Q.Multiply="*",Q.Mod="%",Q.Negate="_",Q.Equal="==",Q.Greater=">",Q.Less="<",Q.GreaterThanOrEquals=">=",Q.LessThanOrEquals="<=",Q.NotEquals="!=",Q.Not="!",Q.And="&&",Q.Or="||",Q.Min="MIN",Q.Max="MAX",Q.Pow="POW",Q.Floor="FLOOR",Q.Ceiling="CEILING",Q.Int="INT",Q.Float="FLOAT",Q.Has="?",Q.Hasnt="!?",Q.Intersect="^",Q.ListMin="LIST_MIN",Q.ListMax="LIST_MAX",Q.All="LIST_ALL",Q.Count="LIST_COUNT",Q.ValueOfList="LIST_VALUE",Q.Invert="LIST_INVERT",Q._nativeFunctions=null;var X=function(e){function t(e){var n;return i(this,t),(n=p(this,u(t).call(this))).text=e.toString()||"",n}return l(t,e),s(t,[{key:"toString",value:function(){return"# "+this.text}}]),t}(I),Z=function(e){function t(){var e;return i(this,t),(e=p(this,u(t).apply(this,arguments))).text="",e.index=0,e.threadAtGeneration=null,e.sourcePath="",e.targetPath=null,e.isInvisibleDefault=!1,e.originalThreadIndex=0,e}return l(t,e),s(t,[{key:"pathStringOnChoice",get:function(){return null===this.targetPath?T("Choice.targetPath"):this.targetPath.toString()},set:function(e){this.targetPath=new y(e)}}]),t}(I),ee=function(){function e(t,n){i(this,e),this._name=t||"",this._items=null,this._itemNameToValues=n||new Map}return s(e,[{key:"ValueForItem",value:function(e){if(!e.itemName)return 0;var t=this._itemNameToValues.get(e.itemName);return void 0!==t?t:0}},{key:"ContainsItem",value:function(e){return!!e.itemName&&(e.originName==this.name&&this._itemNameToValues.has(e.itemName))}},{key:"ContainsItemWithName",value:function(e){return this._itemNameToValues.has(e)}},{key:"TryGetItemWithValue",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this._itemNameToValues[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=v(i.value,2),l=s[0];if(s[1]==e)return{result:new x(this.name,l),exists:!0}}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return{result:x.Null,exists:!1}}},{key:"TryGetValueForItem",value:function(e,t){if(!e.itemName)return{result:0,exists:!1};var n=this._itemNameToValues.get(e.itemName);return n?{result:n,exists:!0}:{result:0,exists:!1}}},{key:"name",get:function(){return this._name}},{key:"items",get:function(){if(null==this._items){this._items=new Map;var e=!0,t=!1,n=void 0;try{for(var r,o=this._itemNameToValues[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=v(r.value,2),a=i[0],s=i[1],l=new x(this.name,a);this._items.set(l.serialized(),s)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}return this._items}}]),e}(),te=function(){function e(t){i(this,e),this._lists=new Map,this._allUnambiguousListValueCache=new Map;var n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;this._lists.set(l.name,l);var u=!0,c=!1,h=void 0;try{for(var f,d=l.items[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=v(f.value,2),m=p[0],y=p[1],g=x.fromSerializedKey(m),b=new M(g,y);if(!g.itemName)throw new Error("item.itemName is null or undefined.");this._allUnambiguousListValueCache.set(g.itemName,b),this._allUnambiguousListValueCache.set(g.fullName,b)}}catch(e){c=!0,h=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw h}}}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}return s(e,[{key:"TryListGetDefinition",value:function(e,t){if(null===e)return{result:t,exists:!1};var n=this._lists.get(e);return n?{result:n,exists:!0}:{result:t,exists:!1}}},{key:"FindSingleItemListWithName",value:function(e){if(null===e)return T("name");var t=this._allUnambiguousListValueCache.get(e);return void 0!==t?t:null}},{key:"lists",get:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this._lists[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=v(o.value,2),s=(a[0],a[1]);e.push(s)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}}]),e}(),ne=function(){function e(){i(this,e)}return s(e,null,[{key:"ListToJArray",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.push(this.RuntimeObjectToJToken(s))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"JArrayToRuntimeObjList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length;t&&n--;for(var r=[],o=0;o<n;o++){var i=e[o],a=this.JTokenToRuntimeObject(i);if(null===a)return T("runtimeObj");r.push(a)}return r}},{key:"DictionaryRuntimeObjsToJObject",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=v(i.value,2),l=s[0],u=g(s[1],I);null!=u&&(t[l]=this.RuntimeObjectToJToken(u))}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"JObjectToDictionaryRuntimeObjs",value:function(e){var t=new Map;for(var n in e)if(e.hasOwnProperty(n)){var r=this.JTokenToRuntimeObject(e[n]);if(null===r)return T("inkObject");t.set(n,r)}return t}},{key:"JObjectToIntDictionary",value:function(e){var t=new Map;for(var n in e)e.hasOwnProperty(n)&&t.set(n,parseInt(e[n]));return t}},{key:"IntDictionaryToJObject",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=v(i.value,2),l=s[0],u=s[1];t[l]=w(u)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"JTokenToRuntimeObject",value:function(t){if("number"==typeof t&&!isNaN(t))return R.Create(t);if("string"==typeof t){var n=t.toString(),r=n[0];if("^"==r)return new H(n.substring(1));if("\n"==r&&1==n.length)return new H("\n");if("<>"==n)return new $;for(var i=0;i<e._controlCommandNames.length;++i){if(n==e._controlCommandNames[i])return new U(i)}if("L^"==n&&(n="^"),Q.CallExistsWithName(n))return Q.CallWithName(n);if("->->"==n)return U.PopTunnel();if("~ret"==n)return U.PopFunction();if("void"==n)return new J}if("object"===o(t)&&!Array.isArray(t)){var a,s=t;if(s["^->"])return a=s["^->"],new D(new y(a.toString()));if(s["^var"]){a=s["^var"];var l=new L(a.toString());return"ci"in s&&(a=s.ci,l.contextIndex=parseInt(a)),l}var u=!1,c=!1,h=B.Function,f=!1;if((a=s["->"])?u=!0:(a=s["f()"])?(u=!0,c=!0,h=B.Function):(a=s["->t->"])?(u=!0,c=!0,h=B.Tunnel):(a=s["x()"])&&(u=!0,f=!0,c=!1,h=B.Function),u){var d=new G;d.pushesToStack=c,d.stackPushType=h,d.isExternal=f;var p=a.toString();return(a=s.var)?d.variableDivertName=p:d.targetPathString=p,d.isConditional=!!s.c,f&&(a=s.exArgs)&&(d.externalArgs=parseInt(a)),d}if(a=s["*"]){var v=new q;return v.pathStringOnChoice=a.toString(),(a=s.flg)&&(v.flags=parseInt(a)),v}if(a=s["VAR?"])return new Y(a.toString());if(a=s["CNT?"]){var m=new Y;return m.pathStringForCount=a.toString(),m}var g=!1,b=!1;if((a=s["VAR="])?(g=!0,b=!0):(a=s["temp="])&&(g=!0,b=!1),g){var w=a.toString(),k=!s.re,_=new K(w,k);return _.isGlobal=b,_}if(void 0!==s["#"])return a=s["#"],new X(a.toString());if(a=s.list){var S=a,C=new P;if(a=s.origins){var T=a;C.SetInitialOriginNames(T)}for(var I in S)if(S.hasOwnProperty(I)){var E=S[I],A=new x(I),O=parseInt(E);C.Add(A,O)}return new M(C)}if(null!=s.originalChoicePath)return this.JObjectToChoice(s)}if(Array.isArray(t))return this.JArrayToContainer(t);if(null==t)return null;throw new Error("Failed to convert token to runtime object: "+JSON.stringify(t))}},{key:"RuntimeObjectToJToken",value:function(t){var n=g(t,W);if(n)return this.ContainerToJArray(n);var r=g(t,G);if(r){var o,i="->";r.isExternal?i="x()":r.pushesToStack&&(r.stackPushType==B.Function?i="f()":r.stackPushType==B.Tunnel&&(i="->t->")),o=r.hasVariableTarget?r.variableDivertName:r.targetPathString;var a={};return a[i]=o,r.hasVariableTarget&&(a.var=!0),r.isConditional&&(a.c=!0),r.externalArgs>0&&(a.exArgs=r.externalArgs),a}var s=g(t,q);if(s){var l={};return l["*"]=s.pathStringOnChoice,l.flg=s.flags,l}var u=g(t,V);if(u)return u.value;var c=g(t,F);if(c)return c.value;var h=g(t,H);if(h)return h.isNewline?"\n":"^"+h.value;var f=g(t,M);if(f)return this.InkListToJObject(f);var d=g(t,D);if(d){var p={};return null===d.value?T("divTargetVal.value"):(p["^->"]=d.value.componentsString,p)}var v=g(t,L);if(v){var m={};return m["^var"]=v.value,m.ci=v.contextIndex,m}if(g(t,$))return"<>";var y=g(t,U);if(y)return e._controlCommandNames[y.commandType];var b=g(t,Q);if(b){var w=b.name;return"^"==w&&(w="L^"),w}var k=g(t,Y);if(k){var _={},S=k.pathStringForCount;return null!=S?_["CNT?"]=S:_["VAR?"]=k.name,_}var C=g(t,K);if(C){var I={};return I[C.isGlobal?"VAR=":"temp="]=C.variableName,C.isNewDeclaration||(I.re=!0),I}if(g(t,J))return"void";var E=g(t,X);if(E){var x={};return x["#"]=E.text,x}var P=g(t,Z);if(P)return this.ChoiceToJObject(P);throw new Error("Failed to convert runtime object to Json token: "+t)}},{key:"ContainerToJArray",value:function(e){var t=this.ListToJArray(e.content),n=e.namedOnlyContent,r=e.countFlags;if(null!=n&&n.size>0||r>0||null!=e.name){var o;if(null!=n){for(var i in o=this.DictionaryRuntimeObjsToJObject(n))if(o.hasOwnProperty(i)){var a=o[i];if(null!=a){var s=a[a.length-1];null!=s&&(delete s["#n"],0==Object.keys(s).length&&(a[a.length-1]=null))}}}else o={};r>0&&(o["#f"]=r),null!=e.name&&(o["#n"]=e.name),t.push(o)}else t.push(null);return t}},{key:"JArrayToContainer",value:function(e){var t=new W;t.content=this.JArrayToRuntimeObjList(e,!0);var n=e[e.length-1];if(null!=n){var r=new Map;for(var o in n)if("#f"==o)t.countFlags=parseInt(n[o]);else if("#n"==o)t.name=n[o].toString();else{var i=this.JTokenToRuntimeObject(n[o]),a=g(i,W);a&&(a.name=o),r.set(o,i)}t.namedOnlyContent=r}return t}},{key:"JObjectToChoice",value:function(e){var t=new Z;return t.text=e.text.toString(),t.index=parseInt(e.index),t.sourcePath=e.originalChoicePath.toString(),t.originalThreadIndex=parseInt(e.originalThreadIndex),t.pathStringOnChoice=e.targetPath.toString(),t}},{key:"ChoiceToJObject",value:function(e){var t={};return t.text=e.text,t.index=e.index,t.originalChoicePath=e.sourcePath,t.originalThreadIndex=e.originalThreadIndex,t.targetPath=e.pathStringOnChoice,t}},{key:"InkListToJObject",value:function(e){var t=e.value;if(null===t)return T("rawList");var n={},r={},o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=v(s.value,2),c=u[0],h=u[1];r[x.fromSerializedKey(c).toString()]=h}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return n.list=r,0==t.Count&&null!=t.originNames&&t.originNames.length>0&&(n.origins=t.originNames),n}},{key:"ListDefinitionsToJToken",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=e.lists[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l={},u=!0,c=!1,h=void 0;try{for(var f,d=s.items[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){var p=v(f.value,2),m=p[0],y=p[1],g=x.fromSerializedKey(m);if(null===g.itemName)return T("item.itemName");l[g.itemName]=y}}catch(e){c=!0,h=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw h}}t[s.name]=l}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"JTokenToListDefinitions",value:function(e){var t=e,n=[];for(var r in t)if(t.hasOwnProperty(r)){var o=r.toString(),i=t[r],a=new Map;for(var s in i)if(t.hasOwnProperty(r)){var l=i[s];a.set(s,parseInt(l))}var u=new ee(o,a);n.push(u)}return new te(n)}}]),e}();ne._controlCommandNames=function(){var e=[];e[U.CommandType.EvalStart]="ev",e[U.CommandType.EvalOutput]="out",e[U.CommandType.EvalEnd]="/ev",e[U.CommandType.Duplicate]="du",e[U.CommandType.PopEvaluatedValue]="pop",e[U.CommandType.PopFunction]="~ret",e[U.CommandType.PopTunnel]="->->",e[U.CommandType.BeginString]="str",e[U.CommandType.EndString]="/str",e[U.CommandType.NoOp]="nop",e[U.CommandType.ChoiceCount]="choiceCnt",e[U.CommandType.Turns]="turn",e[U.CommandType.TurnsSince]="turns",e[U.CommandType.ReadCount]="readc",e[U.CommandType.Random]="rnd",e[U.CommandType.SeedRandom]="srnd",e[U.CommandType.VisitIndex]="visit",e[U.CommandType.SequenceShuffleIndex]="seq",e[U.CommandType.StartThread]="thread",e[U.CommandType.Done]="done",e[U.CommandType.End]="end",e[U.CommandType.ListFromInt]="listInt",e[U.CommandType.ListRange]="range",e[U.CommandType.ListRandom]="lrnd";for(var t=0;t<U.CommandType.TOTAL_VALUES;++t)if(null==e[t])throw new Error("Control command not accounted for in serialisation");return e}();var re=function(){function e(t){i(this,e),this.seed=t%2147483647,this.seed<=0&&(this.seed+=2147483646)}return s(e,[{key:"next",value:function(){return this.seed=16807*this.seed%2147483647}},{key:"nextFloat",value:function(){return(this.next()-1)/2147483646}}]),e}(),oe=function(){function e(){i(this,e),this.startTime=void 0}return s(e,[{key:"Start",value:function(){this.startTime=(new Date).getTime()}},{key:"Stop",value:function(){this.startTime=void 0}},{key:"ElapsedMilliseconds",get:function(){return void 0===this.startTime?0:(new Date).getTime()-this.startTime}}]),e}();Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e});var ie=function(e){function t(){var e,n;i(this,t),(e=p(this,u(t).call(this))).inkVersionCurrent=19,e.inkVersionMinimumCompatible=18,e._prevContainers=[],e.allowExternalFunctionFallbacks=!1,e._listDefinitions=null,e._variableObservers=null,e._hasValidatedExternals=!1,e._temporaryEvaluationContainer=null,e._asyncContinueActive=!1,e._stateAtLastNewline=null,e._recursiveContinueCount=0,e._profiler=null;var r=null,o=null;if(arguments[0]instanceof W)n=arguments[0],void 0!==arguments[1]&&(r=arguments[1]),e._mainContentContainer=n;else if("string"==typeof arguments[0]){var a=arguments[0];o=JSON.parse(a)}else o=arguments[0];if(null!=r&&(e._listDefinitions=new te(r)),e._externals=new Map,null!==o){var s=o,l=s.inkVersion;if(null==l)throw new Error("ink version number not found. Are you sure it's a valid .ink.json file?");var c=parseInt(l);if(c>e.inkVersionCurrent)throw new Error("Version of ink used to build story was newer than the current version of the engine");if(c<e.inkVersionMinimumCompatible)throw new Error("Version of ink used to build story is too old to be loaded by this version of the engine");c!=e.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");var h,f=s.root;if(null==f)throw new Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");(h=s.listDefs)&&(e._listDefinitions=ne.JTokenToListDefinitions(h)),e._mainContentContainer=b(ne.JTokenToRuntimeObject(f),W),e.ResetState()}return e}return l(t,e),s(t,[{key:"StartProfiling",value:function(){}},{key:"EndProfiling",value:function(){}},{key:"ToJsonString",value:function(){var e=ne.RuntimeObjectToJToken(this._mainContentContainer),t={};return t.inkVersion=this.inkVersionCurrent,t.root=e,null!=this._listDefinitions&&(t.listDefs=ne.ListDefinitionsToJToken(this._listDefinitions)),JSON.stringify(t)}},{key:"ResetState",value:function(){this.IfAsyncWeCant("ResetState"),this._state=new le(this),this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this)),this.ResetGlobals()}},{key:"ResetErrors",value:function(){if(null===this._state)return T("this._state");this._state.ResetErrors()}},{key:"ResetCallstack",value:function(){if(this.IfAsyncWeCant("ResetCallstack"),null===this._state)return T("this._state");this._state.ForceEnd()}},{key:"ResetGlobals",value:function(){if(this._mainContentContainer.namedContent.get("global decl")){var e=this.state.currentPointer.copy();this.ChoosePath(new y("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=e}this.state.variablesState.SnapshotDefaultGlobals()}},{key:"Continue",value:function(){return this.ContinueAsync(0),this.currentText}},{key:"ContinueAsync",value:function(e){this._hasValidatedExternals||this.ValidateExternalBindings(),this.ContinueInternal(e)}},{key:"ContinueInternal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null!=this._profiler&&this._profiler.PreContinue();var t=e>0;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=t,!this.canContinue)throw new A("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1,this._state.ResetOutput(),1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!0)}var n=new oe;n.Start();var r=!1;do{try{r=this.ContinueSingleStep()}catch(e){if(!(e instanceof A))throw e;this.AddError(e.message,void 0,e.useEndLineNumber);break}if(r)break;if(this._asyncContinueActive&&n.ElapsedMilliseconds>e)break}while(this.canContinue);n.Stop(),!r&&this.canContinue||(null!=this._stateAtLastNewline&&(this.RestoreStateSnapshot(this._stateAtLastNewline),this._stateAtLastNewline=null),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),0!=this.state.generatedChoices.length||this.state.didSafeExit||null!=this._temporaryEvaluationContainer||(this.state.callStack.CanPop(B.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '->->' to return from a tunnel?"):this.state.callStack.CanPop(B.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.state.callStack.canPop?this.AddError("unexpectedly reached end of content for unknown reason. Please debug compiler!"):this.AddError("ran out of content. Do you need a '-> DONE' or '-> END'?"))),this.state.didSafeExit=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1),this._recursiveContinueCount--,null!=this._profiler&&this._profiler.PostContinue()}},{key:"ContinueSingleStep",value:function(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),this.canContinue||this.state.callStack.elementIsEvaluateFromGame||this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!=this._stateAtLastNewline){if(null===this._stateAtLastNewline.currentTags)return T("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return T("this.state.currentTags");var e=this.CalculateNewlineOutputStateChange(this._stateAtLastNewline.currentText,this.state.currentText,this._stateAtLastNewline.currentTags.length,this.state.currentTags.length);if(e==t.OutputStateChange.ExtendedBeyondNewline)return this.RestoreStateSnapshot(this._stateAtLastNewline),!0;e==t.OutputStateChange.NewlineRemoved&&(this._stateAtLastNewline=null)}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateAtLastNewline&&(this._stateAtLastNewline=this.StateSnapshot()):this._stateAtLastNewline=null)}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}},{key:"CalculateNewlineOutputStateChange",value:function(e,n,r,o){if(null===e)return T("prevText");if(null===n)return T("currText");var i=n.length>=e.length&&"\n"==n.charAt(e.length-1);if(r==o&&e.length==n.length&&i)return t.OutputStateChange.NoChange;if(!i)return t.OutputStateChange.NewlineRemoved;if(o>r)return t.OutputStateChange.ExtendedBeyondNewline;for(var a=e.length;a<n.length;a++){var s=n.charAt(a);if(" "!=s&&"\t"!=s)return t.OutputStateChange.ExtendedBeyondNewline}return t.OutputStateChange.NoChange}},{key:"ContinueMaximally",value:function(){this.IfAsyncWeCant("ContinueMaximally");for(var e=new E;this.canContinue;)e.Append(this.Continue());return e.toString()}},{key:"ContentAtPath",value:function(e){return this.mainContentContainer.ContentAtPath(e)}},{key:"KnotContainerWithName",value:function(e){var t=this.mainContentContainer.namedContent.get(e);return t instanceof W?t:null}},{key:"PointerAtPath",value:function(e){if(0==e.length)return z.Null;var t=new z,n=e.length,r=null;return null===e.lastComponent?T("path.lastComponent"):(e.lastComponent.isIndex?(n=e.length-1,r=this.mainContentContainer.ContentAtPath(e,void 0,n),t.container=r.container,t.index=e.lastComponent.index):(r=this.mainContentContainer.ContentAtPath(e),t.container=r.container,t.index=-1),null==r.obj||r.obj==this.mainContentContainer&&n>0?this.Error("Failed to find content at path '"+e+"', and no approximation of it was possible."):r.approximate&&this.Warning("Failed to find content at path '"+e+"', so it was approximated to: '"+r.obj.path+"'."),t)}},{key:"StateSnapshot",value:function(){return this.state.Copy()}},{key:"RestoreStateSnapshot",value:function(e){this._state=e}},{key:"Step",value:function(){var e=!0,t=this.state.currentPointer.copy();if(!t.isNull){for(var n=g(t.Resolve(),W);n&&(this.VisitContainer(n,!0),0!=n.content.length);)n=g((t=z.StartOf(n)).Resolve(),W);this.state.currentPointer=t.copy(),null!=this._profiler&&this._profiler.Step(this.state.callStack);var r=t.Resolve(),o=this.PerformLogicAndFlowControl(r);if(!this.state.currentPointer.isNull){o&&(e=!1);var i=g(r,q);if(i){var a=this.ProcessChoice(i);a&&this.state.generatedChoices.push(a),r=null,e=!1}if(r instanceof W&&(e=!1),e){var s=g(r,L);if(s&&-1==s.contextIndex){var l=this.state.callStack.ContextForVariableNamed(s.variableName);r=new L(s.variableName,l)}this.state.inExpressionEvaluation?this.state.PushEvaluationStack(r):this.state.PushToOutputStream(r)}this.NextContent();var u=g(r,U);u&&u.commandType==U.CommandType.StartThread&&this.state.callStack.PushThread()}}}},{key:"VisitContainer",value:function(e,t){e.countingAtStartOnly&&!t||(e.visitsShouldBeCounted&&this.IncrementVisitCountForContainer(e),e.turnIndexShouldBeCounted&&this.RecordTurnIndexVisitToContainer(e))}},{key:"VisitChangedContainersDueToDivert",value:function(){var e=this.state.previousPointer.copy(),t=this.state.currentPointer.copy();if(!t.isNull&&-1!=t.index){if(this._prevContainers.length=0,!e.isNull)for(var n=g(e.Resolve(),W)||g(e.container,W);n;)this._prevContainers.push(n),n=g(n.parent,W);var r=t.Resolve();if(null!=r)for(var o=g(r.parent,W);o&&(this._prevContainers.indexOf(o)<0||o.countingAtStartOnly);){var i=o.content.length>0&&r==o.content[0];this.VisitContainer(o,i),r=o,o=g(o.parent,W)}}}},{key:"ProcessChoice",value:function(e){var t=!0;if(e.hasCondition){var n=this.state.PopEvaluationStack();this.IsTruthy(n)||(t=!1)}var r="",o="";e.hasChoiceOnlyContent&&(o=b(this.state.PopEvaluationStack(),H).value||"");e.hasStartContent&&(r=b(this.state.PopEvaluationStack(),H).value||"");e.onceOnly&&(this.VisitCountForContainer(e.choiceTarget)>0&&(t=!1));if(!t)return null;var i=new Z;return i.targetPath=e.pathOnChoice,i.sourcePath=e.path.toString(),i.isInvisibleDefault=e.isInvisibleDefault,i.threadAtGeneration=this.state.callStack.ForkThread(),i.text=(r+o).replace(/^[ \t]+|[ \t]+$/g,""),i}},{key:"IsTruthy",value:function(e){if(e instanceof R){var t=e;if(t instanceof D){var n=t;return this.Error("Shouldn't use a divert target (to "+n.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),!1}return t.isTruthy}return!1}},{key:"PerformLogicAndFlowControl",value:function(e){if(null==e)return!1;if(e instanceof G){var t=e;if(t.isConditional){var n=this.state.PopEvaluationStack();if(!this.IsTruthy(n))return!0}if(t.hasVariableTarget){var r=t.variableDivertName,o=this.state.variablesState.GetVariableWithName(r);if(null==o)this.Error("Tried to divert using a target from a variable that could not be found ("+r+")");else if(!(o instanceof D)){var i=g(o,V),a="Tried to divert to a target from a variable, but the variable ("+r+") didn't contain a divert target, it ";i instanceof V&&0==i.value?a+="was empty/null (the value 0).":a+="contained '"+o+"'.",this.Error(a)}var s=b(o,D);this.state.divertedPointer=this.PointerAtPath(s.targetPath)}else{if(t.isExternal)return this.CallExternalFunction(t.targetPathString,t.externalArgs),!0;this.state.divertedPointer=t.targetPointer.copy()}return t.pushesToStack&&this.state.callStack.Push(t.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&!t.isExternal&&(t&&t.debugMetadata&&null!=t.debugMetadata.sourceName?this.Error("Divert target doesn't exist: "+t.debugMetadata.sourceName):this.Error("Divert resolution failed: "+t)),!0}if(e instanceof U){var l=e;switch(l.commandType){case U.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?"),this.state.inExpressionEvaluation=!0;break;case U.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode"),this.state.inExpressionEvaluation=!1;break;case U.CommandType.EvalOutput:if(this.state.evaluationStack.length>0){var u=this.state.PopEvaluationStack();if(!(u instanceof J)){var c=new H(u.toString());this.state.PushToOutputStream(c)}}break;case U.CommandType.NoOp:break;case U.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case U.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case U.CommandType.PopFunction:case U.CommandType.PopTunnel:var h=l.commandType==U.CommandType.PopFunction?B.Function:B.Tunnel,f=null;if(h==B.Tunnel){var d=this.state.PopEvaluationStack();null===(f=g(d,D))&&this.Assert(d instanceof J,"Expected void if ->-> doesn't override target")}if(this.state.TryExitFunctionEvaluationFromGame())break;if(this.state.callStack.currentElement.type==h&&this.state.callStack.canPop)this.state.PopCallStack(),f&&(this.state.divertedPointer=this.PointerAtPath(f.targetPath));else{var p=new Map;p.set(B.Function,"function return statement (~ return)"),p.set(B.Tunnel,"tunnel onwards statement (->->)");var v=p.get(this.state.callStack.currentElement.type);this.state.callStack.canPop||(v="end of flow (-> END or choice)");var m="Found "+p.get(h)+", when expected "+v;this.Error(m)}break;case U.CommandType.BeginString:this.state.PushToOutputStream(l),this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string"),this.state.inExpressionEvaluation=!1;break;case U.CommandType.EndString:for(var y=[],w=0,k=this.state.outputStream.length-1;k>=0;--k){var _=this.state.outputStream[k];w++;var S=g(_,U);if(S&&S.commandType==U.CommandType.BeginString)break;_ instanceof H&&y.push(_)}this.state.PopFromOutputStream(w),y=y.reverse();var C=new E,I=!0,O=!1,N=void 0;try{for(var F,L=y[Symbol.iterator]();!(I=(F=L.next()).done);I=!0){var j=F.value;C.Append(j.toString())}}catch(e){O=!0,N=e}finally{try{I||null==L.return||L.return()}finally{if(O)throw N}}this.state.inExpressionEvaluation=!0,this.state.PushEvaluationStack(new H(C.toString()));break;case U.CommandType.ChoiceCount:var $=this.state.generatedChoices.length;this.state.PushEvaluationStack(new V($));break;case U.CommandType.Turns:this.state.PushEvaluationStack(new V(this.state.currentTurnIndex+1));break;case U.CommandType.TurnsSince:case U.CommandType.ReadCount:var q=this.state.PopEvaluationStack();if(!(q instanceof D)){var X="";q instanceof V&&(X=". Did you accidentally pass a read count ('knot_name') instead of a target ('-> knot_name')?"),this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+q+X);break}var Z,ee=b(q,D),te=g(this.ContentAtPath(ee.targetPath).correctObj,W);null!=te?Z=l.commandType==U.CommandType.TurnsSince?this.TurnsSinceForContainer(te):this.VisitCountForContainer(te):(Z=l.commandType==U.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+l.toString()+" lookup at "+ee.targetPath.toString())),this.state.PushEvaluationStack(new V(Z));break;case U.CommandType.Random:var ne=g(this.state.PopEvaluationStack(),V),oe=g(this.state.PopEvaluationStack(),V);if(null==oe||oe instanceof V==!1)return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");if(null==ne||oe instanceof V==!1)return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===ne.value)return T("maxInt.value");if(null===oe.value)return T("minInt.value");var ie=ne.value-oe.value+1;ie<=0&&this.Error("RANDOM was called with minimum as "+oe.value+" and maximum as "+ne.value+". The maximum must be larger");var ae=this.state.storySeed+this.state.previousRandom,se=new re(ae).next(),le=se%ie+oe.value;this.state.PushEvaluationStack(new V(le)),this.state.previousRandom=se;break;case U.CommandType.SeedRandom:var ue=g(this.state.PopEvaluationStack(),V);if(null==ue||ue instanceof V==!1)return this.Error("Invalid value passed to SEED_RANDOM");if(null===ue.value)return T("minInt.value");this.state.storySeed=ue.value,this.state.previousRandom=0,this.state.PushEvaluationStack(new J);break;case U.CommandType.VisitIndex:var ce=this.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new V(ce));break;case U.CommandType.SequenceShuffleIndex:var he=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new V(he));break;case U.CommandType.StartThread:break;case U.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=z.Null);break;case U.CommandType.End:this.state.ForceEnd();break;case U.CommandType.ListFromInt:var fe=g(this.state.PopEvaluationStack(),V),de=b(this.state.PopEvaluationStack(),H);if(null===fe)throw new A("Passed non-integer when creating a list element from a numerical value.");var pe=null;if(null===this.listDefinitions)return T("this.listDefinitions");var ve=this.listDefinitions.TryListGetDefinition(de.value,null);if(!ve.exists)throw new A("Failed to find LIST called "+de.value);if(null===fe.value)return T("minInt.value");var me=ve.result.TryGetItemWithValue(fe.value,x.Null);me.exists&&(pe=new M(me.result,fe.value)),null==pe&&(pe=new M),this.state.PushEvaluationStack(pe);break;case U.CommandType.ListRange:var ye=g(this.state.PopEvaluationStack(),R),ge=g(this.state.PopEvaluationStack(),R),be=g(this.state.PopEvaluationStack(),M);if(null===be||null===ge||null===ye)throw new A("Expected list, minimum and maximum for LIST_RANGE");if(null===be.value)return T("targetList.value");var we=be.value.ListWithSubRange(ge.valueObject,ye.valueObject);this.state.PushEvaluationStack(new M(we));break;case U.CommandType.ListRandom:var ke=this.state.PopEvaluationStack();if(null===ke)throw new A("Expected list for LIST_RANDOM");var _e=ke.value,Se=null;if(null===_e)throw T("list");if(0==_e.Count)Se=new P;else{for(var Ce=this.state.storySeed+this.state.previousRandom,Te=new re(Ce).next(),Ie=Te%_e.Count,Ee=_e.entries(),xe=0;xe<=Ie-1;xe++)Ee.next();var Pe=Ee.next().value,Ae={Key:x.fromSerializedKey(Pe[0]),Value:Pe[1]};if(null===Ae.Key.originName)return T("randomItem.Key.originName");(Se=new P(Ae.Key.originName,this)).Add(Ae.Key,Ae.Value),this.state.previousRandom=Te}this.state.PushEvaluationStack(new M(Se));break;default:this.Error("unhandled ControlCommand: "+l)}return!0}if(e instanceof K){var Oe=e,Ne=this.state.PopEvaluationStack();return this.state.variablesState.Assign(Oe,Ne),!0}if(e instanceof Y){var Re=e,Ve=null;if(null!=Re.pathForCount){var Fe=Re.containerForCount,He=this.VisitCountForContainer(Fe);Ve=new V(He)}else if(null==(Ve=this.state.variablesState.GetVariableWithName(Re.name))){var De=this.state.variablesState.TryGetDefaultVariableValue(Re.name);null!=De?(this.Warning("Variable not found in save state: '"+Re.name+"', but seems to have been newly created. Assigning value from latest ink's declaration: "+De),Ve=De,this.state.variablesState.SetGlobal(Re.name,Ve)):(this.Warning("Variable not found: '"+Re.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit."),Ve=new V(0))}return this.state.PushEvaluationStack(Ve),!0}if(e instanceof Q){var Le=e,Me=this.state.PopEvaluationStack(Le.numberOfParameters),je=Le.Call(Me);return this.state.PushEvaluationStack(je),!0}return!1}},{key:"ChoosePathString",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.IfAsyncWeCant("call ChoosePathString right now"),t)this.ResetCallstack();else if(this.state.callStack.currentElement.type==B.Function){var r="",o=this.state.callStack.currentElement.currentPointer.container;throw null!=o&&(r="("+o.path.toString()+") "),new Error("Story was running a function "+r+"when you called ChoosePathString("+e+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace)}this.state.PassArgumentsToEvaluationStack(n),this.ChoosePath(new y(e))}},{key:"IfAsyncWeCant",value:function(e){if(this._asyncContinueActive)throw new Error("Can't "+e+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.")}},{key:"ChoosePath",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.state.SetChosenPath(e,t),this.VisitChangedContainersDueToDivert()}},{key:"ChooseChoiceIndex",value:function(e){e=e;var t=this.currentChoices;this.Assert(e>=0&&e<t.length,"choice out of range");var n=t[e];return null===n.threadAtGeneration?T("choiceToChoose.threadAtGeneration"):null===n.targetPath?T("choiceToChoose.targetPath"):(this.state.callStack.currentThread=n.threadAtGeneration,void this.ChoosePath(n.targetPath))}},{key:"HasFunction",value:function(e){try{return null!=this.KnotContainerWithName(e)}catch(e){return!1}}},{key:"EvaluateFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.IfAsyncWeCant("evaluate a function"),null==e)throw new Error("Function is null");if(""==e||""==e.trim())throw new Error("Function is empty or white space.");var r=this.KnotContainerWithName(e);if(null==r)throw new Error("Function doesn't exist: '"+e+"'");var o=[];o.push.apply(o,this.state.outputStream),this._state.ResetOutput(),this.state.StartFunctionEvaluationFromGame(r,t);for(var i=new E;this.canContinue;)i.Append(this.Continue());var a=i.toString();this._state.ResetOutput(o);var s=this.state.CompleteFunctionEvaluationFromGame();return n?{returned:s,output:a}:s}},{key:"EvaluateExpression",value:function(e){var t=this.state.callStack.elements.length;this.state.callStack.Push(B.Tunnel),this._temporaryEvaluationContainer=e,this.state.GoToStart();var n=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>t&&this.state.PopCallStack(),this.state.evaluationStack.length>n?this.state.PopEvaluationStack():null}},{key:"CallExternalFunction",value:function(e,t){if(null===e)return T("funcName");var n=this._externals.get(e),r=null;if(!(void 0!==n)){if(this.allowExternalFunctionFallbacks)return r=this.KnotContainerWithName(e),this.Assert(null!==r,"Trying to call EXTERNAL function '"+e+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(B.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=z.StartOf(r));this.Assert(!1,"Trying to call EXTERNAL function '"+e+"' which has not been bound (and ink fallbacks disabled).")}for(var i=[],a=0;a<t;++a){var s=b(this.state.PopEvaluationStack(),R).valueObject;i.push(s)}i.reverse();var l=n(i),u=null;null!=l?(u=R.Create(l),this.Assert(null!==u,"Could not create ink value from returned object of type "+o(l))):u=new J,this.state.PushEvaluationStack(u)}},{key:"BindExternalFunctionGeneral",value:function(e,t){this.IfAsyncWeCant("bind an external function"),this.Assert(!this._externals.has(e),"Function '"+e+"' has already been bound."),this._externals.set(e,t)}},{key:"TryCoerce",value:function(e){return e}},{key:"BindExternalFunction",value:function(e,t){var n=this;this.Assert(null!=t,"Can't bind a null function"),this.BindExternalFunctionGeneral(e,(function(e){n.Assert(e.length>=t.length,"External function expected "+t.length+" arguments");for(var r=[],o=0,i=e.length;o<i;o++)r[o]=n.TryCoerce(e[o]);return t.apply(null,r)}))}},{key:"UnbindExternalFunction",value:function(e){this.IfAsyncWeCant("unbind an external a function"),this.Assert(this._externals.has(e),"Function '"+e+"' has not been bound."),this._externals.delete(e)}},{key:"ValidateExternalBindings",value:function(){var e=null,t=null,n=arguments[1]||new Set;if(arguments[0]instanceof W&&(e=arguments[0]),arguments[0]instanceof I&&(t=arguments[0]),null===e&&null===t)if(this.ValidateExternalBindings(this._mainContentContainer,n),this._hasValidatedExternals=!0,0==n.size)this._hasValidatedExternals=!0;else{var r="Error: Missing function binding for external";r+=n.size>1?"s":"",r+=": '",r+=Array.from(n).join("', '"),r+="' ",r+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":" (ink fallbacks disabled)",this.Error(r)}else if(null!=e){var o=!0,i=!1,a=void 0;try{for(var s,l=e.content[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=u;null!=c&&c.hasValidName||this.ValidateExternalBindings(u,n)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var h=!0,f=!1,d=void 0;try{for(var p,m=e.namedContent[Symbol.iterator]();!(h=(p=m.next()).done);h=!0){var y=v(p.value,2),b=(y[0],y[1]);this.ValidateExternalBindings(g(b,I),n)}}catch(e){f=!0,d=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw d}}}else if(null!=t){var w=g(t,G);if(w&&w.isExternal){var k=w.targetPathString;if(null===k)return T("name");if(!this._externals.has(k))if(this.allowExternalFunctionFallbacks){var _=this.mainContentContainer.namedContent.has(k);_||n.add(k)}else n.add(k)}}}},{key:"ObserveVariable",value:function(e,t){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(e))throw new A("Cannot observe variable '"+e+"' because it wasn't declared in the ink story.");this._variableObservers.has(e)?this._variableObservers.get(e).push(t):this._variableObservers.set(e,[t])}},{key:"ObserveVariables",value:function(e,t){for(var n=0,r=e.length;n<r;n++)this.ObserveVariable(e[n],t[n])}},{key:"RemoveVariableObserver",value:function(e,t){if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(void 0!==t){if(this._variableObservers.has(t)){var n=this._variableObservers.get(t);n.splice(n.indexOf(e),1)}}else{var r=this._variableObservers.keys(),o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=this._variableObservers.get(u);c.splice(c.indexOf(e),1)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}},{key:"VariableStateDidChangeEvent",value:function(e,t){if(null!==this._variableObservers){var n=this._variableObservers.get(e);if(void 0!==n){if(!(t instanceof R))throw new Error("Tried to get the value of a variable that isn't a standard type");var r=b(t,R),o=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){(0,s.value)(e,r.valueObject)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}}},{key:"TagsForContentAtPath",value:function(e){return this.TagsAtStartOfFlowContainerWithPathString(e)}},{key:"TagsAtStartOfFlowContainerWithPathString",value:function(e){var t=new y(e),n=this.ContentAtPath(t).container;if(null===n)return T("flowContainer");for(;;){var r=n.content[0];if(!(r instanceof W))break;n=r}var o=null,i=!0,a=!1,s=void 0;try{for(var l,u=n.content[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=g(l.value,X);if(!c)break;null==o&&(o=[]),o.push(c.text)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return o}},{key:"BuildStringOfHierarchy",value:function(){var e=new E;return this.mainContentContainer.BuildStringOfHierarchy(e,0,this.state.currentPointer.Resolve()),e.toString()}},{key:"BuildStringOfContainer",value:function(e){var t=new E;return e.BuildStringOfHierarchy(t,0,this.state.currentPointer.Resolve()),t.toString()}},{key:"NextContent",value:function(){if((this.state.previousPointer=this.state.currentPointer.copy(),this.state.divertedPointer.isNull||(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=z.Null,this.VisitChangedContainersDueToDivert(),this.state.currentPointer.isNull))&&!this.IncrementContentPointer()){var e=!1;this.state.callStack.CanPop(B.Function)?(this.state.PopCallStack(B.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new J),e=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),e=!0):this.state.TryExitFunctionEvaluationFromGame(),e&&!this.state.currentPointer.isNull&&this.NextContent()}}},{key:"IncrementContentPointer",value:function(){var e=!0,t=this.state.callStack.currentElement.currentPointer.copy();if(t.index++,null===t.container)return T("pointer.container");for(;t.index>=t.container.content.length;){e=!1;var n=g(t.container.parent,W);if(n instanceof W==!1)break;var r=n.content.indexOf(t.container);if(-1==r)break;if((t=new z(n,r)).index++,e=!0,null===t.container)return T("pointer.container")}return e||(t=z.Null),this.state.callStack.currentElement.currentPointer=t.copy(),e}},{key:"TryFollowDefaultInvisibleChoice",value:function(){var e=this._state.currentChoices,t=e.filter((function(e){return e.isInvisibleDefault}));if(0==t.length||e.length>t.length)return!1;var n=t[0];return null===n.targetPath?T("choice.targetPath"):null===n.threadAtGeneration?T("choice.threadAtGeneration"):(this.state.callStack.currentThread=n.threadAtGeneration,this.ChoosePath(n.targetPath,!1),!0)}},{key:"VisitCountForContainer",value:function(e){if(null===e)return T("container");if(!e.visitsShouldBeCounted)return console.warn("Read count for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;var t=0,n=e.path.toString();return t=this.state.visitCounts.get(n)||t}},{key:"IncrementVisitCountForContainer",value:function(e){var t=0,n=e.path.toString();this.state.visitCounts.has(n)&&(t=this.state.visitCounts.get(n)),t++,this.state.visitCounts.set(n,t)}},{key:"RecordTurnIndexVisitToContainer",value:function(e){var t=e.path.toString();this.state.turnIndices.set(t,this.state.currentTurnIndex)}},{key:"TurnsSinceForContainer",value:function(e){e.turnIndexShouldBeCounted||this.Error("TURNS_SINCE() for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c).");var t=e.path.toString(),n=this.state.turnIndices.get(t);return void 0!==n?this.state.currentTurnIndex-n:-1}},{key:"NextSequenceShuffleIndex",value:function(){var e=g(this.state.PopEvaluationStack(),V);if(!(e instanceof V))return this.Error("expected number of elements in sequence for shuffle index"),0;var t=this.state.currentPointer.container;if(null===t)return T("seqContainer");if(null===e.value)return T("numElementsIntVal.value");var n=e.value,r=b(this.state.PopEvaluationStack(),V).value;if(null===r)return T("seqCount");for(var o=r/n,i=r%n,a=t.path.toString(),s=0,l=0,u=a.length;l<u;l++)s+=a.charCodeAt(l)||0;for(var c=s+o+this.state.storySeed,h=new re(Math.floor(c)),f=[],d=0;d<n;++d)f.push(d);for(var p=0;p<=i;++p){var v=h.next()%f.length,m=f[v];if(f.splice(v,1),p==i)return m}throw new Error("Should never reach here")}},{key:"Error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new A(e);throw n.useEndLineNumber=t,n}},{key:"Warning",value:function(e){this.AddError(e,!0)}},{key:"AddError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.currentDebugMetadata,o=t?"WARNING":"ERROR";if(null!=r){var i=n?r.endLineNumber:r.startLineNumber;e="RUNTIME "+o+": '"+r.fileName+"' line "+i+": "+e}else e=this.state.currentPointer.isNull?"RUNTIME "+o+": "+e:"RUNTIME "+o+": ("+this.state.currentPointer+"): "+e;this.state.AddError(e,t),t||this.state.ForceEnd()}},{key:"Assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0==e)throw null==t&&(t="Story assert"),new Error(t+" "+this.currentDebugMetadata)}},{key:"currentChoices",get:function(){var e=[];if(null===this._state)return T("this._state");var t=!0,n=!1,r=void 0;try{for(var o,i=this._state.currentChoices[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.isInvisibleDefault||(a.index=e.length,e.push(a))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"currentText",get:function(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),this.state.currentText}},{key:"currentTags",get:function(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}},{key:"currentErrors",get:function(){return this.state.currentErrors}},{key:"currentWarnings",get:function(){return this.state.currentWarnings}},{key:"hasError",get:function(){return this.state.hasError}},{key:"hasWarning",get:function(){return this.state.hasWarning}},{key:"variablesState",get:function(){return this.state.variablesState}},{key:"listDefinitions",get:function(){return this._listDefinitions}},{key:"state",get:function(){return this._state}},{key:"canContinue",get:function(){return this.state.canContinue}},{key:"asyncContinueComplete",get:function(){return!this._asyncContinueActive}},{key:"globalTags",get:function(){return this.TagsAtStartOfFlowContainerWithPathString("")}},{key:"currentDebugMetadata",get:function(){var e,t=this.state.currentPointer;if(!t.isNull&&null!==t.Resolve()&&null!==(e=t.Resolve().debugMetadata))return e;for(var n=this.state.callStack.elements.length-1;n>=0;--n)if(!(t=this.state.callStack.elements[n].currentPointer).isNull&&null!==t.Resolve()&&null!==(e=t.Resolve().debugMetadata))return e;for(var r=this.state.outputStream.length-1;r>=0;--r){if(null!==(e=this.state.outputStream[r].debugMetadata))return e}return null}},{key:"mainContentContainer",get:function(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}]),t}(I);!function(e){!function(e){e[e.NoChange=0]="NoChange",e[e.ExtendedBeyondNewline=1]="ExtendedBeyondNewline",e[e.NewlineRemoved=2]="NewlineRemoved"}(e.OutputStateChange||(e.OutputStateChange={}))}(ie||(ie={}));var ae=function(){function e(){if(i(this,e),this._threadCounter=0,this._startOfRoot=z.Null,arguments[0]instanceof ie){var t=arguments[0];this._startOfRoot=z.StartOf(t.rootContentContainer),this.Reset()}else{var n=arguments[0];this._threads=[];var r=!0,o=!1,a=void 0;try{for(var s,l=n._threads[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;this._threads.push(u.Copy())}}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}this._startOfRoot=n._startOfRoot}}return s(e,[{key:"Reset",value:function(){this._threads=[],this._threads.push(new e.Thread),this._threads[0].callstack.push(new e.Element(B.Tunnel,this._startOfRoot))}},{key:"SetJsonToken",value:function(t,n){this._threads.length=0;var r=t.threads,o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=new e.Thread(u,n);this._threads.push(c)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}this._threadCounter=parseInt(t.threadCounter),this._startOfRoot=z.StartOf(n.rootContentContainer)}},{key:"GetJsonToken",value:function(){var e={},t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._threads[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.push(s.jsonToken)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return e.threads=t,e.threadCounter=this._threadCounter,e}},{key:"PushThread",value:function(){var e=this.currentThread.Copy();this._threadCounter++,e.threadIndex=this._threadCounter,this._threads.push(e)}},{key:"ForkThread",value:function(){var e=this.currentThread.Copy();return this._threadCounter++,e.threadIndex=this._threadCounter,e}},{key:"PopThread",value:function(){if(!this.canPopThread)throw new Error("Can't pop thread");this._threads.splice(this._threads.indexOf(this.currentThread),1)}},{key:"Push",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=new e.Element(t,this.currentElement.currentPointer,!1);o.evaluationStackHeightWhenPushed=n,o.functionStartInOutputStream=r,this.callStack.push(o)}},{key:"CanPop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!!this.canPop&&(null==e||this.currentElement.type==e)}},{key:"Pop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.CanPop(e))throw new Error("Mismatched push/pop in Callstack");this.callStack.pop()}},{key:"GetTemporaryVariableWithName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1==t&&(t=this.currentElementIndex+1);var n=this.callStack[t-1],r=O(n.temporaryVariables,e,null);return r.exists?r.result:null}},{key:"SetTemporaryVariable",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;-1==r&&(r=this.currentElementIndex+1);var o=this.callStack[r-1];if(!n&&!o.temporaryVariables.get(e))throw new A("Could not find temporary variable to set: "+e);var i=O(o.temporaryVariables,e,null);i.exists&&M.RetainListOriginsForAssignment(i.result,t),o.temporaryVariables.set(e,t)}},{key:"ContextForVariableNamed",value:function(e){return this.currentElement.temporaryVariables.get(e)?this.currentElementIndex+1:0}},{key:"ThreadWithIndex",value:function(e){return this._threads.filter((function(t){if(t.threadIndex==e)return t}))[0]}},{key:"elements",get:function(){return this.callStack}},{key:"depth",get:function(){return this.elements.length}},{key:"currentElement",get:function(){var e=this._threads[this._threads.length-1].callstack;return e[e.length-1]}},{key:"currentElementIndex",get:function(){return this.callStack.length-1}},{key:"currentThread",get:function(){return this._threads[this._threads.length-1]},set:function(e){m.Assert(1==this._threads.length,"Shouldn't be directly setting the current thread when we have a stack of them"),this._threads.length=0,this._threads.push(e)}},{key:"canPop",get:function(){return this.callStack.length>1}},{key:"canPopThread",get:function(){return this._threads.length>1&&!this.elementIsEvaluateFromGame}},{key:"elementIsEvaluateFromGame",get:function(){return this.currentElement.type==B.FunctionEvaluationFromGame}},{key:"callStack",get:function(){return this.currentThread.callstack}},{key:"callStackTrace",get:function(){for(var e=new E,t=0;t<this._threads.length;t++){var n=this._threads[t],r=t==this._threads.length-1;e.AppendFormat("=== THREAD {0}/{1} {2}===\n",t+1,this._threads.length,r?"(current) ":"");for(var o=0;o<n.callstack.length;o++){n.callstack[o].type==B.Function?e.Append("  [FUNCTION] "):e.Append("  [TUNNEL] ");var i=n.callstack[o].currentPointer;if(!i.isNull){if(e.Append("<SOMEWHERE IN "),null===i.container)return T("pointer.container");e.Append(i.container.path.toString()),e.AppendLine(">")}}}return e.toString()}}]),e}();!function(e){var t=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i(this,e),this.evaluationStackHeightWhenPushed=0,this.functionStartInOutputStream=0,this.currentPointer=n.copy(),this.inExpressionEvaluation=r,this.temporaryVariables=new Map,this.type=t}return s(e,[{key:"Copy",value:function(){var t=new e(this.type,this.currentPointer,this.inExpressionEvaluation);return t.temporaryVariables=new Map(this.temporaryVariables),t.evaluationStackHeightWhenPushed=this.evaluationStackHeightWhenPushed,t.functionStartInOutputStream=this.functionStartInOutputStream,t}}]),e}();e.Element=t;var n=function(){function e(){if(i(this,e),this.threadIndex=0,this.previousPointer=z.Null,this.callstack=[],arguments[0]&&arguments[1]){var n=arguments[0],r=arguments[1];this.threadIndex=parseInt(n.threadIndex);var o=n.callstack,a=!0,s=!1,l=void 0;try{for(var u,c=o[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value,f=h,d=parseInt(f.type),p=z.Null,v=void 0,m=f.cPath;if(void 0!==m){v=m.toString();var g=r.ContentAtPath(new y(v));if(p.container=g.container,p.index=parseInt(f.idx),null==g.obj)throw new Error("When loading state, internal story location couldn't be found: "+v+". Has the story changed since this save data was created?");if(g.approximate){if(null===p.container)return T("pointer.container");r.Warning("When loading state, exact internal story location couldn't be found: '"+v+"', so it was approximated to '"+p.container.path.toString()+"' to recover. Has the story changed since this save data was created?")}}var b=!!f.exp,w=new t(d,p,b),k=f.temp;w.temporaryVariables=ne.JObjectToDictionaryRuntimeObjs(k),this.callstack.push(w)}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}var _=n.previousContentObject;if(void 0!==_){var S=new y(_.toString());this.previousPointer=r.PointerAtPath(S)}}}return s(e,[{key:"Copy",value:function(){var t=new e;t.threadIndex=this.threadIndex;var n=!0,r=!1,o=void 0;try{for(var i,a=this.callstack[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.callstack.push(s.Copy())}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t.previousPointer=this.previousPointer.copy(),t}},{key:"jsonToken",get:function(){var e={},t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this.callstack[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value,l={};if(!s.currentPointer.isNull){if(null===s.currentPointer.container)return T("el.currentPointer.container");l.cPath=s.currentPointer.container.path.componentsString,l.idx=s.currentPointer.index}l.exp=s.inExpressionEvaluation,l.type=s.type,l.temp=ne.DictionaryRuntimeObjsToJObject(s.temporaryVariables),t.push(l)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(e.callstack=t,e.threadIndex=this.threadIndex,!this.previousPointer.isNull){var u=this.previousPointer.Resolve();if(null===u)return T("this.previousPointer.Resolve()");e.previousContentObject=u.path.toString()}return e}}]),e}();e.Thread=n}(ae||(ae={}));var se=function(){function e(t,n){i(this,e),this.variableChangedEventCallbacks=[],this._batchObservingVariableChanges=!1,this._defaultGlobalVariables=new Map,this._changedVariables=new Set,this._globalVariables=new Map,this._callStack=t,this._listDefsOrigin=n;try{return new Proxy(this,{get:function(e,t){return t in e?e[t]:e.$(t)},set:function(e,t,n){return t in e?e[t]=n:e.$(t,n),!0}})}catch(e){}}return s(e,[{key:"variableChangedEvent",value:function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=this.variableChangedEventCallbacks[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){(0,i.value)(e,t)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},{key:"$",value:function(e,t){if(void 0===t){var n=this._globalVariables.get(e);return void 0===n&&(n=this._defaultGlobalVariables.get(e)),void 0!==n?n.valueObject:null}if(void 0===this._defaultGlobalVariables.get(e))throw new A("Cannot assign to a variable ("+e+") that hasn't been declared in the story");var r=R.Create(t);if(null==r)throw new A(null==t?"Cannot pass null to VariableState":"Invalid value passed to VariableState: "+t.toString());this.SetGlobal(e,r)}},{key:"CopyFrom",value:function(e){if(this._globalVariables=new Map(e._globalVariables),this._defaultGlobalVariables=new Map(e._defaultGlobalVariables),this.variableChangedEvent=e.variableChangedEvent,this.variableChangedEventCallbacks=e.variableChangedEventCallbacks,e.batchObservingVariableChanges!=this.batchObservingVariableChanges)if(e.batchObservingVariableChanges){if(this._batchObservingVariableChanges=!0,null===e._changedVariables)return T("toCopy._changedVariables");this._changedVariables=new Set(e._changedVariables)}else this._batchObservingVariableChanges=!1,this._changedVariables=null}},{key:"TryGetDefaultVariableValue",value:function(e){var t=O(this._defaultGlobalVariables,e,null);return t.exists?t.result:null}},{key:"GlobalVariableExistsWithName",value:function(e){return this._globalVariables.has(e)}},{key:"GetVariableWithName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=this.GetRawVariableWithName(e,t),r=g(n,L);return null!==r&&(n=this.ValueAtVariablePointer(r)),n}},{key:"GetRawVariableWithName",value:function(e,t){if(0==t||-1==t){var n=O(this._globalVariables,e,null);if(n.exists)return n.result;if(null===this._listDefsOrigin)return T("VariablesState._listDefsOrigin");var r=this._listDefsOrigin.FindSingleItemListWithName(e);if(r)return r}return this._callStack.GetTemporaryVariableWithName(e,t)}},{key:"ValueAtVariablePointer",value:function(e){return this.GetVariableWithName(e.variableName,e.contextIndex)}},{key:"Assign",value:function(e,t){var n=e.variableName;if(null===n)return T("name");var r=-1,o=!1;if(o=e.isNewDeclaration?e.isGlobal:this._globalVariables.has(n),e.isNewDeclaration){var i=g(t,L);if(null!==i)t=this.ResolveVariablePointer(i)}else{var a=null;do{null!=(a=g(this.GetRawVariableWithName(n,r),L))&&(n=a.variableName,o=0==(r=a.contextIndex))}while(null!=a)}o?this.SetGlobal(n,t):this._callStack.SetTemporaryVariable(n,t,e.isNewDeclaration,r)}},{key:"SnapshotDefaultGlobals",value:function(){this._defaultGlobalVariables=new Map(this._globalVariables)}},{key:"RetainListOriginsForAssignment",value:function(e,t){var n=b(e,M),r=b(t,M);n.value&&r.value&&0==r.value.Count&&r.value.SetInitialOriginNames(n.value.originNames)}},{key:"SetGlobal",value:function(e,t){var n=O(this._globalVariables,e,null);if(n.exists&&M.RetainListOriginsForAssignment(n.result,t),null===e)return T("variableName");if(this._globalVariables.set(e,t),null!=this.variableChangedEvent&&t!==n.result)if(this.batchObservingVariableChanges){if(null===this._changedVariables)return T("this._changedVariables");this._changedVariables.add(e)}else this.variableChangedEvent(e,t)}},{key:"ResolveVariablePointer",value:function(e){var t=e.contextIndex;-1==t&&(t=this.GetContextIndexOfVariableNamed(e.variableName));var n=g(this.GetRawVariableWithName(e.variableName,t),L);return null!=n?n:new L(e.variableName,t)}},{key:"GetContextIndexOfVariableNamed",value:function(e){return this._globalVariables.get(e)?0:this._callStack.currentElementIndex}},{key:"ObserveVariableChange",value:function(e){this.variableChangedEventCallbacks.push(e)}},{key:"batchObservingVariableChanges",get:function(){return this._batchObservingVariableChanges},set:function(e){if(this._batchObservingVariableChanges=e,e)this._changedVariables=new Set;else if(null!=this._changedVariables){var t=!0,n=!1,r=void 0;try{for(var o,i=this._changedVariables[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=this._globalVariables.get(a);s?this.variableChangedEvent(a,s):T("currentValue")}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}}},{key:"callStack",get:function(){return this._callStack},set:function(e){this._callStack=e}},{key:"jsonToken",get:function(){return ne.DictionaryRuntimeObjsToJObject(this._globalVariables)},set:function(e){this._globalVariables=ne.JObjectToDictionaryRuntimeObjs(e)}}]),e}(),le=function(){function e(t){i(this,e),this.kInkSaveStateVersion=8,this.kMinCompatibleLoadVersion=8,this._currentErrors=null,this._currentWarnings=null,this.divertedPointer=z.Null,this._currentTurnIndex=0,this.storySeed=0,this.previousRandom=0,this.didSafeExit=!1,this._currentText=null,this._currentTags=null,this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0,this.story=t,this._outputStream=[],this.OutputStreamDirty(),this._evaluationStack=[],this.callStack=new ae(t),this._variablesState=new se(this.callStack,t.listDefinitions),this._visitCounts=new Map,this._turnIndices=new Map,this._currentTurnIndex=-1;var n=(new Date).getTime();this.storySeed=new re(n).next()%100,this.previousRandom=0,this._currentChoices=[],this.GoToStart()}return s(e,[{key:"ToJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return JSON.stringify(this.jsonToken,null,e?2:0)}},{key:"toJson",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.ToJson(e)}},{key:"LoadJson",value:function(e){this.jsonToken=JSON.parse(e)}},{key:"VisitCountAtPathString",value:function(e){var t=O(this.visitCounts,e,null);return t.exists?t.result:0}},{key:"CleanOutputWhitespace",value:function(e){for(var t=new E,n=-1,r=0,o=0;o<e.length;o++){var i=e.charAt(o),a=" "==i||"\t"==i;a&&-1==n&&(n=o),a||("\n"!=i&&n>0&&n!=r&&t.Append(" "),n=-1),"\n"==i&&(r=o+1),a||t.Append(i)}return t.toString()}},{key:"GoToStart",value:function(){this.callStack.currentElement.currentPointer=z.StartOf(this.story.mainContentContainer)}},{key:"Copy",value:function(){var t=new e(this.story);return t.outputStream.push.apply(t.outputStream,this._outputStream),this.OutputStreamDirty(),t._currentChoices.push.apply(t._currentChoices,this._currentChoices),this.hasError&&(t._currentErrors=[],t._currentErrors.push.apply(t._currentErrors,this.currentErrors||[])),this.hasWarning&&(t._currentWarnings=[],t._currentWarnings.push.apply(t._currentWarnings,this.currentWarnings||[])),t.callStack=new ae(this.callStack),t._variablesState=new se(t.callStack,this.story.listDefinitions),t.variablesState.CopyFrom(this.variablesState),t.evaluationStack.push.apply(t.evaluationStack,this.evaluationStack),this.divertedPointer.isNull||(t.divertedPointer=this.divertedPointer.copy()),t.previousPointer=this.previousPointer.copy(),t._visitCounts=new Map(this.visitCounts),t._turnIndices=new Map(this.turnIndices),t._currentTurnIndex=this.currentTurnIndex,t.storySeed=this.storySeed,t.previousRandom=this.previousRandom,t.didSafeExit=this.didSafeExit,t}},{key:"ResetErrors",value:function(){this._currentErrors=null,this._currentWarnings=null}},{key:"ResetOutput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._outputStream.length=0,null!==e&&this._outputStream.push.apply(this._outputStream,e),this.OutputStreamDirty()}},{key:"PushToOutputStream",value:function(e){var t=g(e,H);if(null!==t){var n=this.TrySplittingHeadTailWhitespace(t);if(null!==n){var r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;this.PushToOutputStreamIndividual(l)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return void this.OutputStreamDirty()}}this.PushToOutputStreamIndividual(e),this.OutputStreamDirty()}},{key:"PopFromOutputStream",value:function(e){this.outputStream.splice(this.outputStream.length-e,e),this.OutputStreamDirty()}},{key:"TrySplittingHeadTailWhitespace",value:function(e){var t=e.value;if(null===t)return T("single.value");for(var n=-1,r=-1,o=0;o<t.length;++o){var i=t[o];if("\n"!=i){if(" "==i||"\t"==i)continue;break}-1==n&&(n=o),r=o}for(var a=-1,s=-1,l=0;l<t.length;++l){var u=t[l];if("\n"!=u){if(" "==u||"\t"==u)continue;break}-1==a&&(a=l),s=l}if(-1==n&&-1==a)return null;var c=[],h=0,f=t.length;if(-1!=n){if(n>0){var d=new H(t.substring(0,n));c.push(d)}c.push(new H("\n")),h=r+1}if(-1!=a&&(f=s),f>h){var p=t.substring(h,f-h);c.push(new H(p))}if(-1!=a&&s>r&&(c.push(new H("\n")),a<t.length-1)){var v=t.length-a-1,m=new H(t.substring(a+1,v));c.push(m)}return c}},{key:"PushToOutputStreamIndividual",value:function(e){var t=g(e,$),n=g(e,H),r=!0;if(t)this.TrimNewlinesFromOutputStream(),r=!0;else if(n){var o=-1,i=this.callStack.currentElement;i.type==B.Function&&(o=i.functionStartInOutputStream);for(var a=-1,s=this._outputStream.length-1;s>=0;s--){var l=this._outputStream[s],u=l instanceof U?l:null;if(null!=(l instanceof $?l:null)){a=s;break}if(null!=u&&u.commandType==U.CommandType.BeginString){s>=o&&(o=-1);break}}if(-1!=(-1!=a&&-1!=o?Math.min(o,a):-1!=a?a:o)){if(n.isNewline)r=!1;else if(n.isNonWhitespace&&(a>-1&&this.RemoveExistingGlue(),o>-1))for(var c=this.callStack.elements,h=c.length-1;h>=0;h--){var f=c[h];if(f.type!=B.Function)break;f.functionStartInOutputStream=-1}}else n.isNewline&&(!this.outputStreamEndsInNewline&&this.outputStreamContainsContent||(r=!1))}if(r){if(null===e)return T("obj");this._outputStream.push(e),this.OutputStreamDirty()}}},{key:"TrimNewlinesFromOutputStream",value:function(){for(var e=-1,t=this._outputStream.length-1;t>=0;){var n=this._outputStream[t],r=g(n,U),o=g(n,H);if(null!=r||null!=o&&o.isNonWhitespace)break;null!=o&&o.isNewline&&(e=t),t--}if(e>=0)for(t=e;t<this._outputStream.length;){g(this._outputStream[t],H)?this._outputStream.splice(t,1):t++}this.OutputStreamDirty()}},{key:"RemoveExistingGlue",value:function(){for(var e=this._outputStream.length-1;e>=0;e--){var t=this._outputStream[e];if(t instanceof $)this._outputStream.splice(e,1);else if(t instanceof U)break}this.OutputStreamDirty()}},{key:"PushEvaluationStack",value:function(e){var t=g(e,M);if(t){var n=t.value;if(null===n)return T("rawList");if(null!=n.originNames){n.origins||(n.origins=[]),n.origins.length=0;var r=!0,o=!1,i=void 0;try{for(var a,s=n.originNames[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(null===this.story.listDefinitions)return T("StoryState.story.listDefinitions");var u=this.story.listDefinitions.TryListGetDefinition(l,null);if(null===u.result)return T("StoryState def.result");n.origins.indexOf(u.result)<0&&n.origins.push(u.result)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}}if(null===e)return T("obj");this.evaluationStack.push(e)}},{key:"PopEvaluationStack",value:function(e){if(void 0===e)return _(this.evaluationStack.pop());if(e>this.evaluationStack.length)throw new Error("trying to pop too many objects");return _(this.evaluationStack.splice(this.evaluationStack.length-e,e))}},{key:"PeekEvaluationStack",value:function(){return this.evaluationStack[this.evaluationStack.length-1]}},{key:"ForceEnd",value:function(){this.callStack.Reset(),this._currentChoices.length=0,this.currentPointer=z.Null,this.previousPointer=z.Null,this.didSafeExit=!0}},{key:"TrimWhitespaceFromFunctionEnd",value:function(){m.Assert(this.callStack.currentElement.type==B.Function);var e=this.callStack.currentElement.functionStartInOutputStream;-1==e&&(e=0);for(var t=this._outputStream.length-1;t>=e;t--){var n=this._outputStream[t],r=g(n,H),o=g(n,U);if(null!=r){if(o)break;if(!r.isNewline&&!r.isInlineWhitespace)break;this._outputStream.splice(t,1),this.OutputStreamDirty()}}}},{key:"PopCallStack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.callStack.currentElement.type==B.Function&&this.TrimWhitespaceFromFunctionEnd(),this.callStack.Pop(e)}},{key:"SetChosenPath",value:function(e,t){this._currentChoices.length=0;var n=this.story.PointerAtPath(e);n.isNull||-1!=n.index||(n.index=0),this.currentPointer=n,t&&this._currentTurnIndex++}},{key:"StartFunctionEvaluationFromGame",value:function(e,t){this.callStack.Push(B.FunctionEvaluationFromGame,this.evaluationStack.length),this.callStack.currentElement.currentPointer=z.StartOf(e),this.PassArgumentsToEvaluationStack(t)}},{key:"PassArgumentsToEvaluationStack",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){if("number"!=typeof e[t]&&"string"!=typeof e[t])throw new Error("ink arguments when calling EvaluateFunction / ChoosePathStringWithParameters  must be int, float or string");this.PushEvaluationStack(R.Create(e[t]))}}},{key:"TryExitFunctionEvaluationFromGame",value:function(){return this.callStack.currentElement.type==B.FunctionEvaluationFromGame&&(this.currentPointer=z.Null,this.didSafeExit=!0,!0)}},{key:"CompleteFunctionEvaluationFromGame",value:function(){if(this.callStack.currentElement.type!=B.FunctionEvaluationFromGame)throw new A("Expected external function evaluation to be complete. Stack trace: "+this.callStack.callStackTrace);for(var e=this.callStack.currentElement.evaluationStackHeightWhenPushed,t=null;this.evaluationStack.length>e;){var n=this.PopEvaluationStack();null===t&&(t=n)}if(this.PopCallStack(B.FunctionEvaluationFromGame),t){if(t instanceof J)return null;var r=b(t,R);return r.valueType==N.DivertTarget?r.valueObject.toString():r.valueObject}return null}},{key:"AddError",value:function(e,t){t?(null==this._currentWarnings&&(this._currentWarnings=[]),this._currentWarnings.push(e)):(null==this._currentErrors&&(this._currentErrors=[]),this._currentErrors.push(e))}},{key:"OutputStreamDirty",value:function(){this._outputStreamTextDirty=!0,this._outputStreamTagsDirty=!0}},{key:"callstackDepth",get:function(){return this.callStack.depth}},{key:"outputStream",get:function(){return this._outputStream}},{key:"currentChoices",get:function(){return this.canContinue?[]:this._currentChoices}},{key:"generatedChoices",get:function(){return this._currentChoices}},{key:"currentErrors",get:function(){return this._currentErrors}},{key:"currentWarnings",get:function(){return this._currentWarnings}},{key:"variablesState",get:function(){return this._variablesState}},{key:"evaluationStack",get:function(){return this._evaluationStack}},{key:"visitCounts",get:function(){return this._visitCounts}},{key:"turnIndices",get:function(){return this._turnIndices}},{key:"currentTurnIndex",get:function(){return this._currentTurnIndex}},{key:"currentPathString",get:function(){var e=this.currentPointer;return e.isNull?null:null===e.path?T("pointer.path"):e.path.toString()}},{key:"currentPointer",get:function(){return this.callStack.currentElement.currentPointer.copy()},set:function(e){this.callStack.currentElement.currentPointer=e.copy()}},{key:"previousPointer",get:function(){return this.callStack.currentThread.previousPointer.copy()},set:function(e){this.callStack.currentThread.previousPointer=e.copy()}},{key:"canContinue",get:function(){return!this.currentPointer.isNull&&!this.hasError}},{key:"hasError",get:function(){return null!=this.currentErrors&&this.currentErrors.length>0}},{key:"hasWarning",get:function(){return null!=this.currentWarnings&&this.currentWarnings.length>0}},{key:"currentText",get:function(){if(this._outputStreamTextDirty){var e=new E,t=!0,n=!1,r=void 0;try{for(var o,i=this._outputStream[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=g(o.value,H);null!==a&&e.Append(a.value)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}this._currentText=this.CleanOutputWhitespace(e.toString()),this._outputStreamTextDirty=!1}return this._currentText}},{key:"currentTags",get:function(){if(this._outputStreamTagsDirty){this._currentTags=[];var e=!0,t=!1,n=void 0;try{for(var r,o=this._outputStream[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=g(r.value,X);null!==i&&this._currentTags.push(i.text)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}this._outputStreamTagsDirty=!1}return this._currentTags}},{key:"inExpressionEvaluation",get:function(){return this.callStack.currentElement.inExpressionEvaluation},set:function(e){this.callStack.currentElement.inExpressionEvaluation=e}},{key:"jsonToken",get:function(){var e,t={},n=!0,r=!1,o=void 0;try{for(var i,a=this._currentChoices[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if(null===s.threadAtGeneration)return T("c.threadAtGeneration");s.originalThreadIndex=s.threadAtGeneration.threadIndex,null==this.callStack.ThreadWithIndex(s.originalThreadIndex)&&(null==e&&(e=new Map),e[s.originalThreadIndex.toString()]=s.threadAtGeneration.jsonToken)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}if(null!=e&&(t.choiceThreads=e),t.callstackThreads=this.callStack.GetJsonToken(),t.variablesState=this.variablesState.jsonToken,t.evalStack=ne.ListToJArray(this.evaluationStack),t.outputStream=ne.ListToJArray(this._outputStream),t.currentChoices=ne.ListToJArray(this._currentChoices),!this.divertedPointer.isNull){if(null===this.divertedPointer.path)return T("this.divertedPointer.path");t.currentDivertTarget=this.divertedPointer.path.componentsString}return t.visitCounts=ne.IntDictionaryToJObject(this.visitCounts),t.turnIndices=ne.IntDictionaryToJObject(this.turnIndices),t.turnIdx=this.currentTurnIndex,t.storySeed=this.storySeed,t.previousRandom=this.previousRandom,t.inkSaveVersion=this.kInkSaveStateVersion,t.inkFormatVersion=this.story.inkVersionCurrent,t},set:function(e){var t=e,n=t.inkSaveVersion;if(null==n)throw new A("ink save format incorrect, can't load.");if(parseInt(n)<this.kMinCompatibleLoadVersion)throw new A("Ink save format isn't compatible with the current version (saw '"+n+"', but minimum is "+this.kMinCompatibleLoadVersion+"), so can't load.");this.callStack.SetJsonToken(t.callstackThreads,this.story),this.variablesState.jsonToken=t.variablesState,this._evaluationStack=ne.JArrayToRuntimeObjList(t.evalStack),this._outputStream=ne.JArrayToRuntimeObjList(t.outputStream),this.OutputStreamDirty(),this._currentChoices=ne.JArrayToRuntimeObjList(t.currentChoices);var r=t.currentDivertTarget;if(null!=r){var o=new y(r.toString());this.divertedPointer=this.story.PointerAtPath(o)}this._visitCounts=ne.JObjectToIntDictionary(t.visitCounts),this._turnIndices=ne.JObjectToIntDictionary(t.turnIndices),this._currentTurnIndex=parseInt(t.turnIdx),this.storySeed=parseInt(t.storySeed),this.previousRandom=parseInt(t.previousRandom);var i=t.choiceThreads,a=!0,s=!1,l=void 0;try{for(var u,c=this._currentChoices[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var h=u.value,f=this.callStack.ThreadWithIndex(h.originalThreadIndex);if(null!=f)h.threadAtGeneration=f.Copy();else{var d=i[h.originalThreadIndex.toString()];h.threadAtGeneration=new ae.Thread(d,this.story)}}}catch(e){s=!0,l=e}finally{try{a||null==c.return||c.return()}finally{if(s)throw l}}}},{key:"outputStreamEndsInNewline",get:function(){if(this._outputStream.length>0)for(var e=this._outputStream.length-1;e>=0;e--){if(this._outputStream[e]instanceof U)break;var t=this._outputStream[e];if(t instanceof H){if(t.isNewline)return!0;if(t.isNonWhitespace)break}}return!1}},{key:"outputStreamContainsContent",get:function(){for(var e=0;e<this._outputStream.length;e++)if(this._outputStream[e]instanceof H)return!0;return!1}},{key:"inStringEvaluation",get:function(){for(var e=this._outputStream.length-1;e>=0;e--){var t=g(this._outputStream[e],U);if(t instanceof U&&t.commandType==U.CommandType.BeginString)return!0}return!1}}]),e}();Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&e>-9007199254740992&&e<9007199254740992&&Math.floor(e)===e});var ue=function(e){function t(){var e,n;i(this,t),(e=p(this,u(t).call(this))).inkVersionCurrent=19,e.inkVersionMinimumCompatible=18,e._prevContainers=[],e.allowExternalFunctionFallbacks=!1,e._listDefinitions=null,e._variableObservers=null,e._hasValidatedExternals=!1,e._temporaryEvaluationContainer=null,e._asyncContinueActive=!1,e._stateAtLastNewline=null,e._recursiveContinueCount=0,e._profiler=null;var r=null,o=null;if(arguments[0]instanceof W)n=arguments[0],void 0!==arguments[1]&&(r=arguments[1]),e._mainContentContainer=n;else if("string"==typeof arguments[0]){var a=arguments[0];o=JSON.parse(a)}else o=arguments[0];if(null!=r&&(e._listDefinitions=new te(r)),e._externals=new Map,null!==o){var s=o,l=s.inkVersion;if(null==l)throw new Error("ink version number not found. Are you sure it's a valid .ink.json file?");var c=parseInt(l);if(c>e.inkVersionCurrent)throw new Error("Version of ink used to build story was newer than the current version of the engine");if(c<e.inkVersionMinimumCompatible)throw new Error("Version of ink used to build story is too old to be loaded by this version of the engine");c!=e.inkVersionCurrent&&console.warn("WARNING: Version of ink used to build story doesn't match current version of engine. Non-critical, but recommend synchronising.");var h,f=s.root;if(null==f)throw new Error("Root node for ink not found. Are you sure it's a valid .ink.json file?");(h=s.listDefs)&&(e._listDefinitions=ne.JTokenToListDefinitions(h)),e._mainContentContainer=b(ne.JTokenToRuntimeObject(f),W),e.ResetState()}return e}return l(t,e),s(t,[{key:"StartProfiling",value:function(){}},{key:"EndProfiling",value:function(){}},{key:"ToJsonString",value:function(){var e=ne.RuntimeObjectToJToken(this._mainContentContainer),t={};return t.inkVersion=this.inkVersionCurrent,t.root=e,null!=this._listDefinitions&&(t.listDefs=ne.ListDefinitionsToJToken(this._listDefinitions)),JSON.stringify(t)}},{key:"ResetState",value:function(){this.IfAsyncWeCant("ResetState"),this._state=new le(this),this._state.variablesState.ObserveVariableChange(this.VariableStateDidChangeEvent.bind(this)),this.ResetGlobals()}},{key:"ResetErrors",value:function(){if(null===this._state)return T("this._state");this._state.ResetErrors()}},{key:"ResetCallstack",value:function(){if(this.IfAsyncWeCant("ResetCallstack"),null===this._state)return T("this._state");this._state.ForceEnd()}},{key:"ResetGlobals",value:function(){if(this._mainContentContainer.namedContent.get("global decl")){var e=this.state.currentPointer.copy();this.ChoosePath(new y("global decl"),!1),this.ContinueInternal(),this.state.currentPointer=e}this.state.variablesState.SnapshotDefaultGlobals()}},{key:"Continue",value:function(){return this.ContinueAsync(0),this.currentText}},{key:"ContinueAsync",value:function(e){this._hasValidatedExternals||this.ValidateExternalBindings(),this.ContinueInternal(e)}},{key:"ContinueInternal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null!=this._profiler&&this._profiler.PreContinue();var t=e>0;if(this._recursiveContinueCount++,!this._asyncContinueActive){if(this._asyncContinueActive=t,!this.canContinue)throw new A("Can't continue - should check canContinue before calling Continue");this._state.didSafeExit=!1,this._state.ResetOutput(),1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!0)}var n=new oe;n.Start();var r=!1;do{try{r=this.ContinueSingleStep()}catch(e){if(!(e instanceof A))throw e;this.AddError(e.message,void 0,e.useEndLineNumber);break}if(r)break;if(this._asyncContinueActive&&n.ElapsedMilliseconds>e)break}while(this.canContinue);n.Stop(),!r&&this.canContinue||(null!=this._stateAtLastNewline&&(this.RestoreStateSnapshot(this._stateAtLastNewline),this._stateAtLastNewline=null),this.canContinue||(this.state.callStack.canPopThread&&this.AddError("Thread available to pop, threads should always be flat by the end of evaluation?"),0!=this.state.generatedChoices.length||this.state.didSafeExit||null!=this._temporaryEvaluationContainer||(this.state.callStack.CanPop(B.Tunnel)?this.AddError("unexpectedly reached end of content. Do you need a '->->' to return from a tunnel?"):this.state.callStack.CanPop(B.Function)?this.AddError("unexpectedly reached end of content. Do you need a '~ return'?"):this.state.callStack.canPop?this.AddError("unexpectedly reached end of content for unknown reason. Please debug compiler!"):this.AddError("ran out of content. Do you need a '-> DONE' or '-> END'?"))),this.state.didSafeExit=!1,1==this._recursiveContinueCount&&(this._state.variablesState.batchObservingVariableChanges=!1),this._asyncContinueActive=!1),this._recursiveContinueCount--,null!=this._profiler&&this._profiler.PostContinue()}},{key:"ContinueSingleStep",value:function(){if(null!=this._profiler&&this._profiler.PreStep(),this.Step(),null!=this._profiler&&this._profiler.PostStep(),this.canContinue||this.state.callStack.elementIsEvaluateFromGame||this.TryFollowDefaultInvisibleChoice(),null!=this._profiler&&this._profiler.PreSnapshot(),!this.state.inStringEvaluation){if(null!=this._stateAtLastNewline){if(null===this._stateAtLastNewline.currentTags)return T("this._stateAtLastNewline.currentTags");if(null===this.state.currentTags)return T("this.state.currentTags");var e=this.CalculateNewlineOutputStateChange(this._stateAtLastNewline.currentText,this.state.currentText,this._stateAtLastNewline.currentTags.length,this.state.currentTags.length);if(e==t.OutputStateChange.ExtendedBeyondNewline)return this.RestoreStateSnapshot(this._stateAtLastNewline),!0;e==t.OutputStateChange.NewlineRemoved&&(this._stateAtLastNewline=null)}this.state.outputStreamEndsInNewline&&(this.canContinue?null==this._stateAtLastNewline&&(this._stateAtLastNewline=this.StateSnapshot()):this._stateAtLastNewline=null)}return null!=this._profiler&&this._profiler.PostSnapshot(),!1}},{key:"CalculateNewlineOutputStateChange",value:function(e,n,r,o){if(null===e)return T("prevText");if(null===n)return T("currText");var i=n.length>=e.length&&"\n"==n.charAt(e.length-1);if(r==o&&e.length==n.length&&i)return t.OutputStateChange.NoChange;if(!i)return t.OutputStateChange.NewlineRemoved;if(o>r)return t.OutputStateChange.ExtendedBeyondNewline;for(var a=e.length;a<n.length;a++){var s=n.charAt(a);if(" "!=s&&"\t"!=s)return t.OutputStateChange.ExtendedBeyondNewline}return t.OutputStateChange.NoChange}},{key:"ContinueMaximally",value:function(){this.IfAsyncWeCant("ContinueMaximally");for(var e=new E;this.canContinue;)e.Append(this.Continue());return e.toString()}},{key:"ContentAtPath",value:function(e){return this.mainContentContainer.ContentAtPath(e)}},{key:"KnotContainerWithName",value:function(e){var t=this.mainContentContainer.namedContent.get(e);return t instanceof W?t:null}},{key:"PointerAtPath",value:function(e){if(0==e.length)return z.Null;var t=new z,n=e.length,r=null;return null===e.lastComponent?T("path.lastComponent"):(e.lastComponent.isIndex?(n=e.length-1,r=this.mainContentContainer.ContentAtPath(e,void 0,n),t.container=r.container,t.index=e.lastComponent.index):(r=this.mainContentContainer.ContentAtPath(e),t.container=r.container,t.index=-1),null==r.obj||r.obj==this.mainContentContainer&&n>0?this.Error("Failed to find content at path '"+e+"', and no approximation of it was possible."):r.approximate&&this.Warning("Failed to find content at path '"+e+"', so it was approximated to: '"+r.obj.path+"'."),t)}},{key:"StateSnapshot",value:function(){return this.state.Copy()}},{key:"RestoreStateSnapshot",value:function(e){this._state=e}},{key:"Step",value:function(){var e=!0,t=this.state.currentPointer.copy();if(!t.isNull){for(var n=g(t.Resolve(),W);n&&(this.VisitContainer(n,!0),0!=n.content.length);)n=g((t=z.StartOf(n)).Resolve(),W);this.state.currentPointer=t.copy(),null!=this._profiler&&this._profiler.Step(this.state.callStack);var r=t.Resolve(),o=this.PerformLogicAndFlowControl(r);if(!this.state.currentPointer.isNull){o&&(e=!1);var i=g(r,q);if(i){var a=this.ProcessChoice(i);a&&this.state.generatedChoices.push(a),r=null,e=!1}if(r instanceof W&&(e=!1),e){var s=g(r,L);if(s&&-1==s.contextIndex){var l=this.state.callStack.ContextForVariableNamed(s.variableName);r=new L(s.variableName,l)}this.state.inExpressionEvaluation?this.state.PushEvaluationStack(r):this.state.PushToOutputStream(r)}this.NextContent();var u=g(r,U);u&&u.commandType==U.CommandType.StartThread&&this.state.callStack.PushThread()}}}},{key:"VisitContainer",value:function(e,t){e.countingAtStartOnly&&!t||(e.visitsShouldBeCounted&&this.IncrementVisitCountForContainer(e),e.turnIndexShouldBeCounted&&this.RecordTurnIndexVisitToContainer(e))}},{key:"VisitChangedContainersDueToDivert",value:function(){var e=this.state.previousPointer.copy(),t=this.state.currentPointer.copy();if(!t.isNull&&-1!=t.index){if(this._prevContainers.length=0,!e.isNull)for(var n=g(e.Resolve(),W)||g(e.container,W);n;)this._prevContainers.push(n),n=g(n.parent,W);var r=t.Resolve();if(null!=r)for(var o=g(r.parent,W);o&&(this._prevContainers.indexOf(o)<0||o.countingAtStartOnly);){var i=o.content.length>0&&r==o.content[0];this.VisitContainer(o,i),r=o,o=g(o.parent,W)}}}},{key:"ProcessChoice",value:function(e){var t=!0;if(e.hasCondition){var n=this.state.PopEvaluationStack();this.IsTruthy(n)||(t=!1)}var r="",o="";e.hasChoiceOnlyContent&&(o=b(this.state.PopEvaluationStack(),H).value||"");e.hasStartContent&&(r=b(this.state.PopEvaluationStack(),H).value||"");e.onceOnly&&(this.VisitCountForContainer(e.choiceTarget)>0&&(t=!1));if(!t)return null;var i=new Z;return i.targetPath=e.pathOnChoice,i.sourcePath=e.path.toString(),i.isInvisibleDefault=e.isInvisibleDefault,i.threadAtGeneration=this.state.callStack.ForkThread(),i.text=(r+o).replace(/^[ \t]+|[ \t]+$/g,""),i}},{key:"IsTruthy",value:function(e){if(e instanceof R){var t=e;if(t instanceof D){var n=t;return this.Error("Shouldn't use a divert target (to "+n.targetPath+") as a conditional value. Did you intend a function call 'likeThis()' or a read count check 'likeThis'? (no arrows)"),!1}return t.isTruthy}return!1}},{key:"PerformLogicAndFlowControl",value:function(e){if(null==e)return!1;if(e instanceof G){var t=e;if(t.isConditional){var n=this.state.PopEvaluationStack();if(!this.IsTruthy(n))return!0}if(t.hasVariableTarget){var r=t.variableDivertName,o=this.state.variablesState.GetVariableWithName(r);if(null==o)this.Error("Tried to divert using a target from a variable that could not be found ("+r+")");else if(!(o instanceof D)){var i=g(o,V),a="Tried to divert to a target from a variable, but the variable ("+r+") didn't contain a divert target, it ";i instanceof V&&0==i.value?a+="was empty/null (the value 0).":a+="contained '"+o+"'.",this.Error(a)}var s=b(o,D);this.state.divertedPointer=this.PointerAtPath(s.targetPath)}else{if(t.isExternal)return this.CallExternalFunction(t.targetPathString,t.externalArgs),!0;this.state.divertedPointer=t.targetPointer.copy()}return t.pushesToStack&&this.state.callStack.Push(t.stackPushType,void 0,this.state.outputStream.length),this.state.divertedPointer.isNull&&!t.isExternal&&(t&&t.debugMetadata&&null!=t.debugMetadata.sourceName?this.Error("Divert target doesn't exist: "+t.debugMetadata.sourceName):this.Error("Divert resolution failed: "+t)),!0}if(e instanceof U){var l=e;switch(l.commandType){case U.CommandType.EvalStart:this.Assert(!1===this.state.inExpressionEvaluation,"Already in expression evaluation?"),this.state.inExpressionEvaluation=!0;break;case U.CommandType.EvalEnd:this.Assert(!0===this.state.inExpressionEvaluation,"Not in expression evaluation mode"),this.state.inExpressionEvaluation=!1;break;case U.CommandType.EvalOutput:if(this.state.evaluationStack.length>0){var u=this.state.PopEvaluationStack();if(!(u instanceof J)){var c=new H(u.toString());this.state.PushToOutputStream(c)}}break;case U.CommandType.NoOp:break;case U.CommandType.Duplicate:this.state.PushEvaluationStack(this.state.PeekEvaluationStack());break;case U.CommandType.PopEvaluatedValue:this.state.PopEvaluationStack();break;case U.CommandType.PopFunction:case U.CommandType.PopTunnel:var h=l.commandType==U.CommandType.PopFunction?B.Function:B.Tunnel,f=null;if(h==B.Tunnel){var d=this.state.PopEvaluationStack();null===(f=g(d,D))&&this.Assert(d instanceof J,"Expected void if ->-> doesn't override target")}if(this.state.TryExitFunctionEvaluationFromGame())break;if(this.state.callStack.currentElement.type==h&&this.state.callStack.canPop)this.state.PopCallStack(),f&&(this.state.divertedPointer=this.PointerAtPath(f.targetPath));else{var p=new Map;p.set(B.Function,"function return statement (~ return)"),p.set(B.Tunnel,"tunnel onwards statement (->->)");var v=p.get(this.state.callStack.currentElement.type);this.state.callStack.canPop||(v="end of flow (-> END or choice)");var m="Found "+p.get(h)+", when expected "+v;this.Error(m)}break;case U.CommandType.BeginString:this.state.PushToOutputStream(l),this.Assert(!0===this.state.inExpressionEvaluation,"Expected to be in an expression when evaluating a string"),this.state.inExpressionEvaluation=!1;break;case U.CommandType.EndString:for(var y=[],w=0,k=this.state.outputStream.length-1;k>=0;--k){var _=this.state.outputStream[k];w++;var S=g(_,U);if(S&&S.commandType==U.CommandType.BeginString)break;_ instanceof H&&y.push(_)}this.state.PopFromOutputStream(w),y=y.reverse();var C=new E,I=!0,O=!1,N=void 0;try{for(var F,L=y[Symbol.iterator]();!(I=(F=L.next()).done);I=!0){var j=F.value;C.Append(j.toString())}}catch(e){O=!0,N=e}finally{try{I||null==L.return||L.return()}finally{if(O)throw N}}this.state.inExpressionEvaluation=!0,this.state.PushEvaluationStack(new H(C.toString()));break;case U.CommandType.ChoiceCount:var $=this.state.generatedChoices.length;this.state.PushEvaluationStack(new V($));break;case U.CommandType.Turns:this.state.PushEvaluationStack(new V(this.state.currentTurnIndex+1));break;case U.CommandType.TurnsSince:case U.CommandType.ReadCount:var q=this.state.PopEvaluationStack();if(!(q instanceof D)){var X="";q instanceof V&&(X=". Did you accidentally pass a read count ('knot_name') instead of a target ('-> knot_name')?"),this.Error("TURNS_SINCE / READ_COUNT expected a divert target (knot, stitch, label name), but saw "+q+X);break}var Z,ee=b(q,D),te=g(this.ContentAtPath(ee.targetPath).correctObj,W);null!=te?Z=l.commandType==U.CommandType.TurnsSince?this.TurnsSinceForContainer(te):this.VisitCountForContainer(te):(Z=l.commandType==U.CommandType.TurnsSince?-1:0,this.Warning("Failed to find container for "+l.toString()+" lookup at "+ee.targetPath.toString())),this.state.PushEvaluationStack(new V(Z));break;case U.CommandType.Random:var ne=g(this.state.PopEvaluationStack(),V),oe=g(this.state.PopEvaluationStack(),V);if(null==oe||oe instanceof V==!1)return this.Error("Invalid value for minimum parameter of RANDOM(min, max)");if(null==ne||oe instanceof V==!1)return this.Error("Invalid value for maximum parameter of RANDOM(min, max)");if(null===ne.value)return T("maxInt.value");if(null===oe.value)return T("minInt.value");var ie=ne.value-oe.value+1;ie<=0&&this.Error("RANDOM was called with minimum as "+oe.value+" and maximum as "+ne.value+". The maximum must be larger");var ae=this.state.storySeed+this.state.previousRandom,se=new re(ae).next(),le=se%ie+oe.value;this.state.PushEvaluationStack(new V(le)),this.state.previousRandom=se;break;case U.CommandType.SeedRandom:var ue=g(this.state.PopEvaluationStack(),V);if(null==ue||ue instanceof V==!1)return this.Error("Invalid value passed to SEED_RANDOM");if(null===ue.value)return T("minInt.value");this.state.storySeed=ue.value,this.state.previousRandom=0,this.state.PushEvaluationStack(new J);break;case U.CommandType.VisitIndex:var ce=this.VisitCountForContainer(this.state.currentPointer.container)-1;this.state.PushEvaluationStack(new V(ce));break;case U.CommandType.SequenceShuffleIndex:var he=this.NextSequenceShuffleIndex();this.state.PushEvaluationStack(new V(he));break;case U.CommandType.StartThread:break;case U.CommandType.Done:this.state.callStack.canPopThread?this.state.callStack.PopThread():(this.state.didSafeExit=!0,this.state.currentPointer=z.Null);break;case U.CommandType.End:this.state.ForceEnd();break;case U.CommandType.ListFromInt:var fe=g(this.state.PopEvaluationStack(),V),de=b(this.state.PopEvaluationStack(),H);if(null===fe)throw new A("Passed non-integer when creating a list element from a numerical value.");var pe=null;if(null===this.listDefinitions)return T("this.listDefinitions");var ve=this.listDefinitions.TryListGetDefinition(de.value,null);if(!ve.exists)throw new A("Failed to find LIST called "+de.value);if(null===fe.value)return T("minInt.value");var me=ve.result.TryGetItemWithValue(fe.value,x.Null);me.exists&&(pe=new M(me.result,fe.value)),null==pe&&(pe=new M),this.state.PushEvaluationStack(pe);break;case U.CommandType.ListRange:var ye=g(this.state.PopEvaluationStack(),R),ge=g(this.state.PopEvaluationStack(),R),be=g(this.state.PopEvaluationStack(),M);if(null===be||null===ge||null===ye)throw new A("Expected list, minimum and maximum for LIST_RANGE");if(null===be.value)return T("targetList.value");var we=be.value.ListWithSubRange(ge.valueObject,ye.valueObject);this.state.PushEvaluationStack(new M(we));break;case U.CommandType.ListRandom:var ke=this.state.PopEvaluationStack();if(null===ke)throw new A("Expected list for LIST_RANDOM");var _e=ke.value,Se=null;if(null===_e)throw T("list");if(0==_e.Count)Se=new P;else{for(var Ce=this.state.storySeed+this.state.previousRandom,Te=new re(Ce).next(),Ie=Te%_e.Count,Ee=_e.entries(),xe=0;xe<=Ie-1;xe++)Ee.next();var Pe=Ee.next().value,Ae={Key:x.fromSerializedKey(Pe[0]),Value:Pe[1]};if(null===Ae.Key.originName)return T("randomItem.Key.originName");(Se=new P(Ae.Key.originName,this)).Add(Ae.Key,Ae.Value),this.state.previousRandom=Te}this.state.PushEvaluationStack(new M(Se));break;default:this.Error("unhandled ControlCommand: "+l)}return!0}if(e instanceof K){var Oe=e,Ne=this.state.PopEvaluationStack();return this.state.variablesState.Assign(Oe,Ne),!0}if(e instanceof Y){var Re=e,Ve=null;if(null!=Re.pathForCount){var Fe=Re.containerForCount,He=this.VisitCountForContainer(Fe);Ve=new V(He)}else if(null==(Ve=this.state.variablesState.GetVariableWithName(Re.name))){var De=this.state.variablesState.TryGetDefaultVariableValue(Re.name);null!=De?(this.Warning("Variable not found in save state: '"+Re.name+"', but seems to have been newly created. Assigning value from latest ink's declaration: "+De),Ve=De,this.state.variablesState.SetGlobal(Re.name,Ve)):(this.Warning("Variable not found: '"+Re.name+"'. Using default value of 0 (false). This can happen with temporary variables if the declaration hasn't yet been hit."),Ve=new V(0))}return this.state.PushEvaluationStack(Ve),!0}if(e instanceof Q){var Le=e,Me=this.state.PopEvaluationStack(Le.numberOfParameters),je=Le.Call(Me);return this.state.PushEvaluationStack(je),!0}return!1}},{key:"ChoosePathString",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(this.IfAsyncWeCant("call ChoosePathString right now"),t)this.ResetCallstack();else if(this.state.callStack.currentElement.type==B.Function){var r="",o=this.state.callStack.currentElement.currentPointer.container;throw null!=o&&(r="("+o.path.toString()+") "),new Error("Story was running a function "+r+"when you called ChoosePathString("+e+") - this is almost certainly not not what you want! Full stack trace: \n"+this.state.callStack.callStackTrace)}this.state.PassArgumentsToEvaluationStack(n),this.ChoosePath(new y(e))}},{key:"IfAsyncWeCant",value:function(e){if(this._asyncContinueActive)throw new Error("Can't "+e+". Story is in the middle of a ContinueAsync(). Make more ContinueAsync() calls or a single Continue() call beforehand.")}},{key:"ChoosePath",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.state.SetChosenPath(e,t),this.VisitChangedContainersDueToDivert()}},{key:"ChooseChoiceIndex",value:function(e){e=e;var t=this.currentChoices;this.Assert(e>=0&&e<t.length,"choice out of range");var n=t[e];return null===n.threadAtGeneration?T("choiceToChoose.threadAtGeneration"):null===n.targetPath?T("choiceToChoose.targetPath"):(this.state.callStack.currentThread=n.threadAtGeneration,void this.ChoosePath(n.targetPath))}},{key:"HasFunction",value:function(e){try{return null!=this.KnotContainerWithName(e)}catch(e){return!1}}},{key:"EvaluateFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.IfAsyncWeCant("evaluate a function"),null==e)throw new Error("Function is null");if(""==e||""==e.trim())throw new Error("Function is empty or white space.");var r=this.KnotContainerWithName(e);if(null==r)throw new Error("Function doesn't exist: '"+e+"'");var o=[];o.push.apply(o,this.state.outputStream),this._state.ResetOutput(),this.state.StartFunctionEvaluationFromGame(r,t);for(var i=new E;this.canContinue;)i.Append(this.Continue());var a=i.toString();this._state.ResetOutput(o);var s=this.state.CompleteFunctionEvaluationFromGame();return n?{returned:s,output:a}:s}},{key:"EvaluateExpression",value:function(e){var t=this.state.callStack.elements.length;this.state.callStack.Push(B.Tunnel),this._temporaryEvaluationContainer=e,this.state.GoToStart();var n=this.state.evaluationStack.length;return this.Continue(),this._temporaryEvaluationContainer=null,this.state.callStack.elements.length>t&&this.state.PopCallStack(),this.state.evaluationStack.length>n?this.state.PopEvaluationStack():null}},{key:"CallExternalFunction",value:function(e,t){if(null===e)return T("funcName");var n=this._externals.get(e),r=null;if(!(void 0!==n)){if(this.allowExternalFunctionFallbacks)return r=this.KnotContainerWithName(e),this.Assert(null!==r,"Trying to call EXTERNAL function '"+e+"' which has not been bound, and fallback ink function could not be found."),this.state.callStack.Push(B.Function,void 0,this.state.outputStream.length),void(this.state.divertedPointer=z.StartOf(r));this.Assert(!1,"Trying to call EXTERNAL function '"+e+"' which has not been bound (and ink fallbacks disabled).")}for(var i=[],a=0;a<t;++a){var s=b(this.state.PopEvaluationStack(),R).valueObject;i.push(s)}i.reverse();var l=n(i),u=null;null!=l?(u=R.Create(l),this.Assert(null!==u,"Could not create ink value from returned object of type "+o(l))):u=new J,this.state.PushEvaluationStack(u)}},{key:"BindExternalFunctionGeneral",value:function(e,t){this.IfAsyncWeCant("bind an external function"),this.Assert(!this._externals.has(e),"Function '"+e+"' has already been bound."),this._externals.set(e,t)}},{key:"TryCoerce",value:function(e){return e}},{key:"BindExternalFunction",value:function(e,t){var n=this;this.Assert(null!=t,"Can't bind a null function"),this.BindExternalFunctionGeneral(e,(function(e){n.Assert(e.length>=t.length,"External function expected "+t.length+" arguments");for(var r=[],o=0,i=e.length;o<i;o++)r[o]=n.TryCoerce(e[o]);return t.apply(null,r)}))}},{key:"UnbindExternalFunction",value:function(e){this.IfAsyncWeCant("unbind an external a function"),this.Assert(this._externals.has(e),"Function '"+e+"' has not been bound."),this._externals.delete(e)}},{key:"ValidateExternalBindings",value:function(){var e=null,t=null,n=arguments[1]||new Set;if(arguments[0]instanceof W&&(e=arguments[0]),arguments[0]instanceof I&&(t=arguments[0]),null===e&&null===t)if(this.ValidateExternalBindings(this._mainContentContainer,n),this._hasValidatedExternals=!0,0==n.size)this._hasValidatedExternals=!0;else{var r="Error: Missing function binding for external";r+=n.size>1?"s":"",r+=": '",r+=Array.from(n).join("', '"),r+="' ",r+=this.allowExternalFunctionFallbacks?", and no fallback ink function found.":" (ink fallbacks disabled)",this.Error(r)}else if(null!=e){var o=!0,i=!1,a=void 0;try{for(var s,l=e.content[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=u;null!=c&&c.hasValidName||this.ValidateExternalBindings(u,n)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}var h=!0,f=!1,d=void 0;try{for(var p,m=e.namedContent[Symbol.iterator]();!(h=(p=m.next()).done);h=!0){var y=v(p.value,2),b=(y[0],y[1]);this.ValidateExternalBindings(g(b,I),n)}}catch(e){f=!0,d=e}finally{try{h||null==m.return||m.return()}finally{if(f)throw d}}}else if(null!=t){var w=g(t,G);if(w&&w.isExternal){var k=w.targetPathString;if(null===k)return T("name");if(!this._externals.has(k))if(this.allowExternalFunctionFallbacks){var _=this.mainContentContainer.namedContent.has(k);_||n.add(k)}else n.add(k)}}}},{key:"ObserveVariable",value:function(e,t){if(this.IfAsyncWeCant("observe a new variable"),null===this._variableObservers&&(this._variableObservers=new Map),!this.state.variablesState.GlobalVariableExistsWithName(e))throw new A("Cannot observe variable '"+e+"' because it wasn't declared in the ink story.");this._variableObservers.has(e)?this._variableObservers.get(e).push(t):this._variableObservers.set(e,[t])}},{key:"ObserveVariables",value:function(e,t){for(var n=0,r=e.length;n<r;n++)this.ObserveVariable(e[n],t[n])}},{key:"RemoveVariableObserver",value:function(e,t){if(this.IfAsyncWeCant("remove a variable observer"),null!==this._variableObservers)if(void 0!==t){if(this._variableObservers.has(t)){var n=this._variableObservers.get(t);n.splice(n.indexOf(e),1)}}else{var r=this._variableObservers.keys(),o=!0,i=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var u=s.value,c=this._variableObservers.get(u);c.splice(c.indexOf(e),1)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}},{key:"VariableStateDidChangeEvent",value:function(e,t){if(null!==this._variableObservers){var n=this._variableObservers.get(e);if(void 0!==n){if(!(t instanceof R))throw new Error("Tried to get the value of a variable that isn't a standard type");var r=b(t,R),o=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){(0,s.value)(e,r.valueObject)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}}}}},{key:"TagsForContentAtPath",value:function(e){return this.TagsAtStartOfFlowContainerWithPathString(e)}},{key:"TagsAtStartOfFlowContainerWithPathString",value:function(e){var t=new y(e),n=this.ContentAtPath(t).container;if(null===n)return T("flowContainer");for(;;){var r=n.content[0];if(!(r instanceof W))break;n=r}var o=null,i=!0,a=!1,s=void 0;try{for(var l,u=n.content[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=g(l.value,X);if(!c)break;null==o&&(o=[]),o.push(c.text)}}catch(e){a=!0,s=e}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}return o}},{key:"BuildStringOfHierarchy",value:function(){var e=new E;return this.mainContentContainer.BuildStringOfHierarchy(e,0,this.state.currentPointer.Resolve()),e.toString()}},{key:"BuildStringOfContainer",value:function(e){var t=new E;return e.BuildStringOfHierarchy(t,0,this.state.currentPointer.Resolve()),t.toString()}},{key:"NextContent",value:function(){if((this.state.previousPointer=this.state.currentPointer.copy(),this.state.divertedPointer.isNull||(this.state.currentPointer=this.state.divertedPointer.copy(),this.state.divertedPointer=z.Null,this.VisitChangedContainersDueToDivert(),this.state.currentPointer.isNull))&&!this.IncrementContentPointer()){var e=!1;this.state.callStack.CanPop(B.Function)?(this.state.PopCallStack(B.Function),this.state.inExpressionEvaluation&&this.state.PushEvaluationStack(new J),e=!0):this.state.callStack.canPopThread?(this.state.callStack.PopThread(),e=!0):this.state.TryExitFunctionEvaluationFromGame(),e&&!this.state.currentPointer.isNull&&this.NextContent()}}},{key:"IncrementContentPointer",value:function(){var e=!0,t=this.state.callStack.currentElement.currentPointer.copy();if(t.index++,null===t.container)return T("pointer.container");for(;t.index>=t.container.content.length;){e=!1;var n=g(t.container.parent,W);if(n instanceof W==!1)break;var r=n.content.indexOf(t.container);if(-1==r)break;if((t=new z(n,r)).index++,e=!0,null===t.container)return T("pointer.container")}return e||(t=z.Null),this.state.callStack.currentElement.currentPointer=t.copy(),e}},{key:"TryFollowDefaultInvisibleChoice",value:function(){var e=this._state.currentChoices,t=e.filter((function(e){return e.isInvisibleDefault}));if(0==t.length||e.length>t.length)return!1;var n=t[0];return null===n.targetPath?T("choice.targetPath"):null===n.threadAtGeneration?T("choice.threadAtGeneration"):(this.state.callStack.currentThread=n.threadAtGeneration,this.ChoosePath(n.targetPath,!1),!0)}},{key:"VisitCountForContainer",value:function(e){if(null===e)return T("container");if(!e.visitsShouldBeCounted)return console.warn("Read count for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c)."),0;var t=0,n=e.path.toString();return t=this.state.visitCounts.get(n)||t}},{key:"IncrementVisitCountForContainer",value:function(e){var t=0,n=e.path.toString();this.state.visitCounts.has(n)&&(t=this.state.visitCounts.get(n)),t++,this.state.visitCounts.set(n,t)}},{key:"RecordTurnIndexVisitToContainer",value:function(e){var t=e.path.toString();this.state.turnIndices.set(t,this.state.currentTurnIndex)}},{key:"TurnsSinceForContainer",value:function(e){e.turnIndexShouldBeCounted||this.Error("TURNS_SINCE() for target ("+e.name+" - on "+e.debugMetadata+") unknown. The story may need to be compiled with countAllVisits flag (-c).");var t=e.path.toString(),n=this.state.turnIndices.get(t);return void 0!==n?this.state.currentTurnIndex-n:-1}},{key:"NextSequenceShuffleIndex",value:function(){var e=g(this.state.PopEvaluationStack(),V);if(!(e instanceof V))return this.Error("expected number of elements in sequence for shuffle index"),0;var t=this.state.currentPointer.container;if(null===t)return T("seqContainer");if(null===e.value)return T("numElementsIntVal.value");var n=e.value,r=b(this.state.PopEvaluationStack(),V).value;if(null===r)return T("seqCount");for(var o=r/n,i=r%n,a=t.path.toString(),s=0,l=0,u=a.length;l<u;l++)s+=a.charCodeAt(l)||0;for(var c=s+o+this.state.storySeed,h=new re(Math.floor(c)),f=[],d=0;d<n;++d)f.push(d);for(var p=0;p<=i;++p){var v=h.next()%f.length,m=f[v];if(f.splice(v,1),p==i)return m}throw new Error("Should never reach here")}},{key:"Error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new A(e);throw n.useEndLineNumber=t,n}},{key:"Warning",value:function(e){this.AddError(e,!0)}},{key:"AddError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.currentDebugMetadata,o=t?"WARNING":"ERROR";if(null!=r){var i=n?r.endLineNumber:r.startLineNumber;e="RUNTIME "+o+": '"+r.fileName+"' line "+i+": "+e}else e=this.state.currentPointer.isNull?"RUNTIME "+o+": "+e:"RUNTIME "+o+": ("+this.state.currentPointer+"): "+e;this.state.AddError(e,t),t||this.state.ForceEnd()}},{key:"Assert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(0==e)throw null==t&&(t="Story assert"),new Error(t+" "+this.currentDebugMetadata)}},{key:"currentChoices",get:function(){var e=[];if(null===this._state)return T("this._state");var t=!0,n=!1,r=void 0;try{for(var o,i=this._state.currentChoices[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a.isInvisibleDefault||(a.index=e.length,e.push(a))}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"currentText",get:function(){return this.IfAsyncWeCant("call currentText since it's a work in progress"),this.state.currentText}},{key:"currentTags",get:function(){return this.IfAsyncWeCant("call currentTags since it's a work in progress"),this.state.currentTags}},{key:"currentErrors",get:function(){return this.state.currentErrors}},{key:"currentWarnings",get:function(){return this.state.currentWarnings}},{key:"hasError",get:function(){return this.state.hasError}},{key:"hasWarning",get:function(){return this.state.hasWarning}},{key:"variablesState",get:function(){return this.state.variablesState}},{key:"listDefinitions",get:function(){return this._listDefinitions}},{key:"state",get:function(){return this._state}},{key:"canContinue",get:function(){return this.state.canContinue}},{key:"asyncContinueComplete",get:function(){return!this._asyncContinueActive}},{key:"globalTags",get:function(){return this.TagsAtStartOfFlowContainerWithPathString("")}},{key:"currentDebugMetadata",get:function(){var e,t=this.state.currentPointer;if(!t.isNull&&null!==t.Resolve()&&null!==(e=t.Resolve().debugMetadata))return e;for(var n=this.state.callStack.elements.length-1;n>=0;--n)if(!(t=this.state.callStack.elements[n].currentPointer).isNull&&null!==t.Resolve()&&null!==(e=t.Resolve().debugMetadata))return e;for(var r=this.state.outputStream.length-1;r>=0;--r){if(null!==(e=this.state.outputStream[r].debugMetadata))return e}return null}},{key:"mainContentContainer",get:function(){return this._temporaryEvaluationContainer?this._temporaryEvaluationContainer:this._mainContentContainer}}]),t}(I);!function(e){!function(e){e[e.NoChange=0]="NoChange",e[e.ExtendedBeyondNewline=1]="ExtendedBeyondNewline",e[e.NewlineRemoved=2]="NewlineRemoved"}(e.OutputStateChange||(e.OutputStateChange={}))}(ue||(ue={}))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,u=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&d())}function d(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||c||s(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(21),a=n.n(i);function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var l=n(1),u=n.n(l),c=u.a.shape({trySubscribe:u.a.func.isRequired,tryUnsubscribe:u.a.func.isRequired,notifyNestedSubs:u.a.func.isRequired,isSubscribed:u.a.func.isRequired}),h=u.a.shape({subscribe:u.a.func.isRequired,dispatch:u.a.func.isRequired,getState:u.a.func.isRequired});o.a.forwardRef;var f=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",o=function(t){s(i,t);var o=i.prototype;function i(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return o.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},o.render=function(){return r.Children.only(this.props.children)},i}(r.Component);return o.propTypes={store:h.isRequired,children:u.a.element.isRequired},o.childContextTypes=((t={})[e]=h.isRequired,t[n]=c,t),o}();function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var m=n(6),y=n.n(m),g=n(7),b=n.n(g),w=n(5),k={notify:function(){}};var _=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=k}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&null!==e&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=k)},e}(),S=void 0!==o.a.forwardRef,C=0,T={};function I(){}function E(e,t){var n,o;void 0===t&&(t={});var i=t,a=i.getDisplayName,l=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=i.methodName,f=void 0===u?"connectAdvanced":u,m=i.renderCountProp,g=void 0===m?void 0:m,k=i.shouldHandleStateChanges,E=void 0===k||k,x=i.storeKey,P=void 0===x?"store":x,A=i.withRef,O=void 0!==A&&A,N=v(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=P+"Subscription",V=C++,F=((n={})[P]=h,n[R]=c,n),H=((o={})[R]=c,o);return function(t){b()(Object(w.isValidElementType)(t),"You must pass a component to the function returned by "+f+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",o=l(n),i=p({},N,{getDisplayName:l,methodName:f,renderCountProp:g,shouldHandleStateChanges:E,storeKey:P,withRef:O,displayName:o,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){var r;return(r=n.call(this,e,t)||this).version=V,r.state={},r.renderCount=0,r.store=e[P]||t[P],r.propsMode=Boolean(e[P]),r.setWrappedInstance=r.setWrappedInstance.bind(d(d(r))),b()(r.store,'Could not find "'+P+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+P+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}s(a,n);var l=a.prototype;return l.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[R]=t||this.context[R],e},l.componentDidMount=function(){E&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(e){this.selector.run(e)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=I,this.store=null,this.selector.run=I,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return b()(O,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+f+"() call."),this.wrappedInstance},l.setWrappedInstance=function(e){this.wrappedInstance=e},l.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(E){var e=(this.propsMode?this.props:this.context)[R];this.subscription=new _(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(T)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(e){if(!(O||g||this.propsMode&&this.subscription))return e;var t=p({},e);return O&&(t.ref=this.setWrappedInstance),g&&(t[g]=this.renderCount++),this.propsMode&&this.subscription&&(t[R]=this.subscription),t},l.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},a}(r.Component);return S&&(a.prototype.UNSAFE_componentWillReceiveProps=a.prototype.componentWillReceiveProps,delete a.prototype.componentWillReceiveProps),a.WrappedComponent=t,a.displayName=o,a.childContextTypes=H,a.contextTypes=F,a.propTypes=F,y()(a,t)}}var x=Object.prototype.hasOwnProperty;function P(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function A(e,t){if(P(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!x.call(t,n[o])||!P(e[n[o]],t[n[o]]))return!1;return!0}var O=n(4);function N(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function R(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function V(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=R(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=R(o),o=r(t,n)),o},r}}var F=[function(e){return"function"==typeof e?V(e):void 0},function(e){return e?void 0:N((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?N((function(t){return Object(O.bindActionCreators)(e,t)})):void 0}];var H=[function(e){return"function"==typeof e?V(e):void 0},function(e){return e?void 0:N((function(){return{}}))}];function D(e,t,n){return p({},n,e,t)}var L=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return D}}];function M(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function j(e,t,n,r,o){var i,a,s,l,u,c=o.areStatesEqual,h=o.areOwnPropsEqual,f=o.areStatePropsEqual,d=!1;function p(o,d){var p,v,m=!h(d,a),y=!c(o,i);return i=o,a=d,m&&y?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):m?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),u=n(s,l,a)):y?(p=e(i,a),v=!f(p,s),s=p,v&&(u=n(s,l,a)),u):u}return function(o,c){return d?p(o,c):(s=e(i=o,a=c),l=t(r,a),u=n(s,l,a),d=!0,u)}}function W(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=v(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?j:M)(a,s,l,e,i)}function B(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function $(e,t){return e===t}var U,z,G,q,Y,K,J,Q,X,Z,ee,te;G=(z=void 0===U?{}:U).connectHOC,q=void 0===G?E:G,Y=z.mapStateToPropsFactories,K=void 0===Y?H:Y,J=z.mapDispatchToPropsFactories,Q=void 0===J?F:J,X=z.mergePropsFactories,Z=void 0===X?L:X,ee=z.selectorFactory,te=void 0===ee?W:ee,n(36);function ne(e){return"/"===e.charAt(0)}function re(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var oe=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&ne(e),a=t&&ne(t),s=i||a;if(e&&ne(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var u=0,c=o.length;c>=0;c--){var h=o[c];"."===h?re(o,c):".."===h?(re(o,c),u++):u&&(re(o,c),u--)}if(!s)for(;u--;u)o.unshift("..");!s||""===o[0]||o[0]&&ne(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};var ie=function(e,t){if(!e)throw new Error("Invariant failed")};function ae(e){return"/"===e.charAt(0)?e:"/"+e}function se(e){return"/"===e.charAt(0)?e.substr(1):e}function le(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function ue(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function ce(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function he(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=p({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=oe(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function fe(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,o):o(!0):o(!1!==i)}else o(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var de=!("undefined"==typeof window||!window.document||!window.document.createElement);function pe(e,t){t(window.confirm(e))}function ve(){try{return window.history.state||{}}catch(e){return{}}}function me(e){void 0===e&&(e={}),de||ie(!1);var t,n=window.history,r=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,o=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,s=void 0!==a&&a,l=i.getUserConfirmation,u=void 0===l?pe:l,c=i.keyLength,h=void 0===c?6:c,f=e.basename?ue(ae(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,o=window.location,i=o.pathname+o.search+o.hash;return f&&(i=le(i,f)),he(i,r,n)}function v(){return Math.random().toString(36).substr(2,h)}var m=fe();function y(e){p(P,e),P.length=n.length,m.notifyListeners(P.location,P.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||k(d(e.state))}function b(){k(d(ve()))}var w=!1;function k(e){if(w)w=!1,y();else{m.confirmTransitionTo(e,"POP",u,(function(t){t?y({action:"POP",location:e}):function(e){var t=P.location,n=S.indexOf(t.key);-1===n&&(n=0);var r=S.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(w=!0,T(o))}(e)}))}}var _=d(ve()),S=[_.key];function C(e){return f+ce(e)}function T(e){n.go(e)}var I=0;function E(e){1===(I+=e)&&1===e?(window.addEventListener("popstate",g),o&&window.addEventListener("hashchange",b)):0===I&&(window.removeEventListener("popstate",g),o&&window.removeEventListener("hashchange",b))}var x=!1;var P={length:n.length,action:"POP",location:_,createHref:C,push:function(e,t){var o=he(e,t,v(),P.location);m.confirmTransitionTo(o,"PUSH",u,(function(e){if(e){var t=C(o),i=o.key,a=o.state;if(r)if(n.pushState({key:i,state:a},null,t),s)window.location.href=t;else{var l=S.indexOf(P.location.key),u=S.slice(0,l+1);u.push(o.key),S=u,y({action:"PUSH",location:o})}else window.location.href=t}}))},replace:function(e,t){var o=he(e,t,v(),P.location);m.confirmTransitionTo(o,"REPLACE",u,(function(e){if(e){var t=C(o),i=o.key,a=o.state;if(r)if(n.replaceState({key:i,state:a},null,t),s)window.location.replace(t);else{var l=S.indexOf(P.location.key);-1!==l&&(S[l]=o.key),y({action:"REPLACE",location:o})}else window.location.replace(t)}}))},go:T,goBack:function(){T(-1)},goForward:function(){T(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return x||(E(1),x=!0),function(){return x&&(x=!1,E(-1)),t()}},listen:function(e){var t=m.appendListener(e);return E(1),function(){E(-1),t()}}};return P}var ye={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+se(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:se,decodePath:ae},slash:{encodePath:ae,decodePath:ae}};function ge(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function be(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function we(e){window.location.replace(ge(window.location.href)+"#"+e)}function ke(e){void 0===e&&(e={}),de||ie(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,o=void 0===r?pe:r,i=n.hashType,a=void 0===i?"slash":i,s=e.basename?ue(ae(e.basename)):"",l=ye[a],u=l.encodePath,c=l.decodePath;function h(){var e=c(be());return s&&(e=le(e,s)),he(e)}var f=fe();function d(e){p(I,e),I.length=t.length,f.notifyListeners(I.location,I.action)}var v=!1,m=null;function y(){var e,t,n=be(),r=u(n);if(n!==r)we(r);else{var i=h(),a=I.location;if(!v&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(m===ce(i))return;m=null,function(e){if(v)v=!1,d();else{f.confirmTransitionTo(e,"POP",o,(function(t){t?d({action:"POP",location:e}):function(e){var t=I.location,n=k.lastIndexOf(ce(t));-1===n&&(n=0);var r=k.lastIndexOf(ce(e));-1===r&&(r=0);var o=n-r;o&&(v=!0,_(o))}(e)}))}}(i)}}var g=be(),b=u(g);g!==b&&we(b);var w=h(),k=[ce(w)];function _(e){t.go(e)}var S=0;function C(e){1===(S+=e)&&1===e?window.addEventListener("hashchange",y):0===S&&window.removeEventListener("hashchange",y)}var T=!1;var I={length:t.length,action:"POP",location:w,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=ge(window.location.href)),n+"#"+u(s+ce(e))},push:function(e,t){var n=he(e,void 0,void 0,I.location);f.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=ce(n),r=u(s+t);if(be()!==r){m=t,function(e){window.location.hash=e}(r);var o=k.lastIndexOf(ce(I.location)),i=k.slice(0,o+1);i.push(t),k=i,d({action:"PUSH",location:n})}else d()}}))},replace:function(e,t){var n=he(e,void 0,void 0,I.location);f.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=ce(n),r=u(s+t);be()!==r&&(m=t,we(r));var o=k.indexOf(ce(I.location));-1!==o&&(k[o]=t),d({action:"REPLACE",location:n})}}))},go:_,goBack:function(){_(-1)},goForward:function(){_(1)},block:function(e){void 0===e&&(e=!1);var t=f.setPrompt(e);return T||(C(1),T=!0),function(){return T&&(T=!1,C(-1)),t()}},listen:function(e){var t=f.appendListener(e);return C(1),function(){C(-1),t()}}};return I}function _e(e,t,n){return Math.min(Math.max(e,t),n)}function Se(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,r=t.initialEntries,o=void 0===r?["/"]:r,i=t.initialIndex,a=void 0===i?0:i,s=t.keyLength,l=void 0===s?6:s,u=fe();function c(e){p(y,e),y.length=y.entries.length,u.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,l)}var f=_e(a,0,o.length-1),d=o.map((function(e){return he(e,void 0,"string"==typeof e?h():e.key||h())})),v=ce;function m(e){var t=_e(y.index+e,0,y.entries.length-1),r=y.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?c({action:"POP",location:r,index:t}):c()}))}var y={length:d.length,action:"POP",location:d[f],index:f,entries:d,createHref:v,push:function(e,t){var r=he(e,t,h(),y.location);u.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),c({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=he(e,t,h(),y.location);u.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(y.entries[y.index]=r,c({action:"REPLACE",location:r}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return y}var Ce=n(17),Te=n.n(Ce),Ie=n(24),Ee=n.n(Ie);function xe(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var Pe=o.a.createContext||function(e,t){var n,o,i="__create-react-context-"+Ee()()+"__",a=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=xe(t.props.value),t}Te()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(a=o)?0!==i||1/i==1/a:i!=i&&a!=a)?n=0:(n="function"==typeof t?t(r,o):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var i,a},r.render=function(){return this.props.children},n}(r.Component);a.childContextTypes=((n={})[i]=u.a.object.isRequired,n);var s=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Te()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?1073741823:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?1073741823:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return s.contextTypes=((o={})[i]=u.a.object,o),{Provider:a,Consumer:s}},Ae=n(18),Oe=n.n(Ae),Ne=function(e){var t=Pe();return t.displayName=e,t}("Router"),Re=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}s(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(Ne.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(o.a.Component);o.a.Component;o.a.Component;var Ve={},Fe=0;function He(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,a=n.strict,s=void 0!==a&&a,l=n.sensitive,u=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=Ve[n]||(Ve[n]={});if(r[e])return r[e];var o=[],i={regexp:Oe()(e,o,t),keys:o};return Fe<1e4&&(r[e]=i,Fe++),i}(n,{end:i,strict:s,sensitive:u}),o=r.regexp,a=r.keys,l=o.exec(e);if(!l)return null;var c=l[0],h=l.slice(1),f=e===c;return i&&!f?null:{path:n,url:"/"===n&&""===c?"/":c,isExact:f,params:a.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}var De=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(Ne.Consumer,null,(function(t){t||ie(!1);var n=e.props.location||t.location,r=p({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?He(n.pathname,e.props):t.match}),i=e.props,a=i.children,s=i.component,l=i.render;return Array.isArray(a)&&0===a.length&&(a=null),o.a.createElement(Ne.Provider,{value:r},r.match?a?"function"==typeof a?a(r):a:s?o.a.createElement(s,r):l?l(r):null:"function"==typeof a?a(r):null)}))},t}(o.a.Component);function Le(e){return"/"===e.charAt(0)?e:"/"+e}function Me(e,t){if(!e)return t;var n=Le(e);return 0!==t.pathname.indexOf(n)?t:p({},t,{pathname:t.pathname.substr(n.length)})}function je(e){return"string"==typeof e?e:ce(e)}function We(e){return function(){ie(!1)}}function Be(){}o.a.Component;var $e=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(Ne.Consumer,null,(function(t){t||ie(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?He(i.pathname,p({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext;var Ue=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=me(t.props),t}return s(t,e),t.prototype.render=function(){return o.a.createElement(Re,{history:this.history,children:this.props.children})},t}(o.a.Component);o.a.Component;var ze=function(e,t){return"function"==typeof e?e(t):e},Ge=function(e,t){return"string"==typeof e?he(e,null,null,t):e},qe=function(e){return e},Ye=o.a.forwardRef;void 0===Ye&&(Ye=qe);var Ke=Ye((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,a=v(e,["innerRef","navigate","onClick"]),s=a.target,l=p({},a,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=qe!==Ye&&t||n,o.a.createElement("a",l)}));var Je=Ye((function(e,t){var n=e.component,r=void 0===n?Ke:n,i=e.replace,a=e.to,s=e.innerRef,l=v(e,["component","replace","to","innerRef"]);return o.a.createElement(Ne.Consumer,null,(function(e){e||ie(!1);var n=e.history,u=Ge(ze(a,e.location),e.location),c=u?n.createHref(u):"",h=p({},l,{href:c,navigate:function(){var t=ze(a,e.location);(i?n.replace:n.push)(t)}});return qe!==Ye?h.ref=t||s:h.innerRef=s,o.a.createElement(r,h)}))})),Qe=function(e){return e},Xe=o.a.forwardRef;void 0===Xe&&(Xe=Qe);Xe((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,a=void 0===i?"active":i,s=e.activeStyle,l=e.className,u=e.exact,c=e.isActive,h=e.location,f=e.strict,d=e.style,m=e.to,y=e.innerRef,g=v(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to","innerRef"]);return o.a.createElement(Ne.Consumer,null,(function(e){e||ie(!1);var n=h||e.location,i=Ge(ze(m,n),n),v=i.pathname,b=v&&v.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?He(n.pathname,{path:b,exact:u,strict:f}):null,k=!!(c?c(w,n):w),_=k?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(l,a):l,S=k?p({},d,{},s):d,C=p({"aria-current":k&&r||null,className:_,style:S,to:i},g);return Qe!==Xe?C.ref=t||y:C.innerRef=y,o.a.createElement(Je,C)}))})),n(37);function Ze(e){return(Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return!t||"object"!==Ze(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var it=function(e){function t(){return et(this,t),nt(this,rt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"play"))}}])&&tt(n.prototype,r),i&&tt(n,i),t}(r.Component);n(38);function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var st=n(20),lt=function(){var e=at(Object(r.useState)("stories"),2),t=e[0],n=e[1];return st("/api/stories/").then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),n(e.toString())})),o.a.createElement("div",null,o.a.createElement("h2",null,"stories: ",t))};n(39);function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ft(e,t){return!t||"object"!==ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dt(e){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pt(e,t){return(pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var vt=function(e){function t(){return ct(this,t),ft(this,dt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"guide"},o.a.createElement("h2",null,"Author’s Guide for ",o.a.createElement("span",null,"VicStories")),o.a.createElement("p",null," "),o.a.createElement("p",null,"The Ink language is very flexible, and you should feel free to use anything in it you like. There is a short authoring guide at ",o.a.createElement("a",{href:"https://www.inklestudios.com/ink/web-tutorial/"},"https://www.inklestudios.com/ink/web-tutorial/"),"and a much more complete one at ",o.a.createElement("a",{href:"https://github.com/inkle/ink/blob/master/Documentation/WritingWithInk.md"},"https://github.com/inkle/ink/blob/master/Documentation/WritingWithInk.md")),o.a.createElement("p",null,"There will eventually be a nice editor on this page and you won't have to go anywhere else to author a story. We're not quite there, yet, though. In the meantime I would suggest downloading the Inky authoring tool from here: ",o.a.createElement("a",{href:"https://github.com/inkle/inky"},"https://github.com/inkle/inky")," and then emailing in your stories to be added to the website. We'll get the kinks worked out and then make it easier."),o.a.createElement("p",null,"In order to fit within the confines of our application, though, we will need to define some standardized behaviour, ",o.a.createElement("span",null,"and also")," some rules for how to add images, etc."),o.a.createElement("p",null,"The first standards are some set variables. The most important being location. We will have to have a set list of locations by the time we ship, and there will be a little bit of work to add new locations. Locations will be found in a global variable named “Place” which will take a string. Please send mail to ",o.a.createElement("a",{href:"mailto:vicstories@lists.uvic.ca"},"vicstories@lists.uvic.ca")," to have any places added."),o.a.createElement("p",null,"Let’s start with the following:"),o.a.createElement("p",null,"“",o.a.createElement("span",null,"cityhall"),"” city hall"),o.a.createElement("p",null,"“interactivity” Interactivity board games café"),o.a.createElement("p",null,"“",o.a.createElement("span",null,"victheater"),"” the Vic theater"),o.a.createElement("p",null,"“cineplex” the Cineplex Odeon"),o.a.createElement("p",null,"“capitol6” the capitol 6"),o.a.createElement("p",null,"“",o.a.createElement("span",null,"VFFoffice"),"” the VFF office"),o.a.createElement("p",null,"We will certainly add some additional locations, but this set will allow the testing of stories within a close area to make initial authoring easier."),o.a.createElement("p",null,"The next variables are to do with some general preferences. We want users to be able to decide how to interact with the stories globally rather than for each story. Most of these will not apply to people playing on the website since we are limited in what we can do there."),o.a.createElement("p",null,"“Notify” has the options “never”, “app open”, and “always” which determines whether the user wants a notification when new story content becomes available. For instance, if story content triggers on proximity to city hall, will just walking pass cause an alert? Or will you need to have the app in the foreground to see that something has happened."),o.a.createElement("p",null,"“Location” has the options “auto” and “manual”. This is to allow players on mobile devices to set their location via a checkbox if they want to play the whole game from one location. This is a variable because as a story author you are welcome to hide things that are ONLY visible from a place, but in general you should make everything available to lazy players."),o.a.createElement("p",null,"“Sound” has the options “sound” and “silent”. It is not clear how much use of sound stories will provide, but this is to allow for the option."),o.a.createElement("p",null,"Each image or sound in a story will have to be uploaded with the story. In order to make organization of this easier, there will be a form on the author page asking for several pieces of information. The first is the story name, this should be a one-word unique name to identify the story. This will not be shown to players. For instance, if I am writing a story about a dog and a ",o.a.createElement("span",null,"boy")," I might choose ",o.a.createElement("span",null,"dogandboy"),"as my unique name. This name is to be used for all submission for this story. The mandatory pieces are a text file that contains the summary information for the story:"),o.a.createElement("p",null,"Title – the full title of the story, as seen by the user"),o.a.createElement("p",null,"Summary – a short summary of the story. Something to get the viewer hooked."),o.a.createElement("p",null,"Movie – the movie that inspired the story (NB this field will be hidden on the website until after the Jan.18 movie announcements)"),o.a.createElement("p",null,"Author – the name (or names) of the author of the story"),o.a.createElement("p",null,"The story itself will be in an “ink” file. This is a text file that contains the source for the story."),o.a.createElement("p",null,"The story must also be delivered in a compiled form as a json file."),o.a.createElement("p",null,"Finally, any images or sound files should be numbered sequentially – dogandboy1.jpg, dogandboy2.jpg, dogandboy1.mp3, etc."),o.a.createElement("p",null,"When the authoring portion of the webpage is finished there will be a form for the summary, and editor for the story, and an upload for the images and sounds that will make these naming decisions automatic."),o.a.createElement("p",null," "))}}])&&ht(n.prototype,r),i&&ht(n,i),t}(r.Component),mt=(n(40),n.p+"src/images/device.75fc42b69757dba7d9ab5c9e28cb09d9.jpg");function yt(e){return(yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return!t||"object"!==yt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var St=function(e){function t(){return gt(this,t),wt(this,kt(t).apply(this,arguments))}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_t(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return o.a.createElement("div",{className:"intro"},o.a.createElement("h2",null,"intro"),o.a.createElement("p",null,"Do you remember the choose-your-own-adventure books you read as a kid? They have grown into a genre of literature called Interactive Fiction. Students at the University of Victoria have been working on interactive fiction projects about the films in this year's Victoria Film Festival. These stories can be experienced in your web browser, or even better on your cellphone. When on your phone they can use your location as an element in the stories, creating a simple form of Augmented Reality. You can even author your own stories."),o.a.createElement("p",null,"To get started, click on the Play Stories link above. When you have played a few try writing one of your own!"),o.a.createElement("p",null,"When playing a story on the web, there will be a checkbox to allow you tell the story where you are. When playing on the phone, though, the small devices you see below will allow your phone to get a signal telling it you are in a special location and story information specific to that place can be shown! These devices can run for a month or two on the rechargeable battery and are small enough to be stuck pretty much anywhere."),o.a.createElement("img",{src:mt,className:"device_image",alt:"device"}))}}])&&bt(n.prototype,r),i&&bt(n,i),t}(r.Component),Ct=n.p+"0d95f25ec06db29585f602323caa47bf.svg";n(41);var Tt=function(){return o.a.createElement(Ue,null,o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement(Je,{to:"/",className:"nav-link"},o.a.createElement("img",{src:Ct,className:"App-logo",alt:"logo"})),o.a.createElement("h2",null,"  Welcome to Victoria Stories"),o.a.createElement("nav",{className:"navbar navbar-light bg-light"},o.a.createElement("ul",{className:"navbar-nav mr-auto App-link"},o.a.createElement("li",null,o.a.createElement(Je,{to:"/stories",className:"nav-link"},"Play Stories")),o.a.createElement("li",null,o.a.createElement(Je,{to:"/author",className:"nav-link"},"Author your own"))))),o.a.createElement($e,null,o.a.createElement(De,{exact:!0,path:"/",component:St}),o.a.createElement(De,{exact:!0,path:"/play",component:it}),o.a.createElement(De,{path:"/stories",component:lt}),o.a.createElement(De,{path:"/author",component:vt}))))},It=n(25),Et=n(26),xt=n(43).Story;n(20),new xt(Et);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var Rt={ending:!1},Vt=Object(O.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=Nt(t,["type"]);switch(n){case"MAKE_CHOICE":return At({},e,{},r);default:return e}}),Rt,Object(It.devToolsEnhancer)()),Ft=n(27);a.a.render(o.a.createElement(f,{store:Vt},o.a.createElement(Tt,null)),document.getElementById("root")),Ft.a()}]);